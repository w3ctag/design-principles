<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>Web Platform Design Principles</title>
  <meta content="NOTE-ED" name="w3c-status">
  <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-ED" rel="stylesheet">
  <meta content="Bikeshed version 3c53a5b02, updated Thu Nov 27 17:03:30 2025 +0000" name="generator">
  <link href="https://www.w3.org/TR/design-principles/" rel="canonical">
  <link href="https://www.w3.org/2008/site/images/favicon.ico" rel="icon">
  <meta content="82069d7bf8f452f707bfe582e9d3c527173e9888" name="revision">
  <meta content="dark light" name="color-scheme">
  <link href="https://www.w3.org/StyleSheets/TR/2021/dark.css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css">
<style>
    table.data {
        text-align: left;
        font-size: small;
    }
</style>
<style>/* Boilerplate: style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}
</style>
<style>/* Boilerplate: style-colors */
/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
</style>
<style>/* Boilerplate: style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example " counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
    --dfnpanel-target-bg: #ffc;
    --dfnpanel-target-outline: orange;
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
        --dfnpanel-target-bg: #333;
        --dfnpanel-target-outline: silver;
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel a:focus {
    outline: 5px auto Highlight;
    outline: 5px auto -webkit-focus-ring-color;
}
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: 8px;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
    transition: left 1s ease-out, bottom 1s ease-out;
}

.dfn-panel .link-item:hover {
    text-decoration: underline;
}
.dfn-panel .link-item .copy-icon {
    opacity: 0;
}
.dfn-panel .link-item:hover .copy-icon,
.dfn-panel .link-item .copy-icon:focus {
    opacity: 1;
}

.dfn-panel .copy-icon {
    display: inline-block;
    margin-right: 0.5em;
    width: 0.85em;
    height: 1em;
    border-radius: 3px;
    background-color: #ccc;
    cursor: pointer;
}

.dfn-panel .copy-icon .icon {
    width: 100%;
    height: 100%;
    background-color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
}

.dfn-panel .copy-icon .icon::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 1px solid black;
    background-color: #ccc;
    opacity: 0.25;
    transform: translate(3px, -3px);
}

.dfn-panel .copy-icon:active .icon::before {
    opacity: 1;
}

.dfn-paneled[role="button"] { cursor: help; }

.highlighted {
    animation: target-fade 3s;
}

@keyframes target-fade {
    from {
        background-color: var(--dfnpanel-target-bg);
        outline: 5px solid var(--dfnpanel-target-outline);
    }
    to {
        color: var(--a-normal-text);
        background-color: transparent;
        outline: transparent;
    }
}
</style>
<style>/* Boilerplate: style-idl-highlighting */
pre.idl.highlight {
    background: var(--borderedblock-bg, var(--def-bg));
}
</style>
<style>/* Boilerplate: style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* Boilerplate: style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* Boilerplate: style-ref-hints */
:root {
    --ref-hint-bg: #ddd;
    --ref-hint-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --ref-hint-bg: #222;
        --ref-hint-text: var(--text);
    }
}

.ref-hint {
    display: inline-block;
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.5em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--ref-hint-bg);
    color: var(--ref-hint-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}

.ref-hint * { margin: 0; padding: 0; text-indent: 0; }

.ref-hint ul { padding: 0 0 0 1em; list-style: none; }
</style>
<style>/* Boilerplate: style-selflinks */
:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* Boilerplate: style-syntax-highlighting */
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */

@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/">
    <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72">
</a>
</p>
   <h1 class="no-ref p-name" id="title">Web Platform Design Principles</h1>
   <p id="w3c-state"><a href="https://www.w3.org/standards/types/#ED">Editor’s Draft</a>,
    <time class="dt-updated" datetime="2025-12-02">2 December 2025</time></p>
   <details open>
    <summary>More details about this document</summary>
    <div data-fill-with="spec-metadata">
     <dl>
      <dt>This version:
      <dd><a class="u-url" href="https://w3ctag.github.io/design-principles/">https://w3ctag.github.io/design-principles/</a>
      <dt>Latest published version:
      <dd><a href="https://www.w3.org/TR/design-principles/">https://www.w3.org/TR/design-principles/</a>
      <dt>Feedback:
      <dd><a href="https://github.com/w3ctag/design-principles/issues/">GitHub</a>
      <dt class="editor">Editors:
      <dd class="editor h-card p-author vcard" data-editor-id="68503"><a class="fn p-name u-url url" href="https://lowentropy.net/">Martin Thomson</a> (<a class="org p-org" href="https://www.mozilla.org/">Mozilla</a>)
      <dd class="editor h-card p-author vcard" data-editor-id="72192"><span class="fn p-name">Jeffrey Yasskin</span> (<a class="org p-org" href="https://www.google.com/">Google</a>)
      <dt class="editor">Former Editors:
      <dd class="editor h-card p-author vcard" data-editor-id="52258"><a class="fn p-name u-url url" href="https://lea.verou.me">Lea Verou</a> (<span class="org p-org">Invited Expert</span>)
      <dd class="editor h-card p-author vcard" data-editor-id="42399"><a class="fn p-name u-url url" href="https://sangwhan.com">Sangwhan Moon</a> (<a class="org p-org" href="https://www.google.com/">Google</a>)
      <dd class="editor h-card p-author vcard"><a class="fn p-name u-url url" href="https://domenic.me/">Domenic Denicola</a> (<a class="org p-org" href="https://www.google.com/">Google</a>) <a class="email u-email" href="mailto:d@domenic.me">d@domenic.me</a>
      <dd class="editor h-card p-author vcard"><a class="email fn p-name u-email" href="mailto:travil@microsoft.com">Travis Leithead</a> (<span class="org p-org">Microsoft</span>)
      <dt>By:
      <dd><a href="https://www.w3.org/2001/tag/">Members of the TAG</a>, past and present
      <dt>Participate:
      <dd><a href="https://github.com/w3ctag/design-principles">GitHub w3ctag/design-principles</a> (<a href="https://github.com/w3ctag/design-principles/issues/new">file an issue</a>; <a href="https://github.com/w3ctag/design-principles/issues?state=open">open issues</a>)
     </dl>
    </div>
   </details>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> © 2025 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>, <a href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and <a href="https://www.w3.org/copyright/software-license/" rel="license" title="W3C Software and Document License">permissive document license</a> rules apply.
</p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="heading no-num no-ref no-toc settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>This document contains a set of design principles to be used when designing web platform technologies. These principles have been collected during the Technical Architecture Group’s discussions in <a href="https://github.com/w3ctag/design-reviews/">reviewing</a> developing specifications, and build upon the Ethical Web Principles <a data-link-type="biblio" href="#biblio-ethical-web-principles" title="Ethical Web Principles">[ethical-web-principles]</a>. We encourage specification designers to read this document and use it as a resource when making design decisions.</p>
  </div>
  <h2 class="heading no-num no-ref no-toc settled" id="sotd"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p>
    <em>This section describes the status of this document at the time of its
    publication. A list of current
    <abbr title="World Wide Web Consortium">W3C</abbr> publications and the
    latest revision of this technical report can be found in the <a href="https://www.w3.org/TR/"><abbr title="World Wide Web
    Consortium">W3C</abbr> standards and drafts index</a>.</em>
  </p>
   <p>
    This document was published by the <a href="https://www.w3.org/groups/other/tag/">Technical Architecture Group</a>
    as an Editor’s Draft intended for the Note track.
    This is a draft document and
    may be updated, replaced, or obsoleted by other documents at any time.
    It is inappropriate to cite this document as other than a work in progress.
    Editor’s Drafts are not endorsed by <abbr title="World Wide Web
    Consortium">W3C</abbr> nor its Members.
  </p>
   <p></p>
   <p>
    Feedback and comments on this document are welcome. Please
    <a href="https://github.com/w3ctag/design-principles/issues">file an issue</a>
    in this document’s
    <a href="https://github.com/w3ctag/design-principles/">GitHub repository</a>.
  </p>
   <p data-deliverer="34270">
    The <a href="https://www.w3.org/policies/patent-policy/"><abbr title="World
    Wide Web Consortium">W3C</abbr> Patent Policy</a> does not carry any
    licensing requirements or commitments on this document.
  </p>
   <p>
    This document is governed by the <a href="https://www.w3.org/policies/process/20250818/" id="w3c_process_revision">18 August 2025 W3C
    Process Document</a>.
  </p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-ref no-toc" id="contents">Table of Contents</h2>
   <ol class="toc">
    <li>
     <a href="#basic-principles"><span class="secno">1</span> <span class="content">Principles behind design of Web APIs</span></a>
     <ol class="toc">
      <li><a href="#priority-of-constituencies"><span class="secno">1.1</span> <span class="content">Put user needs first (Priority of Constituencies)</span></a>
      <li><a href="#safe-to-browse"><span class="secno">1.2</span> <span class="content">It should be safe to visit a web page</span></a>
      <li><a href="#trusted-ui"><span class="secno">1.3</span> <span class="content">Trusted user interface should be trustworthy</span></a>
      <li>
       <a href="#user-intent"><span class="secno">1.4</span> <span class="content">Design for user intent</span></a>
       <ol class="toc">
        <li><a href="#user-decisions"><span class="secno">1.4.1</span> <span class="content">Help users make good decisions</span></a>
       </ol>
      <li><a href="#identity"><span class="secno">1.5</span> <span class="content">Use identity appropriately in context</span></a>
      <li><a href="#devices-platforms"><span class="secno">1.6</span> <span class="content">Support the full range of devices and platforms (Media Independence)</span></a>
      <li><a href="#new-features"><span class="secno">1.7</span> <span class="content">Add new capabilities with care</span></a>
      <li><a href="#removing-features"><span class="secno">1.8</span> <span class="content">Prioritize compatibility when changing or removing features</span></a>
      <li><a href="#leave-the-web-better"><span class="secno">1.9</span> <span class="content">Leave the web better than you found it</span></a>
      <li><a href="#data-minimization"><span class="secno">1.10</span> <span class="content">Minimize user data</span></a>
     </ol>
    <li>
     <a href="#api-across-languages"><span class="secno">2</span> <span class="content">API Design Across Languages</span></a>
     <ol class="toc">
      <li><a href="#simplicity"><span class="secno">2.1</span> <span class="content">Prefer simple solutions</span></a>
      <li><a href="#high-level-low-level"><span class="secno">2.2</span> <span class="content">Consider tradeoffs between high level and low level APIs</span></a>
      <li><a href="#name-thoughtfully"><span class="secno">2.3</span> <span class="content">Name things thoughtfully</span></a>
      <li><a href="#consistency"><span class="secno">2.4</span> <span class="content">Be consistent</span></a>
      <li><a href="#specs-include-guidance"><span class="secno">2.5</span> <span class="content">Follow guidance from feature specifications</span></a>
      <li><a href="#feature-detect"><span class="secno">2.6</span> <span class="content">New features should be detectable</span></a>
      <li><a href="#text-formats"><span class="secno">2.7</span> <span class="content">Design textual formats for humans</span></a>
      <li><a href="#secure-context"><span class="secno">2.8</span> <span class="content">Consider limiting new features to secure contexts</span></a>
      <li><a href="#do-not-expose-use-of-private-browsing-mode"><span class="secno">2.9</span> <span class="content">Don’t reveal that private browsing mode is engaged</span></a>
      <li><a href="#private-browsing-mode"><span class="secno">2.10</span> <span class="content">Consider how your API should behave in private browsing mode</span></a>
      <li><a href="#do-not-expose-use-of-assistive-tech"><span class="secno">2.11</span> <span class="content">Don’t reveal that assistive technologies are being used</span></a>
      <li><a href="#require-user-activation"><span class="secno">2.12</span> <span class="content">Require user activation for powerful APIs</span></a>
      <li><a href="#support-non-fully-active"><span class="secno">2.13</span> <span class="content">Support non-fully active BFCached documents</span></a>
      <li><a href="#third-party-tools"><span class="secno">2.14</span> <span class="content">Prioritize usability over compatibility with third-party tools</span></a>
      <li><a href="#prefer-composition"><span class="secno">2.15</span> <span class="content">Build complex types by composing simpler types</span></a>
     </ol>
    <li>
     <a href="#html"><span class="secno">3</span> <span class="content">HTML</span></a>
     <ol class="toc">
      <li><a href="#attribute-reuse"><span class="secno">3.1</span> <span class="content">Re-use HTML attribute names (only) for similar functionality</span></a>
      <li><a href="#html-lists"><span class="secno">3.2</span> <span class="content">Use space-separated attributes for short lists of values, separate elements for longer lists</span></a>
      <li><a href="#avoid-html-parser-blocking"><span class="secno">3.3</span> <span class="content">Do not pause the HTML parser</span></a>
      <li><a href="#avoid-render-blocking"><span class="secno">3.4</span> <span class="content">Avoid features that block rendering</span></a>
      <li><a href="#html-idl-must-by-synced"><span class="secno">3.5</span> <span class="content">Keep attributes in sync</span></a>
      <li><a href="#naming-of-url-attributes"><span class="secno">3.6</span> <span class="content">Name URL-containing attributes based on their primary purpose</span></a>
      <li><a href="#html-overloading"><span class="secno">3.7</span> <span class="content">Give each HTML element a single purpose</span></a>
     </ol>
    <li>
     <a href="#css"><span class="secno">4</span> <span class="content">Cascading Style Sheets (CSS)</span></a>
     <ol class="toc">
      <li><a href="#css-property-separation"><span class="secno">4.1</span> <span class="content">Separate CSS properties based on what should cascade separately</span></a>
      <li><a href="#css-inherited-or-not"><span class="secno">4.2</span> <span class="content">Make appropriate choices for whether CSS properties are inherited</span></a>
      <li><a href="#css-computed-value"><span class="secno">4.3</span> <span class="content">Choose the computed value type based on how the property should inherit</span></a>
      <li><a href="#css-naming"><span class="secno">4.4</span> <span class="content">Name CSS properties and values appropriately</span></a>
      <li><a href="#css-content-should-be-visible"><span class="secno">4.5</span> <span class="content">Content should be viewable and accessible by default</span></a>
     </ol>
    <li>
     <a href="#js"><span class="secno">5</span> <span class="content">JavaScript Language</span></a>
     <ol class="toc">
      <li><a href="#js-only"><span class="secno">5.1</span> <span class="content">Use JavaScript for Web APIs</span></a>
      <li><a href="#js-rtc"><span class="secno">5.2</span> <span class="content">Preserve run-to-completion semantics</span></a>
      <li><a href="#js-gc"><span class="secno">5.3</span> <span class="content">Don’t expose garbage collection</span></a>
     </ol>
    <li>
     <a href="#api-surface"><span class="secno">6</span> <span class="content">Designing JavaScript APIs</span></a>
     <ol class="toc">
      <li><a href="#webidl-dictionaries-interfaces-namespaces"><span class="secno">6.1</span> <span class="content">Use WebIDL dictionaries, interfaces, and namespaces appropriately</span></a>
      <li><a href="#attributes-like-data"><span class="secno">6.2</span> <span class="content">Attributes should behave like data properties</span></a>
      <li><a href="#live-vs-static"><span class="secno">6.3</span> <span class="content">Consider whether objects should be live or static</span></a>
      <li><a href="#attributes-vs-methods"><span class="secno">6.4</span> <span class="content">Accessors should behave like properties, not methods</span></a>
      <li><a href="#prefer-dictionaries"><span class="secno">6.5</span> <span class="content">Accept optional and/or primitive arguments through dictionaries</span></a>
      <li><a href="#optional-parameters"><span class="secno">6.6</span> <span class="content">Make method arguments optional if possible</span></a>
      <li><a href="#naming-optional-parameters"><span class="secno">6.7</span> <span class="content">Name optional arguments appropriately</span></a>
      <li><a href="#overloading"><span class="secno">6.8</span> <span class="content">Use overloading wisely</span></a>
      <li><a href="#constructors"><span class="secno">6.9</span> <span class="content">Classes should have constructors when possible</span></a>
      <li><a href="#synchronous"><span class="secno">6.10</span> <span class="content">Be synchronous when appropriate</span></a>
      <li><a href="#promises"><span class="secno">6.11</span> <span class="content">Design asynchronous APIs using Promises</span></a>
      <li><a href="#aborting"><span class="secno">6.12</span> <span class="content">Cancel asynchronous APIs/operations using AbortSignal</span></a>
      <li><a href="#string-constants"><span class="secno">6.13</span> <span class="content">Use strings for constants and enums</span></a>
      <li><a href="#async-by-default"><span class="secno">6.14</span> <span class="content">If you need both asynchronous and synchronous methods, synchronous is the exception</span></a>
      <li><a href="#uint8array"><span class="secno">6.15</span> <span class="content">Output an array of bytes with Uint8Array</span></a>
      <li><a href="#void-functions"><span class="secno">6.16</span> <span class="content">Return <code>undefined</code> from side-effect-causing functions</span></a>
      <li><a href="#prefer-existing-task-sources"><span class="secno">6.17</span> <span class="content">Prefer existing task sources</span></a>
     </ol>
    <li>
     <a href="#event-design"><span class="secno">7</span> <span class="content">Event Design</span></a>
     <ol class="toc">
      <li><a href="#one-time-events"><span class="secno">7.1</span> <span class="content">Use promises for one time events</span></a>
      <li><a href="#promises-and-reaction"><span class="secno">7.2</span> <span class="content">Don’t use promises for cancelable events</span></a>
      <li><a href="#promises-and-events"><span class="secno">7.3</span> <span class="content">Events should fire before related Promises resolve</span></a>
      <li><a href="#dont-invent-event-like"><span class="secno">7.4</span> <span class="content">Don’t invent your own event listener-like infrastructure</span></a>
      <li><a href="#always-add-event-handlers"><span class="secno">7.5</span> <span class="content">Always add event handler attributes</span></a>
      <li><a href="#events-are-for-notification"><span class="secno">7.6</span> <span class="content">Use events for notification</span></a>
      <li><a href="#guard-against-recursion"><span class="secno">7.7</span> <span class="content">Guard against potential recursion</span></a>
      <li><a href="#state-and-subclassing"><span class="secno">7.8</span> <span class="content">Put state on <code class="idl"><span>target</span></code> objects rather than <code class="idl"><span>Event</span></code>s</span></a>
      <li><a href="#events-vs-observers"><span class="secno">7.9</span> <span class="content">Use Events and Observers appropriately</span></a>
     </ol>
    <li>
     <a href="#types-and-units"><span class="secno">8</span> <span class="content">Web IDL, Types, and Units</span></a>
     <ol class="toc">
      <li><a href="#numeric-types"><span class="secno">8.1</span> <span class="content">Use numeric types appropriately</span></a>
      <li><a href="#idl-string-types"><span class="secno">8.2</span> <span class="content">Represent strings appropriately</span></a>
      <li><a href="#milliseconds"><span class="secno">8.3</span> <span class="content">Use milliseconds for time measurement</span></a>
      <li><a href="#times-and-dates"><span class="secno">8.4</span> <span class="content">Use the appropriate type to represent times and dates</span></a>
      <li><a href="#error-types"><span class="secno">8.5</span> <span class="content">Use Error or DOMException for errors</span></a>
     </ol>
    <li>
     <a href="#device-apis"><span class="secno">9</span> <span class="content">APIs that wrap access to device or browser capabilities</span></a>
     <ol class="toc">
      <li><a href="#device-ids"><span class="secno">9.1</span> <span class="content">Don’t expose unnecessary information about capabilities</span></a>
      <li><a href="#device-enumeration"><span class="secno">9.2</span> <span class="content">Use care when exposing APIs for selecting or enumerating devices</span></a>
      <li><a href="#usecase-oriented-apis"><span class="secno">9.3</span> <span class="content">Design based on user needs, not the underlying capability</span></a>
      <li><a href="#hardware-is-scary"><span class="secno">9.4</span> <span class="content">Be proactive about safety</span></a>
      <li><a href="#wrapper-apis"><span class="secno">9.5</span> <span class="content">Adapt native APIs using web platform principles</span></a>
     </ol>
    <li>
     <a href="#other-considerations"><span class="secno">10</span> <span class="content">Other API Design Considerations</span></a>
     <ol class="toc">
      <li><a href="#polyfills"><span class="secno">10.1</span> <span class="content">Enable polyfills for new features</span></a>
      <li>
       <a href="#consider-dedicatedworker-support"><span class="secno">10.2</span> <span class="content">Where possible APIs should be made available to dedicated workers</span></a>
       <ol class="toc">
        <li><a href="#worker-only"><span class="secno">10.2.1</span> <span class="content">Some APIs should only be exposed to dedicated workers</span></a>
       </ol>
      <li><a href="#expose-everywhere"><span class="secno">10.3</span> <span class="content">Only purely computational features should be exposed everywhere</span></a>
      <li><a href="#new-data-formats"><span class="secno">10.4</span> <span class="content">Add new data formats properly</span></a>
      <li><a href="#extend-manifests"><span class="secno">10.5</span> <span class="content">Extend existing manifest files rather than creating new ones</span></a>
      <li><a href="#serialization"><span class="secno">10.6</span> <span class="content">Consider consumers when serializing</span></a>
      <li><a href="#debuggability"><span class="secno">10.7</span> <span class="content">Ensure features are developer-friendly</span></a>
      <li><a href="#crypto"><span class="secno">10.8</span> <span class="content">Use the best crypto, and expect it to evolve</span></a>
      <li><a href="#client-hints"><span class="secno">10.9</span> <span class="content">Do not expose new information through Client Hints</span></a>
     </ol>
    <li>
     <a href="#spec-writing"><span class="secno">11</span> <span class="content">Writing good specifications</span></a>
     <ol class="toc">
      <li><a href="#requirements-on-authors-and-implementers"><span class="secno">11.1</span> <span class="content">Identify the audience of each requirement in your specification</span></a>
      <li>
       <a href="#avoid-ambiguity"><span class="secno">11.2</span> <span class="content">Specify completely and avoid ambiguity</span></a>
       <ol class="toc">
        <li><a href="#algorithms"><span class="secno">11.2.1</span> <span class="content">Define algorithms clearly</span></a>
        <li><a href="#use-flags-for-states"><span class="secno">11.2.2</span> <span class="content">Use explicit flags for state</span></a>
       </ol>
      <li><a href="#implementability"><span class="secno">11.3</span> <span class="content">Resolving tension between interoperability and implementability</span></a>
      <li>
       <a href="#monkey-patching"><span class="secno">11.4</span> <span class="content">Avoid monkey patching</span></a>
       <ol class="toc">
        <li><a href="#cant-avoid-monkey-patching"><span class="secno">11.4.1</span> <span class="content">If you need to monkey patch</span></a>
       </ol>
     </ol>
    <li>
     <a href="#naming-is-hard"><span class="secno">12</span> <span class="content">Naming principles</span></a>
     <ol class="toc">
      <li><a href="#naming-common-words"><span class="secno">12.1</span> <span class="content">Use common words</span></a>
      <li><a href="#naming-charset"><span class="secno">12.2</span> <span class="content">Use ASCII names</span></a>
      <li><a href="#naming-consultation"><span class="secno">12.3</span> <span class="content">Consult others on naming</span></a>
      <li><a href="#naming-future-proofing"><span class="secno">12.4</span> <span class="content">Use names that describe a purpose</span></a>
      <li><a href="#naming-consistency"><span class="secno">12.5</span> <span class="content">Name things consistently</span></a>
      <li><a href="#naming-unsafe"><span class="secno">12.6</span> <span class="content">Warn about dangerous features</span></a>
     </ol>
    <li><a href="#writing-resources"><span class="secno">13</span> <span class="content">Other resources</span></a>
    <li><a href="#acks"><span class="secno"></span> <span class="content">Acknowledgments</span></a>
    <li>
     <a href="#w3c-conformance"><span class="secno"></span> <span class="content">Conformance</span></a>
     <ol class="toc">
      <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">Document conventions</span></a>
     </ol>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li><a href="#property-index"><span class="secno"></span> <span class="content">Property Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="basic-principles"><span class="secno">1. </span><span class="content">Principles behind design of Web APIs</span><a class="self-link" href="#basic-principles"></a></h2>
   <p>The Design Principles are directly informed by the ethical framework
set out in the Ethical Web Principles <a data-link-type="biblio" href="#biblio-ethical-web-principles" title="Ethical Web Principles">[ethical-web-principles]</a>.
These principles provide concrete practical advice
in response to the higher level ethical responsibilities
that come with developing the web platform.</p>
   <h3 class="heading settled" data-level="1.1" id="priority-of-constituencies"><span class="secno">1.1. </span><span class="content">Put user needs first (Priority of Constituencies)</span><a class="self-link" href="#priority-of-constituencies"></a></h3>
   <p>If a trade-off needs to be made,
always put user needs above all.</p>
   <p>Similarly, when beginning to design an API,
be sure to understand and document the user need that the API aims to address.</p>
   <p><a href="https://tools.ietf.org/html/rfc8890">The internet is for end users</a>:
any change made to the web platform has the potential to
<a href="https://www.w3.org/TR/ethical-web-principles/#allpeople">affect vast numbers of people</a>,
and may have a profound impact on any person’s life. <a data-link-type="biblio" href="#biblio-rfc8890" title="The Internet is for End Users">[RFC8890]</a></p>
   <p>User needs come before the needs of web page authors,
which come before the needs of user agent implementors,
which come before the needs of specification writers,
which come before theoretical purity.</p>
   <p>Like all principles,
this isn’t absolute.
Ease of authoring affects how content reaches users.
User agents have to prioritize finite engineering resources,
which affects how features reach authors.
Specification writers also have finite resources,
and theoretical concerns reflect underlying needs of all of these groups.</p>
   <p>See also:</p>
   <ul>
    <li data-md>
     <p><a href="https://www.w3.org/TR/ethical-web-principles/#noharm">The web should not cause harm to society</a></p>
    <li data-md>
     <p><a href="https://www.w3.org/TR/ethical-web-principles/#control">The web must enhance individuals' control and power</a></p>
    <li data-md>
     <p><a data-link-type="biblio" href="#biblio-rfc8890" title="The Internet is for End Users">[RFC8890]</a></p>
   </ul>
   <h3 class="heading settled" data-level="1.2" id="safe-to-browse"><span class="secno">1.2. </span><span class="content">It should be safe to visit a web page</span><a class="self-link" href="#safe-to-browse"></a></h3>
   <p>When adding new features,
design them to preserve the user expectation
that visiting a web page is generally safe.</p>
   <p>The Web is named for its hyperlinked structure.
In order for the web to remain vibrant,
users need to be able to expect that merely visiting any given link
won’t have implications for the security of their computer,
or for any essential aspects of their <a href="https://www.w3.org/TR/ethical-web-principles/#privacy">privacy</a>.</p>
   <p>For example, an API that allows any website to
<a href="#do-not-expose-use-of-assistive-tech">detect the use of assistive technologies</a>
may make users of these technologies feel unsafe visiting unknown web pages,
since any web page may detect this private information.</p>
   <p>If users have a realistic expectation of safety,
they can make informed decisions
between Web-based technologies and other technologies.
For example, users may choose to use a web-based food ordering page,
rather than installing an app,
since installing a native app is riskier than visiting a web page.</p>
   <p>To work towards making sure the reality of safety on the web matches users' expectations,
we can take complementary approaches when adding new features:</p>
   <ul>
    <li data-md>
     <p>We can improve the user interfaces through which the Web is used
to make it clearer what users of the Web should (and should not) expect;</p>
    <li data-md>
     <p>We can change the technical foundations of the Web
so that they match user expectations of privacy;</p>
    <li data-md>
     <p>We can consider the cases where users would be better off
if expectations were higher,
and in those cases
try to change both technical foundations and expectations.</p>
   </ul>
   <p>A new feature which introduces safety risks may still improve user safety overall,
if it allows users to perform a task more safely on a web page
than it would be for them to install a native app to do the same thing.
However, this benefit needs to be weighed against the common goal
of users having a reasonable expectation of safety on web pages.</p>
   <p>See also:</p>
   <ul>
    <li data-md>
     <p><a href="https://www.w3.org/TR/security-privacy-questionnaire/">Security and Privacy Self-Review</a></p>
   </ul>
   <h3 class="heading settled" data-level="1.3" id="trusted-ui"><span class="secno">1.3. </span><span class="content">Trusted user interface should be trustworthy</span><a class="self-link" href="#trusted-ui"></a></h3>
   <p>Consider whether new features impact trusted user interfaces.</p>
   <p>Users depend on trusted user interfaces
such as the address bar, security indicators and permission prompts,
to understand who they are interacting with and how.
These trusted user interfaces must be able to be designed in a way
that enables users to trust <a href="https://www.w3.org/TR/ethical-web-principles/#verify">and verify</a>
that the information they provide is genuine,
and hasn’t been spoofed or hijacked by the website.</p>
   <p>If a new feature allows untrusted user interfaces
to resemble trusted user interfaces,
this makes it more difficult for users to understand what information is trustworthy.</p>
   <p class="example" id="example-59575e9e"><a class="self-link" href="#example-59575e9e"></a>
For example, JavaScript <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-alert-noargs" id="ref-for-dom-alert-noargs">alert()</a></code> allows a page to show a modal dialog which looks like part of the browser.
This is often used to attempt to trick users into visiting scam websites.
If this feature was proposed today, it would probably not proceed.
</p>
   <h3 class="heading settled" data-level="1.4" id="user-intent"><span class="secno">1.4. </span><span class="bs-old-id" id="consent"></span><span class="content">Design for user intent</span><a class="self-link" href="#user-intent"></a></h3>
   <p>Use your API design to encourage websites to
meet user expectations when accessing potentially unsafe capabilities.</p>
   <p>In the context of fulfilling a user need,
a web page may want to make use of a feature
that has the potential to cause harm.
Using such a feature should only be possible
if the user’s expectation matches the feature’s consequences
(e.g., the personal information it reveals or the state it changes).</p>
   <p>Design your API so its behavior matches what people intend and expect.
Then, in the best case, people don’t need to get involved in allowing API access
and thus can’t make decisions they regret later.
Only ask the user for confirmation in exceptional circumstances.
If a capability can be easily reverted or causes only mild annoyance without the chance for permanent harm,
afford users an option to stop capability access instead.</p>
   <p class="example" id="example-d2d03cc5"><a class="self-link" href="#example-d2d03cc5"></a>
For example, web pages don’t need to ask for permission to play sounds.
It is easy to stop audio output if a site is found to be abusing it,
and browsers have a number of mechanisms for doing just that.
</p>
   <h4 class="heading settled" data-level="1.4.1" id="user-decisions"><span class="secno">1.4.1. </span><span class="content">Help users make good decisions</span><a class="self-link" href="#user-decisions"></a></h4>
   <p>Empower good decision-making by limiting risk at the API level and
providing clarity, context, and user control.</p>
   <p>Asking for user approval has been a common way to handle the remaining risk.
However, people often can’t make good decisions on
the questions they’re asked
because they lack crucial context and information.
Being confronted with difficult or annoying questions leads
to decision fatigue, habitual responses,
annoyance from frequent interruptions, and regrettable decisions.</p>
   <p>When user involvement is unavoidable,
empower users to make good decisions.
Use these principles:</p>
   <ul>
    <li> <strong>Limit the consequences from a bad decision by addressing risk at the API level first.</strong>
    Do not ask users questions where a "bad" decision can lead to severe consequences,
    like a compromised device or serious personal data disclosure.
    <li> <strong>Provide constant feedback about persistent decisions.</strong>
    If users' decisions last longer than the current session,
    user agents should remind users that their past decision still applies.
    Provide a way to retract any ongoing permission.
    APIs should include a way for sites to learn of the change in status.
    <li id="ask-understandable-questions"><a class="self-link" href="#ask-understandable-questions"></a> <strong>Ask questions people can understand.</strong>
    When a typical user reads the question about a feature,
    they should immediately think of the associated risks.
    The risks should also be directly connected to the feature’s or API’s utility.
    For example, this usually means we can’t ask permission to accept fingerprinting risks,
    as they are subtle, technical, and commonly have nothing to do with the capability itself.
    <li> <strong>Provide sufficient context.</strong>
    People need to easily understand who they’re dealing with,
    what the decision is about, and how the website will use any information they might share.
   </ul>
   <p>If you can’t adhere to all of the above principles,
that is likely an indication that asking the user isn’t the right approach.
Instead, change the feature or API to address any remaining risk.</p>
   <div class="note" role="note">
    <p>A browser is responsible for managing requests for permission.
Browsers will not be able to understand
precisely how a user’s interaction with a site
might result in a reasonable expectation of a permission request.
The web platform provides sites with many ways
either to communicate purpose and intent,
or to employ deception and trickery.</p>
    <p>The responsibility for clearly communicating intent is therefore shared
between the design of APIs,
user interface design in browsers,
and how websites are constructed.
It is preferable if respect for user intent
is a natural outcome
of following the simple, obvious, or default usage pattern for the API.
This principle only asks that API designs encourage
to construct sites that respect user intent.</p>
   </div>
   <p>In your specification, the <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-request-permission-to-use" id="ref-for-dfn-request-permission-to-use">request permission to use</a> and <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-prompt-the-user-to-choose" id="ref-for-dfn-prompt-the-user-to-choose">prompt the user to choose</a> algorithms from <a data-link-type="biblio" href="#biblio-permissions" title="Permissions">[permissions]</a> are good ways to ask for consent.</p>
   <p>If you ask a user to make a decision and they say no,
the website shouldn’t be able to do anything
the user believes they just refused access to.
For example, if the user agent asks permission to reveal a piece of information via one API,
the same information shouldn’t be available with no permission via a different API.</p>
   <p>Refusal is most effective if the site cannot
distinguish refusal from other, common situations.
This can make it more difficult for a site to
pressure users to grant consent.</p>
   <p>See also:</p>
   <ul>
    <li data-md>
     <p><a href="https://www.w3.org/TR/ethical-web-principles/#privacy">The web is secure, and respects people’s privacy</a></p>
    <li data-md>
     <p><a href="https://www.w3.org/TR/privacy-principles/#consent-principles">Consent Principles</a></p>
    <li data-md>
     <p><a href="https://www.w3.org/TR/permissions/">Permissions</a></p>
   </ul>
   <h3 class="heading settled" data-level="1.5" id="identity"><span class="secno">1.5. </span><span class="content">Use identity appropriately in context</span><a class="self-link" href="#identity"></a></h3>
   <p>Give people <a href="https://www.w3.org/TR/ethical-web-principles/#control">control</a>
over the identifying information about themselves
they are presenting in different contexts on the web,
and be transparent about it.</p>
   <p>"Identity" is a complex concept that can be understood in many different ways.
It can refer to how someone presents or sees themselves, how they relate to other
people, groups, or institutions, and can determine how they behave
or how they are treated by others.
In web architecture, "identity" is often used as a shortcut
to refer to identifiers, and the information attached to them.</p>
   <p>Features that use or depend on
identifiers and the attachment of data about a person
to that identifier carry privacy risks which
often reach beyond a single API or system.
This includes data that has been passively generated (for example,
about their behaviour on the web) as well as that which has been
actively collected (for example, they have filled in a form).</p>
   <p>For such features, you should <a href="https://www.w3.org/TR/privacy-principles/#identity">understand the context</a>
in which it will be used,
including how it will be used alongside other features of the web.
Make sure to <a href="#user-intent">design for user intent</a> and <a href="#user-decisions">help users make good decisions</a>.
Design APIs to collect
<a href="https://www.w3.org/TR/privacy-principles/#data-minimization">the smallest amount of data</a>
necessary.
Use short-lived, temporary identifiers
unless a persistent identifier is absolutely necessary.</p>
   <h3 class="heading settled" data-level="1.6" id="devices-platforms"><span class="secno">1.6. </span><span class="content">Support the full range of devices and platforms (Media Independence)</span><a class="self-link" href="#devices-platforms"></a></h3>
   <p>As much as possible,
ensure that features on the web work across different input and output <a href="https://www.w3.org/TR/ethical-web-principles/#multi">devices,
screen sizes, interaction modes, platforms, and media</a>.</p>
   <p>One of the main values of the Web is that it’s extremely flexible:
a Web page may be viewed on virtually any consumer computing device
at a very wide range of screen sizes,
may be used to generate printed media,
and may be interacted with in a large number of different ways.
New features should match the <a href="https://www.w3.org/TR/ethical-web-principles/#render">existing flexibility</a>
of the web platform.</p>
   <div class="note" role="note">
    
This doesn’t imply that features which don’t work in <em>every</em> possible context should be excluded.
For example, hyperlinks can’t be visited when printed on paper,
and the <span class="css">click</span> event doesn’t translate perfectly to touch input devices
where positioning and clicking the pointer occur in the same gesture (a "tap").


    <p>These features still work across a wide variety of contexts,
and can be adapted to devices that don’t support their original intent -
for example, a tap on a mobile device will fire a <span class="css">click</span> event as a fallback.</p>
   </div>
   <p>Features should also be designed so that the easiest way to use them
maintains flexibility.</p>
   <div class="example" id="example-f162158a"><a class="self-link" href="#example-f162158a"></a>
The 'display: block',
'display: flex',
and 'display: grid' layout models in CSS
all default to placing content within the available space and without overlap,
so that it works across screen sizes,
and allows users to choose their own font and font size without causing text to overflow.
</div>
   <p>Sometimes features aren’t yet available on some implementations or platforms
despite working on others.
In these cases, features should be designed such that it is possible for
code to gracefully fail or be polyfilled.
See <a href="#feature-detect">§ 2.6 New features should be detectable</a>.</p>
   <h3 class="heading settled" data-level="1.7" id="new-features"><span class="secno">1.7. </span><span class="content">Add new capabilities with care</span><a class="self-link" href="#new-features"></a></h3>
   <p>Add new capabilities to the web with consideration of existing functionality and content.</p>
   <p>The Web includes many extension points that allow for additions;
see for example <a href="https://html.spec.whatwg.org/multipage/introduction.html#extensibility"><cite>HTML</cite> § 1.7.2 Extensibility</a>.</p>
   <p>Before adding items, consider integration with existing, similar capabilities.
If this leads to a preferred design approach that cannot be implemented by only adding items,
it might still be possible; see <a href="#removing-features">§ 1.8 Prioritize compatibility when changing or removing features</a>.</p>
   <p>Do not assume that a change or removal is impossible without first checking.</p>
   <h3 class="heading settled" data-level="1.8" id="removing-features"><span class="secno">1.8. </span><span class="content">Prioritize compatibility when changing or removing features</span><a class="self-link" href="#removing-features"></a></h3>
   <p>Before changing how a feature behaves,
understand how websites are currently using it.</p>
   <p>Gaining a good understanding might require research,
for example by adding metrics to a widely-used user agent
or by <a href="https://har.fyi/guides/getting-started/">searching the HTTP Archive</a>.
Breaking content harms users,
and the benefit of a change has to
significantly outweigh that harm to be worth doing
<a data-link-type="biblio" href="#biblio-the-web-is-unversioned" title="The web is unversioned">[the-web-is-unversioned]</a>.</p>
   <p>The obligation to understand existing usage
also applies to non-standardized or unspecified features
that content relies upon.
This includes vendor-proprietary features and
implementation bugs.</p>
   <p>Despite this, it is sometimes acceptable
to break some existing content
in order to improve the experience for a large number of web users.
Breakage is more likely to be acceptable if:</p>
   <ul>
    <li data-md>
     <p>Only a tiny amount of existing content depend on the feature or behavior.</p>
    <li data-md>
     <p>Only a tiny number of people see that content.</p>
    <li data-md>
     <p>The content appears only in test cases or examples.</p>
    <li data-md>
     <p>The content is already broken in some widely-used user agents,
and either they have not received many bug reports about it,
or the change is expected to improve interoperability.</p>
    <li data-md>
     <p>The benefit of breaking content is very large.
For example, removing old SSL and TLS versions caused a number of sites to become unreachable
but prevents more security breaches.</p>
   </ul>
   <h3 class="heading settled" data-level="1.9" id="leave-the-web-better"><span class="secno">1.9. </span><span class="content">Leave the web better than you found it</span><a class="self-link" href="#leave-the-web-better"></a></h3>
   <p>As you add new capabilities to the web platform,
do so in a way that improves the overall platform.</p>
   <p>The existence of a defect in one part of the platform
must not be used to excuse an addition or extension to the defect,
which would further decrease the overall platform quality.</p>
   <p>Consistency with existing problematic design patterns
is not a good reason to propagate those patterns
in newly specified Web APIs or platform features.
Where possible, build new web capabilities that improve the overall platform quality
by mitigating existing defects.</p>
   <p>Do not extend a platform feature that has known defects,
without considering how to address those defects.
It is not necessary to completely fix existing problems,
but some attempt to address flaws is expected
when extending a feature with known issues.
This way, new or increased usage does not result in
increasing the harm that the defect might cause.</p>
   <p>Parts of the web platform evolve independently.
Issues that are present with a certain web technology now may be fixed in a subsequent iteration.
Duplicating these issues makes fixing them more difficult.
By adhering to this principle we can make sure overall platform quality improves over time.</p>
   <h3 class="heading settled" data-level="1.10" id="data-minimization"><span class="secno">1.10. </span><span class="content">Minimize user data</span><a class="self-link" href="#data-minimization"></a></h3>
   <p>Design features to work with the minimum amount of data necessary to carry out their
users' goals.</p>
   <p><a href="https://www.w3.org/TR/privacy-principles/#data-minimization">Data minimization</a>
limits the risks of data being inappropriately disclosed or misused.</p>
   <p>Design Web APIs to make it easier for sites to request, collect, and/or transmit
a small amount of data, or more granular or specific data, than it is to work with
more generic or bulk data.
APIs should also provide granularity and user controls,
in particular over <a href="https://www.w3.org/TR/privacy-principles/#dfn-data">personal data</a>,
that is communicated to sites.
When additional functionality requires additional data, APIs can enable this
if they <a href="#user-intent">design for user intent</a> and <a href="#user-decisions">help users make good decisions</a> when necessary.</p>
   <div class="example" id="example-fa9c901d"><a class="self-link" href="#example-fa9c901d"></a>
A <a href="#font-enumeration">Font Enumeration API</a> API was once proposed, but the tradeoff of user data exposed was not justified by the use cases. Instead, an alternative solution was proposed, which only exposed the font the user actually selected.
</div>
   <h2 class="heading settled" data-level="2" id="api-across-languages"><span class="secno">2. </span><span class="content">API Design Across Languages</span><a class="self-link" href="#api-across-languages"></a></h2>
   <h3 class="heading settled" data-level="2.1" id="simplicity"><span class="secno">2.1. </span><span class="content">Prefer simple solutions</span><a class="self-link" href="#simplicity"></a></h3>
   <p>Look hard for simple solutions to the
<a href="#priority-of-constituencies">user needs</a>
you intend to address.</p>
   <p>Simple solutions are generally better than complex solutions,
although they may be harder to find.
Simpler features are easier for user agents to implement and test,
more likely to be interoperable,
and easier for authors to understand.
It is especially important to design your feature so that
the most common use cases are easy to accomplish.</p>
   <p>Make sure that your <a href="#priority-of-constituencies">user needs</a>
are well-defined.
This allows you to avoid scope creep,
and make sure that your API does actually meet the needs of all users.
Of course,
complex or rare use cases are also worth solving,
though their solutions may be more complicated to use.
As Alan Kay said,
"simple things should be simple, complex things should be possible."</p>
   <p>Do note however that while common cases are often simple,
commonality and complexity are not always correlated.</p>
   <div class="example" id="example-b89cef20"><a class="self-link" href="#example-b89cef20"></a>
Sanitizing HTML to prevent XSS attacks is a complex process
that requires extensive security knowledge,
however the <a href="https://wicg.github.io/sanitizer-api/">Sanitizer API</a> provides a shortcut for this common use case.
It also permits simpler types of filtering, but with more configuration.
</div>
   <p>See also:</p>
   <ul>
    <li data-md>
     <p><a data-link-type="biblio" href="#biblio-least-power" title="The Rule of Least Power">[LEAST-POWER]</a></p>
   </ul>
   <h3 class="heading settled" data-level="2.2" id="high-level-low-level"><span class="secno">2.2. </span><span class="content">Consider tradeoffs between high level and low level APIs</span><a class="self-link" href="#high-level-low-level"></a></h3>
   <p>High-level APIs allow user agents more ability to
intervene in various ways <a href="#priority-of-constituencies">on behalf of the user</a>,
such as to ensure accessibility, privacy, or usability.</p>
   <div class="example" id="font-enumeration">
    <a class="self-link" href="#font-enumeration"></a>


    <p>A font picker (high level API)
<a href="https://github.com/w3ctag/design-reviews/issues/399">was recommended by the TAG</a>
over a Font Enumeration API (low level API)
as it addresses the bulk of use cases,
while preserving user privacy,
as it is free from the fingerprinting concerns that accompany
a general Font Enumeration API.
A native font picker also comes with accessibility built-in,
and provides consistency for end users.</p>
   </div>
   <p>Low-level APIs afford authors room for experimentation
so that high level APIs can organically emerge
from usage patterns over time.
They also provide an escape hatch when the higher-level API
is not adequate for the use case at hand.</p>
   <p>Lower level building blocks cannot always be exposed as Web APIs.
A few possible reasons for this are
to preserve the user’s security and privacy,
or to avoid tying Web APIs to specific hardware implementations.
However, high level APIs should be designed in terms of
building blocks over lower level APIs
whenever possible.
This may guide decisions on how high level the API needs to be.</p>
   <p>A well-layered solution should ensure continuity
of the ease-of-use vs power tradeoff curve
and avoid sharp cliffs
where a small amount of incremental use case complexity
results in a large increase of code complexity.</p>
   <h3 class="heading settled" data-level="2.3" id="name-thoughtfully"><span class="secno">2.3. </span><span class="content">Name things thoughtfully</span><a class="self-link" href="#name-thoughtfully"></a></h3>
   <p>Name APIs with care.
Naming APIs well makes it much easier for authors to use them correctly.</p>
   <p>See the more detailed <a href="#naming-is-hard">Naming principles</a> section
for specific guidance on naming.</p>
   <h3 class="heading settled" data-level="2.4" id="consistency"><span class="secno">2.4. </span><span class="content">Be consistent</span><a class="self-link" href="#consistency"></a></h3>
   <p>It is good practice to consider precedent in the design of your API
and to try to be consistent with it.</p>
   <p>There is often a tension between API ergonomics and consistency,
when existing precedent is of poor usability.
In some cases it makes sense to break consistency to improve usability,
but the improvement should be very significant to justify this.</p>
   <p>Since the web platform has gradually evolved over time,
there are often multiple conflicting precedents
which are mutually exclusive.
You can weigh which precedent to follow by taking into account
prevalence (all else being equal, follow the more popular precedent),
API ergonomics (all else being equal, follow the more usable precedent),
and API age (all else being equal, follow the newer precedent).</p>
   <p>There is often a tension between internal and external consistency.
<em>Internal consistency</em> is consistency with the rest of the system,
whereas <em>external consistency</em> is consistency with the rest of the world.
In the web platform, that might materialize in three layers:
consistency within the technology the API belongs to (e.g. CSS),
consistency with the rest of the web platform,
and in some cases external precedent,
when the API relates to a particular specialized outside domain.
In those cases, it is useful to consider what the majority of users will be.
Since for most APIs the target user is someone who is familiar with the
technology they are defined in,
err on the side of favoring consistency with that.</p>
   <div class="example" id="example-616da141"><a class="self-link" href="#example-616da141"></a>
One example is
<a href="https://www.w3.org/TR/css-color-4/#funcdef-lab">CIE L*a*b* colors</a>:
It would be more consistent with the rest of CSS to use percentages for L (0%-100%),
but more consistent with the rest of Color Science to use a unitless number (0-100).
There was a lot of heated debate,
which resolved in favor of percentages,
i.e. consistency within CSS.
</div>
   <p>There is also a separate section on <a href="#naming-consistency">naming consistency</a>.</p>
   <h3 class="heading settled" data-level="2.5" id="specs-include-guidance"><span class="secno">2.5. </span><span class="content">Follow guidance from feature specifications</span><a class="self-link" href="#specs-include-guidance"></a></h3>
   <p>When using a feature,
follow guidance in the specification for that feature.</p>
   <p>Specifications for features
that will be used by other specifications
should include guidance for using those features.
This ensures that the feature is used correctly
and consistently
throughout the platform.</p>
   <p>An incomplete list of such guidance follows:</p>
   <ul>
    <li data-md>
     <p><a href="https://encoding.spec.whatwg.org/#specification-hooks">Encoding</a></p>
    <li data-md>
     <p><a href="https://fetch.spec.whatwg.org/#fetch-elsewhere">Fetch</a></p>
    <li data-md>
     <p><span id="using-http"><a data-biblio-display="inline" data-link-type="biblio" href="https://httpwg.org/specs/rfc9205.html"><cite>Building Protocols with HTTP</cite></a></span>,
especially on <a href="https://httpwg.org/specs/rfc9205.html#section-4.7">defining header fields</a>,
<a href="https://datatracker.ietf.org/doc/search?name=HTTP&amp;sort=&amp;rfcs=on&amp;by=group&amp;group=httpbis">other HTTP RFCs</a>,
and the <a href="https://httpwg.org/admin/editors/style-guide">HTTP Working Group style guide</a></p>
    <li data-md>
     <p><a href="https://w3c.github.io/hr-time/#sec-tools">Time</a></p>
    <li data-md>
     <p><a href="https://url.spec.whatwg.org/#url-apis-elsewhere">URLs</a></p>
   </ul>
   <p>Consult with the relevant community
when using their specification.
This informs that community about new usage
and creates opportunities for improvements
to both the using and used specifications.</p>
   <h3 class="heading settled" data-level="2.6" id="feature-detect"><span class="secno">2.6. </span><span class="content">New features should be detectable</span><a class="self-link" href="#feature-detect"></a></h3>
   <p>Provide a way for authors to programmatically detect
whether your feature is available,
so that web content may gracefully handle the feature not being present.</p>
   <p>An existing feature may not be available on a page for a number of reasons.
Two of the more common reasons are
because it hasn’t been implemented yet, or
because it’s only available in <a href="#secure-context">secure contexts</a>.</p>
   <p>Authors shouldn’t need to write different code to handle each scenario.
That way, even if an author only knows or cares about one scenario,
the code will handle all of them.</p>
   <p class="note" role="note">
When a feature is available but isn’t feasible to use
because a required device isn’t present,
it’s better to expose that the feature is available
and have a separate way to detect that the device isn’t.
This allows authors to handle a device not being available differently
from the feature not being available,
for example by suggesting the user connect or enable the device.

</p>
   <p>See <a href="#device-enumeration">§ 9.2 Use care when exposing APIs for selecting or enumerating devices</a>.</p>
   <p></p>
   <p>Authors should always be able to detect a feature from JavaScript,
and in some cases the feature should also be detectable
in the language where it’s used
(such as <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-conditional-3/#at-ruledef-supports" id="ref-for-at-ruledef-supports">@supports</a> in CSS).</p>
   <p>In some cases, it may <strong>not</strong> be appropriate to allow feature detection.
Whether the feature should be detectable or not
should be based on the <a href="#priority-of-constituencies">user need</a>
for the feature.
If there is a user need or design principle which would fail
if feature detection were available for the feature,
then you should not support feature detection.</p>
   <p>Detecting the availability of a feature does not imply
detecting whether <a href="#user-decisions">the user has been asked</a> to use the feature.
Generally, detecting whether the feature is implemented
can be done separately from determining whether use of the feature has been authorized.
In some cases, it might be necessary to disable feature detection
in order to enable denying requests to use the feature.</p>
   <p>Also, if a feature is generally not exposed to developers,
it is not appropriate to support feature detection.
For example, private browsing mode is a concept
which is recognised in web specifications,
but not exposed to authors.
For private browsing mode to support the user’s needs,
it must not be feature detected.</p>
   <p>See also:</p>
   <ul>
    <li data-md>
     <p><a href="#do-not-expose-use-of-private-browsing-mode">§ 2.9 Don’t reveal that private browsing mode is engaged</a></p>
    <li data-md>
     <p><a href="#do-not-expose-use-of-assistive-tech">§ 2.11 Don’t reveal that assistive technologies are being used</a></p>
    <li data-md>
     <p><a href="#secure-context">§ 2.8 Consider limiting new features to secure contexts</a></p>
    <li data-md>
     <p><a href="#user-decisions">§ 1.4.1 Help users make good decisions</a></p>
   </ul>
   <h3 class="heading settled" data-level="2.7" id="text-formats"><span class="secno">2.7. </span><span class="content">Design textual formats for humans</span><a class="self-link" href="#text-formats"></a></h3>
   <p>Design textual formats that can be easily produced and consumed by people.
Textual formats also improve <a href="https://www.w3.org/TR/ethical-web-principles/#transparent">transparency</a>.</p>
   <p>Favor readability over compactness.
File size can be optimized by tooling,
and tends to become a lower priority over time.
When file size is a significantly higher priority,
perhaps a textual format is not appropriate.</p>
   <div class="example" id="example-db958612"><a class="self-link" href="#example-db958612"></a>
SVG path syntax was designed to be compact,
with single-letter commands and unlabeled series of coordinates after them.
At the time, file size was a primary concern,
but while the importance of size efficiency has declined over time,
the cost to human readability has remained the same.
</div>
   <p>People who are presented with a textual format
should be able to use a text editor
to easily produce or modify content.
People who edit text will introduce a range of errors, but
could struggle to identify and fix those errors.</p>
   <p>People expect some amount of flexibility in terms of how their edits are processed.
<a href="#avoid-ambiguity">Clearly defining</a> syntactic flexibility—​such as in whitespace, quoting, or delimiters—​could ensure that content is both easy to edit and produces consistent results.</p>
   <div class="example" id="example-92a0fa51"><a class="self-link" href="#example-92a0fa51"></a>
The JSON format is an example of a format that appears to be flexible,
but it lacks many of these basic usability amenities.
In JSON there is:
no commenting capability,
objects and arrays cannot have trailing commas, and
quotes are mandatory for object keys.
This makes JSON prone to syntactic errors as a result of manual edits.
</div>
   <p>Containing the scope of a format that is affected by a syntax error
could improve robustness and human usability.
This requires that specifications fully define processing and
error handling so that all inputs result in consistent outcomes.</p>
   <div class="example" id="example-56153df0"><a class="self-link" href="#example-56153df0"></a>
Typos in CSS properties only cause that property to be ignored.
Errors in properties rarely cause an entire rule to be lost.
</div>
   <p>If your format is intended to be used only by machines,
a binary format is likely to be more efficient,
in addition to discouraging people from authoring or editing content directly.</p>
   <h3 class="heading settled" data-level="2.8" id="secure-context"><span class="secno">2.8. </span><span class="content">Consider limiting new features to secure contexts</span><a class="self-link" href="#secure-context"></a></h3>
   <p>Always limit your feature to secure contexts
if it would pose a risk to the user
without the authentication, integrity, or confidentiality
that’s present only in secure contexts.</p>
   <div class="example" id="example-ba6f372c"><a class="self-link" href="#example-ba6f372c"></a>
One example of a feature that should be limited to secure contexts
is <a href="https://www.w3.org/TR/geolocation-API/">Geolocation</a>,
since it would be a risk to users' privacy to transmit their location in an insecure way.
</div>
   <p>For other features, TAG members past and present
haven’t reached consensus on general advice.
Some believe that all new features
(other than features which are additions to existing features)
should be limited to secure contexts.
This would help encourage the use of HTTPS,
helping users be more secure in general.</p>
   <p>Others believe that features should only be limited to secure contexts
if they have a known security or privacy impact.
This lowers the barrier to entry for creating web pages
that take advantage of new features which don’t impact user security or privacy.</p>
   <div class="note" role="note">
    
Specification authors can limit most features defined in
Web IDL <a data-link-type="biblio" href="#biblio-webidl" title="Web IDL Standard">[WEBIDL]</a>,
to secure contexts
by using the
[<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext">SecureContext</a></code>] extended attribute
on interfaces, namespaces, or their members (such as methods and attributes).


    <p>However, for some types of API (e.g., dispatching an event),
limitation to secure contexts should just
be defined in normative prose in the specification.
If this is the case,
consider whether there might be scope for adding a similar mechanism
to [<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext①">SecureContext</a></code>]
to make this process easier for future API developers.</p>
   </div>
   <div class="note" role="note">
    
As described in <a href="#feature-detect">§ 2.6 New features should be detectable</a>,
you should provide a way to programmatically detect whether a feature is available,
including cases where the feature is unavailable because the context isn’t secure.


    <p>However, if, for some reason
there is no way for code to gracefully handle the feature not being present,
limiting the feature to secure contexts might cause problems
for code (such as libraries) that may be used in either secure or non-secure contexts.</p>
   </div>
   <h3 class="heading settled" data-level="2.9" id="do-not-expose-use-of-private-browsing-mode"><span class="secno">2.9. </span><span class="content">Don’t reveal that private browsing mode is engaged</span><a class="self-link" href="#do-not-expose-use-of-private-browsing-mode"></a></h3>
   <p>Make sure that your feature doesn’t give authors a way to detect private browsing mode.</p>
   <p>Some people use <a href="https://www.w3.org/2001/tag/doc/private-browsing-modes/">private browsing mode</a>
to protect their own personal safety.
Because of this, the fact that someone is using private browsing mode
may be <a href="https://www.w3.org/TR/security-privacy-questionnaire/#sensitive-data">sensitive information</a> about them.
This information may <a href="https://www.w3.org/TR/ethical-web-principles/#noharm">harm</a> people
if it is revealed to a web site controlled by others who have power over them
(such as employers, parents, partners,
or <a href="https://www.w3.org/TR/ethical-web-principles/#expression">state actors</a>).</p>
   <p>Given such dangers,
websites should not be able to detect that private browsing mode is engaged.</p>
   <div class="example" id="example-52cad010"><a class="self-link" href="#example-52cad010"></a>
User Agents which support <a href="https://www.w3.org/TR/IndexedDB/">IndexedDB</a>
should not disable it in private browsing mode,
because that would reveal that private browsing mode is engaged
</div>
   <div class="example" id="example-26556da1">
    <a class="self-link" href="#example-26556da1"></a>
The <a href="https://www.w3.org/TR/payment-request/">Payment Request API</a>’s
<a href="https://www.w3.org/TR/payment-request/#show-method">show() method</a>,
when called,
allows User Agents <q cite="https://www.w3.org/TR/payment-request/#show-method">to act
as if the user had immediately
<a href="https://www.w3.org/TR/payment-request/#dfn-user-aborts-the-payment-request">aborted the payment request</a></q>.


    <p>This enables User Agents to automatically abort payment requests
in private browsing mode
(thus protecting <a href="https://www.w3.org/TR/security-privacy-questionnaire/#sensitive-data">sensitive information</a>
such as the user’s shipping or billing address)
without revealing that private browsing mode is engaged.</p>
   </div>
   <p>See also:</p>
   <ul>
    <li data-md>
     <p><a href="https://www.w3.org/TR/ethical-web-principles/#privacy">Security and privacy are essential</a></p>
    <li data-md>
     <p><a href="https://www.w3.org/TR/security-privacy-questionnaire/#underlying-platform-data">What data does this specification expose to an origin?</a></p>
    <li data-md>
     <p><a href="#private-browsing-mode">§ 2.10 Consider how your API should behave in private browsing mode</a></p>
   </ul>
   <h3 class="heading settled" data-level="2.10" id="private-browsing-mode"><span class="secno">2.10. </span><span class="content">Consider how your API should behave in private browsing mode</span><a class="self-link" href="#private-browsing-mode"></a></h3>
   <p>If necessary, specify how your API should behave differently
in private browsing mode.</p>
   <p>For example, if your API would reveal information
that would allow someone to correlate
a single user’s activity
both in and out of private browsing mode,
consider possible <a href="https://www.w3.org/TR/security-privacy-questionnaire/#mitigations">mitigations</a>
such as introducing noise,
or <a href="#user-decisions">helping users make good decisions</a> about this tracking, if necessary.</p>
   <p>Private browsing modes enable users to browse the web
without leaving any trace of their private browsing on their device.
Therefore, APIs which provide client-side storage
should not persist data stored
while private browsing mode is engaged
after it’s disengaged.
This can and should be done
without revealing any detectable API differences to the site.</p>
   <div class="example" id="example-fb11a26c">
    <a class="self-link" href="#example-fb11a26c"></a>
User Agents which support
<a href="https://html.spec.whatwg.org/multipage/webstorage.html#dom-localstorage" id="79d831630">localStorage</a>
should not persist storage area changes
made while private browsing mode is engaged.


    <p>If the User Agent has two simultaneous sessions with a site,
one in private browsing mode and one not,
storage area changes made in the private browsing mode session
should not be revealed to the other browsing session,
and vice versa.
(The <a href="https://html.spec.whatwg.org/multipage/indices.html#event-storage">storage event</a> should not be fired
at the other session’s <a href="https://html.spec.whatwg.org/multipage/window-object.html#window">window object</a>.)</p>
   </div>
   <p>See also:</p>
   <ul>
    <li data-md>
     <p><a href="#do-not-expose-use-of-private-browsing-mode">§ 2.9 Don’t reveal that private browsing mode is engaged</a></p>
    <li data-md>
     <p><a href="https://www.w3.org/TR/security-privacy-questionnaire/#persistent-origin-specific-state">Does this specification introduce new state for an origin that persists across browsing sessions?</a></p>
    <li data-md>
     <p><a href="https://www.w3.org/TR/security-privacy-questionnaire/#private-browsing">Security and privacy self review: Private Browsing</a></p>
   </ul>
   <h3 class="heading settled" data-level="2.11" id="do-not-expose-use-of-assistive-tech"><span class="secno">2.11. </span><span class="content">Don’t reveal that assistive technologies are being used</span><a class="self-link" href="#do-not-expose-use-of-assistive-tech"></a></h3>
   <p>Make sure that your API doesn’t provide a way
for authors to detect that a user is using assistive technology.</p>
   <p><a href="https://www.w3.org/TR/ethical-web-principles/#allpeople">The web platform must be accessible to people with disabilities.</a>
If a site can detect that a user is using an assistive technology,
that site can deny or restrict the user’s access to the services it provides.</p>
   <p>People who make use of assistive technologies
are often <a href="https://www.w3.org/TR/ethical-web-principles/#noharm">vulnerable members of society</a>;
their use of assistive technologies is <a href="https://www.w3.org/TR/security-privacy-questionnaire/#sensitive-data">sensitive information</a> about them.
If an API provides access to this information,
this sensitive information may be revealed to others
(including <a href="https://www.w3.org/TR/ethical-web-principles/#expression">state actors</a>)
who may wish them harm.</p>
   <p>Sometimes people propose features which aim to improve the user experience
for users of assistive technology,
but which would reveal the user’s use of assistive technology as a side effect.
While these are well intentioned,
they violate <a href="#safe-to-browse">§ 1.2 It should be safe to visit a web page</a>,
so alternative solutions must be found.</p>
   <div class="example" id="example-f5a7b3e0">
    <a class="self-link" href="#example-f5a7b3e0"></a>


    <p>The <a href="https://wicg.github.io/aom/">Accessibility Object Model</a> (AOM)
used to define a set of events which, when fired,
<a href="https://github.com/WICG/aom/issues/81">revealed the use of assistive technology</a>.</p>
    <p>AOM has since removed these events and
<a href="https://github.com/WICG/aom/blob/gh-pages/explainer.md#user-action-events-from-assistive-technology">replaced them</a> with synthetic DOM events
which don’t reveal the use of assistive technology.</p>
   </div>
   <p>See also:</p>
   <ul>
    <li data-md>
     <p><a href="https://w3c.github.io/apa/fast/">Web Technology Accessibility Guidelines</a></p>
    <li data-md>
     <p><a href="https://www.w3.org/TR/ethical-web-principles/#privacy">Security and privacy are essential</a></p>
    <li data-md>
     <p><a href="https://www.w3.org/TR/security-privacy-questionnaire/#underlying-platform-data">What data does this specification expose to an origin?</a></p>
   </ul>
   <h3 class="heading settled" data-level="2.12" id="require-user-activation"><span class="secno">2.12. </span><span class="content">Require user activation for powerful APIs</span><a class="self-link" href="#require-user-activation"></a></h3>
   <p>Some powerful APIs can produce intrusive UI (eg. auto-playing audio),
expose user data (eg. interacting with the clipboard),
perform a background activity without an obvious indicator to the user (eg. accessing local storage),
or prompt the user to interact with <a href="#trusted-ui">trusted UI</a>
(eg. permission prompts, device hardware features).
These APIs should be designed to require some indication of user intention (such as <strong>user activation</strong>) in order to function.
This indicates that the user is intentionally interacting with the web page in question.</p>
   <p>User activation is defined in detail
<a href="https://html.spec.whatwg.org/#tracking-user-activation">in the HTML standard</a>.
You should think about the effect your API has on the user experience,
as well as any risks presented to the user,
when deciding whether user activation needs to only occur
once overall (<a href="https://html.spec.whatwg.org/#sticky-activation-gated-api">sticky</a>),
periodically (<a href="https://html.spec.whatwg.org/#transient-activation-gated-api">transient</a>) or
once per API call (<a href="https://html.spec.whatwg.org/#activation-consuming-api">transient consuming</a>).</p>
   <p>Note that while user activation is in many cases necessary,
it is not always <em>sufficient</em>
to protect users from invasive behaviours.
<a href="#user-intent">Designing for user intent</a> and <a href="#user-decisions">helping users to make good decisions</a> is also important.</p>
   <h3 class="heading settled" data-level="2.13" id="support-non-fully-active"><span class="secno">2.13. </span><span class="content">Support non-fully active BFCached documents</span><a class="self-link" href="#support-non-fully-active"></a></h3>
   <p>Specify how your feature behaves
in non-<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active" id="ref-for-fully-active">fully active</a> BFCached (Back/forward cached) documents if possible.</p>
   <p>If your feature does <strong>anything</strong>
that falls into the
following categories:</p>
   <ul>
    <li data-md>
     <p>Interacts with a document from the "outside"
(e.g. sends information to a document)</p>
    <li data-md>
     <p>Makes cross-document interaction/resource sharing possible
(e.g. holding locks)</p>
    <li data-md>
     <p>May malfunction when a document is
kept in a non-<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active" id="ref-for-fully-active①">fully active</a> BFCached state
(instead of getting destroyed)
after the user navigates away from it
or gets restored
(e.g. expects that a state saved in the document
won’t span multiple navigations)</p>
   </ul>
   <p>Specify how your feature works
with non-<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active" id="ref-for-fully-active②">fully active</a> BFCached documents,
following the guidelines in the
<a href="https://w3ctag.github.io/bfcache-guide/">Supporting BFCached Documents</a> guide.</p>
   <p class="note" role="note"><span class="marker">Note:</span> It is possible for a document
to become non-<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active" id="ref-for-fully-active③">fully active</a>
for other reasons not related to BFcaching,
such as when the iframe
holding the document gets detached.
This guidance only focuses
on the case where BFCache is involved,
and not other cases that might
cause a document to become non-<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active" id="ref-for-fully-active④">fully active</a>.</p>
   <h3 class="heading settled" data-level="2.14" id="third-party-tools"><span class="secno">2.14. </span><span class="content">Prioritize usability over compatibility with third-party tools</span><a class="self-link" href="#third-party-tools"></a></h3>
   <p>Design new features with usability as the primary goal, and compatibility with third-party tooling as a secondary goal.</p>
   <p>The web platform benefits from a wide ecosystem of tooling
to facilitate easier and faster development.
A lot of the time, the syntax of an upcoming web platform feature
may conflict with that of a third-party tool causing breakage.
This is especially common as third-party tools are often used to prototype
new web platform features.</p>
   <p>In general, web platform features last a lot longer than most third-party tools,
and thus giving them the optimal syntax and functionality should be of high priority.</p>
   <p>In some cases, the conflict will introduce problems across a large number of
web sites, necessitating the feature’s syntax to be redesigned to avoid clashes.</p>
   <div class="example" id="example-1e284310"><a class="self-link" href="#example-1e284310"></a>
    <code>Array.prototype.contains()</code> had to be renamed to
    <code>Array.prototype.includes()</code> to avoid clashes with
    the identically named but incompatible method from PrototypeJS,
    a library that was in use in millions of websites.
</div>
   <p>However, these cases should be exceptions.</p>
   <p>When deciding whether to break third party tools with new syntax, there are several factors to consider,
such as severity of the breakage,
popularity of the third party tool,
and many more.</p>
   <p>Possibly the most important factor is how severely would the usability of the web platform feature be compromised
if its syntax was changed to avoid breaking the third party tool?
If several alternatives of similar usability are being considered,
it is usually preferable to prioritize the ones that inconvenience third party tools the least.</p>
   <div class="example" id="example-4a031163"><a class="self-link" href="#example-4a031163"></a>
When the CSS WG was designing <a data-link-type="biblio" href="#biblio-css-grid-1" title="CSS Grid Layout Module Level 1">CSS Grid Layout</a>,
square brackets were chosen instead of parentheses for naming grid tracks
to avoid breaking Sass, a popular preprocessor.
</div>
   <p>However, if avoiding breaking the third party tool would lead to
a <em>significant</em> negative impact on of the feature’s usability,
that is rarely an acceptable tradeoff,
unless it causes significant breakage of live websites.</p>
   <p>Languages should also provide mechanisms for extensibility
that authors can use to extend the language
without breaking future native functionality,
to reduce such dilemmas in the future.</p>
   <h3 class="heading settled" data-level="2.15" id="prefer-composition"><span class="secno">2.15. </span><span class="content">Build complex types by composing simpler types</span><a class="self-link" href="#prefer-composition"></a></h3>
   <p>Define subtypes that can always be used in place of a supertype.
Avoid interfaces that use inheritance
unless everything that can be said about an instance of the parent
always applies to the child as well.</p>
   <p>With inheritance, a subtype creates a type of item
that can stand in for its supertype.
A subtype needs to provide the same attributes and methods as its supertype.
The subtype also needs to maintain consistent behavior.
If the subtype changes the way that an item works,
something that handles the supertype might not work properly.</p>
   <p>In the theory of type systems, this is known as the
<a href="https://en.wikipedia.org/wiki/Liskov_substitution_principle">Liskov Substitution Principle</a>.</p>
   <div class="example" id="example-2c1a1d5d"><a class="self-link" href="#example-2c1a1d5d"></a>
The <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event">Event</a></code> type is a super-type of <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/uievents/#keyboardevent" id="ref-for-keyboardevent">KeyboardEvent</a></code> and <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/pointerevents/#dom-pointerevent" id="ref-for-dom-pointerevent">PointerEvent</a></code>.
Events always have the same basic set of properties and actions that apply,
like whether the event <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-bubbles" id="ref-for-dom-event-bubbles">bubbles</a></code>.
The subtypes add new properties and actions,
but instances of those subtypes still act in every way as an <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event①">Event</a></code>.
</div>
   <p>A simpler approach is often to avoid inheritance
and reuse existing capabilities
by composition.
New items can define properties that hold
any existing components that are needed.</p>
   <div class="example" id="example-7094db49"><a class="self-link" href="#example-7094db49"></a>
Form-associated custom elements allow custom elements to interact with form submission.
Specializing <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/input.html#htmlinputelement" id="ref-for-htmlinputelement">HTMLInputElement</a></code> would be difficult,
because an <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/input.html#the-input-element" id="ref-for-the-input-element">input</a></code> element is quite complex
and a specialization of <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/input.html#htmlinputelement" id="ref-for-htmlinputelement①">HTMLInputElement</a></code> would need to maintain that complexity.
Custom elements can attach (i.e., compose) items that are necessary to
interact with a form
without having to deal with the complications of <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/input.html#htmlinputelement" id="ref-for-htmlinputelement②">HTMLInputElement</a></code>.
</div>
   .



   <h2 class="heading settled" data-level="3" id="html"><span class="secno">3. </span><span class="content">HTML</span><a class="self-link" href="#html"></a></h2>
   <p>This section details design principles for features which are exposed via HTML.</p>
   <h3 class="heading settled" data-level="3.1" id="attribute-reuse"><span class="secno">3.1. </span><span class="content">Re-use HTML attribute names (only) for similar functionality</span><a class="self-link" href="#attribute-reuse"></a></h3>
   <p>If you are adding a feature that is specified through an HTML attribute,
check if there is an existing attribute name on another element
that specifies similar functionality.
Re-using an existing HTML attribute name means authors can utilize existing knowledge,
maintains <a href="#consistency">consistency</a> across the language,
and keeps its vocabulary small.</p>
   <div class="example" id="example-c1977603"><a class="self-link" href="#example-c1977603"></a>
    The same attribute name, <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/form-elements.html#attr-select-multiple" id="ref-for-attr-select-multiple">multiple</a></code>,
    is used on both <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/form-elements.html#the-select-element" id="ref-for-the-select-element">select</a></code>
    to allow selection of multiple values,
    as well as on <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/input.html#the-input-element" id="ref-for-the-input-element①">input</a></code>
    to allow entry of multiple values.
</div>
   <div class="example" id="example-628fe6cf"><a class="self-link" href="#example-628fe6cf"></a>
    The <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/interactive-elements.html#attr-details-open" id="ref-for-attr-details-open">open</a></code> attribute was introduced on the <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/interactive-elements.html#the-details-element" id="ref-for-the-details-element">details</a></code> element,
    and then re-used by <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/interactive-elements.html#the-dialog-element" id="ref-for-the-dialog-element">dialog</a></code>.
</div>
   <p>If you do re-use an existing HTML attribute,
try to keep its syntax as close as possible to the syntax of the existing attribute.</p>
   <div class="example" id="example-0e853da5"><a class="self-link" href="#example-0e853da5"></a>
    The <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/forms.html#attr-label-for" id="ref-for-attr-label-for">for</a></code> attribute was introduced on the <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/forms.html#the-label-element" id="ref-for-the-label-element">label</a></code> element,
    for specifying which form element it should be associated with.
    It was later re-used by <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/form-elements.html#the-output-element" id="ref-for-the-output-element">output</a></code>,
    for specifying which elements contributed
    input values to or otherwise affected the calculation.
    The syntax of the latter is broader:
    it accepts a space-separated list of ids,
    whereas the former only accepts one id.
    However, they both still conform to the same syntax,
    whereas e.g. if one of them accepted a list of ids,
    and the other one a selector, that would be an antipattern.
</div>
   <p>The inverse also applies:
do <strong>not</strong> re-use an existing HTML attribute name if
the functionality you are adding is <strong>not</strong> similar to that of the existing attribute.</p>
   <div class="example" id="example-9866c588"><a class="self-link" href="#example-9866c588"></a>
    The <code>type</code> attribute is used on the <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/input.html#the-input-element" id="ref-for-the-input-element②">input</a></code> and <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/form-elements.html#the-button-element" id="ref-for-the-button-element">button</a></code> elements
    to further specialize the element type,
    whereas on every other element (e.g. <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/semantics.html#the-link-element" id="ref-for-the-link-element">link</a></code>, <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/scripting.html#script" id="ref-for-script">script</a></code>, <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/semantics.html#the-style-element" id="ref-for-the-style-element">style</a></code>)
    it specifies MIME type.
    This is an antipattern; one of these groups of attributes should have had a different name.
</div>
   <h3 class="heading settled" data-level="3.2" id="html-lists"><span class="secno">3.2. </span><span class="content">Use space-separated attributes for short lists of values, separate elements for longer lists</span><a class="self-link" href="#html-lists"></a></h3>
   <p>When specifying metadata about an element that can be a list of values,
common practice is to use a space-separated list and expose it as a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#domtokenlist" id="ref-for-domtokenlist">DOMTokenList</a></code>.</p>
   <div class="example" id="example-0db34933">
    <a class="self-link" href="#example-0db34933"></a>


    <p>The <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/dom.html#classes" id="ref-for-classes">class</a></code> attribute on elements takes a space-separated list of class names.
<code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-element-classlist" id="ref-for-dom-element-classlist">classList</a></code> is a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#domtokenlist" id="ref-for-domtokenlist①">DOMTokenList</a></code> that allows authors to add and remove class names.</p>
   </div>
   <div class="example" id="example-866341e9">
    <a class="self-link" href="#example-866341e9"></a>


    <p>The <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-sandbox" id="ref-for-attr-iframe-sandbox">sandbox</a></code> attribute takes a space-separated list of sandbox flags.
<code>iframe.sandbox</code> is a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#domtokenlist" id="ref-for-domtokenlist②">DOMTokenList</a></code> that allows authors to add and remove sandbox flags.</p>
   </div>
   <p>Consistency with other parts of the Web Platform is important,
even if this means using another character to separate values.</p>
   <div class="example" id="example-03f014a3">
    <a class="self-link" href="#example-03f014a3"></a>


    <p>The <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/input.html#attr-input-accept" id="ref-for-attr-input-accept">accept</a></code> attribute is a comma-separated list of values,
because it needs to match the syntax of the `<code><a data-link-type="http-header" href="https://www.rfc-editor.org/rfc/rfc9110.html#name-accept" id="ref-for-name-accept">Accept</a></code>` HTTP header.</p>
   </div>
   <p>Regardless of syntax, attributes should only be used for short lists of values.
For longer lists, embedding the entire list in an attribute is discouraged.
Instead, current practice is to use separate elements to represent the list items (and any metadata about them).
These elements could either be children of the element in question, or linked through an attribute.</p>
   <div class="example" id="example-37a42680">
    <a class="self-link" href="#example-37a42680"></a>


    <p>The list of values for the <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/form-elements.html#the-select-element" id="ref-for-the-select-element①">select</a></code> element is provided as a series of <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/form-elements.html#the-option-element" id="ref-for-the-option-element">option</a></code> element children.
However, when providing a list of recommended values for an <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/input.html#the-input-element" id="ref-for-the-input-element③">input</a></code> element, a separate element is used (<code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/form-elements.html#the-datalist-element" id="ref-for-the-datalist-element">datalist</a></code>),
linked through a <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/input.html#attr-input-list" id="ref-for-attr-input-list">list</a></code> attribute.</p>
   </div>
   <div class="example" id="example-8e66c282">
    <a class="self-link" href="#example-8e66c282"></a>


    <p>The list of media sources for a <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/media.html#video" id="ref-for-video">video</a></code> or <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/media.html#audio" id="ref-for-audio">audio</a></code> element is provided as a series of <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#the-source-element" id="ref-for-the-source-element">source</a></code> element children.</p>
   </div>
   <p>In rare instances, other tradeoffs are necessary.</p>
   <div class="example" id="example-2fb31462">
    <a class="self-link" href="#example-2fb31462"></a>


    <p>The <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/embedded-content.html#attr-img-srcset" id="ref-for-attr-img-srcset">srcset</a></code> attribute allows for a comma-separated list of image candidate strings.
This syntax was chosen over a list of child elements to avoid verbosity
and because the <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#the-img-element" id="ref-for-the-img-element">img</a></code> element is an empty element that does not permit child elements.
A space-separated syntax would not have been possible, as each list item includes multiple values.</p>
   </div>
   <h3 class="heading settled" data-level="3.3" id="avoid-html-parser-blocking"><span class="secno">3.3. </span><span class="content">Do not pause the HTML parser</span><a class="self-link" href="#avoid-html-parser-blocking"></a></h3>
   <p>Ensure that your design does not require HTML parser to pause to handle external resources.</p>
   <p>As a page parses,
the browser discovers assets that the page needs,
and figures out a priority in which they should be loaded in parallel.
Such parsing can be disrupted by a resource which blocks the discovery of subsequent resources.
At worst, it means the browser downloads items in series rather than parallel.
At best, it means the browser queues downloads based on speculative parsing,
which may turn out to be incorrect.</p>
   <p>Features that block the parser generally do so
because they want to feed additional content into the parser
before subsequent content.
This is the case of legacy <code>&lt;script src="…"></code> elements,
which can inject into the parser using <code>document.write(…)</code>.
Due to the performance issues above, new features must not do this.</p>
   <h3 class="heading settled" data-level="3.4" id="avoid-render-blocking"><span class="secno">3.4. </span><span class="content">Avoid features that block rendering</span><a class="self-link" href="#avoid-render-blocking"></a></h3>
   <p>Features that require resource loading or other operations before rendering the page,
often result in blank page (or the previous page). The result is a poor user experience.</p>
   <p>Consider adding such features only in cases when the overall user experience is improved.
A canonical example of this is blocking rendering in order to download and process a stylesheet.
The alternative user experience is a flash of unstyled content, which is undesirable.</p>
   <p>See also <a href="#worker-only">§ 10.2.1 Some APIs should only be exposed to dedicated workers</a>.</p>
   <h3 class="heading settled" data-level="3.5" id="html-idl-must-by-synced"><span class="secno">3.5. </span><span class="content">Keep attributes in sync</span><a class="self-link" href="#html-idl-must-by-synced"></a></h3>
   <p>New content attributes
should have a corresponding IDL attribute with the same name,
and the state between the two should be kept synchronized.
Carving out a synchronized IDL attribute with inconsistent naming
results in confusion, and should be avoided.</p>
   <div class="note" role="note">
This does not hold the other way around.
A new IDL attribute does not always warrant a content attribute counterpart.
</div>
   <div class="example" id="example-86fd7cdf"><a class="self-link" href="#example-86fd7cdf"></a>
A counterpattern to this guidance can be found in
<code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/input.html#the-input-element" id="ref-for-the-input-element④">input</a></code>’s  <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/input.html#attr-input-value" id="ref-for-attr-input-value">value</a></code>, <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/form-elements.html#the-option-element" id="ref-for-the-option-element①">option</a></code>’s <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/form-elements.html#attr-option-selected" id="ref-for-attr-option-selected">selected</a></code>, and <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/input.html#the-input-element" id="ref-for-the-input-element⑤">input</a></code>’s <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/input.html#attr-input-checked" id="ref-for-attr-input-checked">checked</a></code>
where the content attributes are not reflected to IDL attributes with the same names.
Their IDL attributes are <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/input.html#dom-input-defaultvalue" id="ref-for-dom-input-defaultvalue">defaultValue</a></code>, <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/form-elements.html#dom-option-defaultselected" id="ref-for-dom-option-defaultselected">defaultSelected</a></code> and <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/input.html#dom-input-defaultchecked" id="ref-for-dom-input-defaultchecked">defaultChecked</a></code> respectively.
</div>
   <h3 class="heading settled" data-level="3.6" id="naming-of-url-attributes"><span class="secno">3.6. </span><span class="content">Name URL-containing attributes based on their primary purpose</span><a class="self-link" href="#naming-of-url-attributes"></a></h3>
   <p>If the element enables the user to navigate to the URL contained in the attribute, call the attribute <code>href</code>, like the <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element" id="ref-for-the-a-element">a</a></code> element’s <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/links.html#attr-hyperlink-href" id="ref-for-attr-hyperlink-href">href</a></code> attribute.</p>
   <p class="note" role="note"><span class="marker">Note:</span> In hindsight, <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/forms.html#the-form-element" id="ref-for-the-form-element">form</a></code>’s <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#attr-fs-action" id="ref-for-attr-fs-action">action</a></code> attribute should have been named <code>href</code>.</p>
   <p>If the element causes the resource at the given URL to be loaded, call the attribute <code>src</code>, like the <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#the-img-element" id="ref-for-the-img-element①">img</a></code> element’s <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/embedded-content.html#attr-img-src" id="ref-for-attr-img-src">src</a></code> attribute or the <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/scripting.html#script" id="ref-for-script①">script</a></code> element’s <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/scripting.html#attr-script-src" id="ref-for-attr-script-src">src</a></code> attribute.</p>
   <p class="note" role="note"><span class="marker">Note:</span> HTML has a number of legacy inconsistencies that should not be emulated, like the way <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/semantics.html#the-link-element" id="ref-for-the-link-element①">link</a></code>’s <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/semantics.html#attr-link-href" id="ref-for-attr-link-href">href</a></code> attribute might allow for navigation or for resource loading, depending on the value of the element’s <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/semantics.html#attr-link-rel" id="ref-for-attr-link-rel">rel</a></code> attribute. </p>
   <p>If the attribute identifies a URL that is auxilliary to the element’s purpose, like <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/media.html#video" id="ref-for-video①">video</a></code>’s <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/media.html#attr-video-poster" id="ref-for-attr-video-poster">poster</a></code>, <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-q-element" id="ref-for-the-q-element">q</a></code>’s <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#attr-q-cite" id="ref-for-attr-q-cite">cite</a></code>, or <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element" id="ref-for-the-a-element①">a</a></code>’s <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/links.html#ping" id="ref-for-ping">ping</a></code>, name the attribute after its semantics.</p>
   <p class="note" role="note"><span class="marker">Note:</span> remember that attributes containing URLs should be represented in IDL as <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString">USVString</a></code>; see <a href="#idl-string-types">§ 8.2 Represent strings appropriately</a>.</p>
   <h3 class="heading settled" data-level="3.7" id="html-overloading"><span class="secno">3.7. </span><span class="content">Give each HTML element a single purpose</span><a class="self-link" href="#html-overloading"></a></h3>
   <p>Each HTML element should have a clear purpose.
Using HTML attributes can modify the semantics of an element,
but attributes should not fundamentally alter that purpose.</p>
   <p>Rather than defining elements that can operate in different modes,
having a separate element for each mode is preferable.
This simplifies usage for authors.</p>
   <div class="example" id="example-416870a2"><a class="self-link" href="#example-416870a2"></a>
The <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/input.html#the-input-element" id="ref-for-the-input-element⑥">input</a></code> element uses a <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/input.html#attr-input-type" id="ref-for-attr-input-type">type</a></code> attribute to switch between
very different modes.
Though each of these modes share a common goal of taking user input,
that is too broad a purpose.
The semantics of these modes could have been more clearly expressed
through the use of distinct element names.
</div>
   <p>Overloading of semantics on the same element
through the use of attributes could be used to select
between different behavior.
This only makes sense where the purpose remains the same
for any value of the attributes.</p>
   <div class="example" id="example-3eddc3fd"><a class="self-link" href="#example-3eddc3fd"></a>
The <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/form-elements.html#the-textarea-element" id="ref-for-the-textarea-element">textarea</a></code> element and an <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/input.html#the-input-element" id="ref-for-the-input-element⑦">input</a></code> element with a <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/input.html#attr-input-type" id="ref-for-attr-input-type①">type</a></code> of <code>"text"</code>
could have used the same element as the differences between these is not material.
</div>
   <p>Potential counterexamples include overspecialization
and elements that rely on context to establish their semantics.</p>
   <div class="example" id="example-36d97918"><a class="self-link" href="#example-36d97918"></a>
The now-deprecated <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/obsolete.html#acronym" id="ref-for-acronym">acronym</a></code> element is duplicative of the <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-abbr-element" id="ref-for-the-abbr-element">abbr</a></code> element
and therefore overspecialization.
</div>
   <div class="example" id="example-2e98e252"><a class="self-link" href="#example-2e98e252"></a>
The <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#the-source-element" id="ref-for-the-source-element①">source</a></code> element can have distinct purposes depending on context.
A <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#the-source-element" id="ref-for-the-source-element②">source</a></code> element is not standalone; it’s semantics are determined by its parent.
</div>
   <h2 class="heading settled" data-level="4" id="css"><span class="secno">4. </span><span class="content">Cascading Style Sheets (CSS)</span><a class="self-link" href="#css"></a></h2>
   <p>This section details design principles for features which are exposed via CSS.</p>
   <h3 class="heading settled" data-level="4.1" id="css-property-separation"><span class="secno">4.1. </span><span class="content">Separate CSS properties based on what should cascade separately</span><a class="self-link" href="#css-property-separation"></a></h3>
   <p>Decide which values should be grouped together as CSS properties
and which should be separate properties
based on what makes sense to set independently.</p>
   <p><a href="https://www.w3.org/TR/2011/REC-CSS2-20110607/cascade.html#cascade">CSS cascading</a>
allows <a href="https://www.w3.org/TR/2011/REC-CSS2-20110607/syndata.html#declaration">declarations</a>
from different rules or different style sheets
to override one another.
A set of values that should all be overridden together
should be grouped together in a single property so that they cascade together.
Likewise, values that should be able to be overridden independently
should be separate properties.</p>
   <div class="example" id="example-e15a5479">
    <a class="self-link" href="#example-e15a5479"></a>For example, the "size" and "sink" aspects of the <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-inline-3/#propdef-initial-letter" id="ref-for-propdef-initial-letter">initial-letter</a> property
belong in a single property
because they are part of a single initial letter effect
(e.g., a drop cap, sunken cap, or raised cap).


    <p>However, the <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-inline-3/#propdef-initial-letter-align" id="ref-for-propdef-initial-letter-align">initial-letter-align</a> property should be separate because it
sets an alignment policy for all of these effects across the document
which is a general stylistic choice
and a function of the script (e.g., Latin, Cyrillic, Arabic) used in the document.</p>
   </div>
   <h3 class="heading settled" data-level="4.2" id="css-inherited-or-not"><span class="secno">4.2. </span><span class="content">Make appropriate choices for whether CSS properties are inherited</span><a class="self-link" href="#css-inherited-or-not"></a></h3>
   <p>Decide whether a property should be <a href="https://drafts.csswg.org/css-cascade-3/#inherited-property">inherited</a>
based on whether the effect of the property should be overridden or added to
if set on an ancestor as well as a descendant.</p>
   <p>If setting the property on a descendant element needs to override (rather than add to)
the effect of setting it on an ancestor,
then the property should probably be inherited.</p>
   <p>If setting the property on a descendant element is a separate effect
that adds to setting it on an ancestor,
then the property should probably <strong>not</strong> be inherited.</p>
   <p>A specification of an non-inherited property requiring that the handling of an element
look at the value of that property on its ancestors (which may also be slow)
is a "code smell" that suggests that the property likely should have been inherited.
A specification of an inherited property requiring that the handling of an element
ignore the value of a property if it’s the same as the value on the parent element
is a "code smell" that suggests that the property likely should not have been inherited.</p>
   <div class="note" role="note">
If a property has an effect on text,
then it’s almost always true that
a descendant element needs to override (rather than add to)
the effect of setting it on an ancestor,
and the property should be inherited.
This is also needed to maintain the design principle that
inserting an unstyled inline element around a piece of text
doesn’t change the appearance of that text.
</div>
   <div class="example" id="example-58897411">
    <a class="self-link" href="#example-58897411"></a>
For example, the <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-backgrounds-3/#propdef-background-image" id="ref-for-propdef-background-image">background-image</a> property is <strong>not</strong> inherited.


    <p>If the <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-backgrounds-3/#propdef-background-image" id="ref-for-propdef-background-image①">background-image</a> property had been inherited,
then the specification would have had to create a good bit of complexity
to avoid a partially-transparent image
being visibly repeated for each descendant element.
This complexity probably would have involved
behaving differently if the property had the same value on the parent element,
which is the "code smell" mentioned above that suggests
that a property likely should not have been inherited.</p>
   </div>
   <div class="example" id="example-51dea7ed">
    <a class="self-link" href="#example-51dea7ed"></a>
Another example is the <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-fonts-4/#propdef-font-size" id="ref-for-propdef-font-size">font-size</a> property, which <strong>is</strong> inherited.
It sets the size of the font used for the text in the element,
and continues to apply to any descendants that don’t
have a declaration setting <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-fonts-4/#propdef-font-size" id="ref-for-propdef-font-size①">font-size</a> to a different value.


    <p>If the <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-fonts-4/#propdef-font-size" id="ref-for-propdef-font-size②">font-size</a> property were not inherited,
then it would probably have to have an initial value
that requires walking up the ancestor chain to find the nearest ancestor
that doesn’t have that value.
This is the "code smell" mentioned above that suggests
that a property likely should have been inherited.</p>
   </div>
   <h3 class="heading settled" data-level="4.3" id="css-computed-value"><span class="secno">4.3. </span><span class="content">Choose the computed value type based on how the property should inherit</span><a class="self-link" href="#css-computed-value"></a></h3>
   <p>Choose the <a data-link-type="dfn" href="https://drafts.csswg.org/css-cascade-5/#computed-value" id="ref-for-computed-value">computed value</a> of a CSS property
based on how it will <a data-link-type="dfn" href="https://drafts.csswg.org/css-cascade-5/#css-inheritance" id="ref-for-css-inheritance">inherit</a>,
including how values where it depends on other properties should inherit.</p>
   <p>Inheritance means that
an element gets the same computed value for a property that its parent has.
This means that processing steps that happen before reaching the computed value
affect the value that is inherited,
and those that happen after (such as for the <a data-link-type="dfn" href="https://drafts.csswg.org/css-cascade-5/#used-value" id="ref-for-used-value">used value</a>) do not.</p>
   <div class="note" role="note">
Note: the <a data-link-type="dfn" href="https://drafts.csswg.org/css-cascade-5/#computed-value" id="ref-for-computed-value①">computed value</a> should not be confused with the <a data-link-type="dfn" href="https://drafts.csswg.org/cssom-1/#resolved-value" id="ref-for-resolved-value">resolved value</a>
which is returned from the <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-1/#dom-window-getcomputedstyle" id="ref-for-dom-window-getcomputedstyle">getComputedStyle()</a></code> method.
</div>
   <div class="example" id="example-bdfc8e34">
    <a class="self-link" href="#example-bdfc8e34"></a>
For example, the <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css2/#propdef-line-height" id="ref-for-propdef-line-height">line-height</a> property may accept a <a class="css production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value">&lt;number></a> value,
such as <a class="css" data-link-type="propdesc" href="https://drafts.csswg.org/css2/#propdef-line-height" id="ref-for-propdef-line-height①">line-height: 1.4</a>.
This value represents a multiple of the <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-fonts-4/#propdef-font-size" id="ref-for-propdef-font-size③">font-size</a>,
so if the <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-fonts-4/#propdef-font-size" id="ref-for-propdef-font-size④">font-size</a> is <span class="css">20px</span>,
the <a data-link-type="dfn" href="https://drafts.csswg.org/css-cascade-5/#actual-value" id="ref-for-actual-value">actual value</a> for the line height is <span class="css">28px</span>.


    <p>However, the <a data-link-type="dfn" href="https://drafts.csswg.org/css-cascade-5/#computed-value" id="ref-for-computed-value②">computed value</a> in this case is the <a class="css production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value①">&lt;number></a> <span class="css">1.4</span>,
not the <a class="css production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#length-value" id="ref-for-length-value">&lt;length></a> <span class="css">28px</span>.
(The <a data-link-type="dfn" href="https://drafts.csswg.org/css-cascade-5/#used-value" id="ref-for-used-value①">used value</a> is <span class="css">28px</span>.)</p>
    <p>The <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css2/#propdef-line-height" id="ref-for-propdef-line-height②">line-height</a> property can be inherited
into elements that have a different <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-fonts-4/#propdef-font-size" id="ref-for-propdef-font-size⑤">font-size</a>,
and any property on those elements which depends on <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css2/#propdef-line-height" id="ref-for-propdef-line-height③">line-height</a>
must take the relevant <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-fonts-4/#propdef-font-size" id="ref-for-propdef-font-size⑥">font-size</a> into account,
rather than the <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-fonts-4/#propdef-font-size" id="ref-for-propdef-font-size⑦">font-size</a> for the element from which
the <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css2/#propdef-line-height" id="ref-for-propdef-line-height④">line-height</a> value was inherited.</p>
<pre class="highlight"><c- p>&lt;</c-><c- f>body</c-> <c- e>style</c-><c- o>=</c-><c- s>"font-size: 20px; line-height: 1.4"</c-><c- p>></c->

  <c- p>&lt;</c-><c- f>p</c-><c- p>></c->This body text has a line height of 28px.<c- p>&lt;/</c-><c- f>p</c-><c- p>></c->

  <c- p>&lt;</c-><c- f>h2</c-> <c- e>style</c-><c- o>=</c-><c- s>"font-size: 200%"</c-><c- p>></c->
    This heading has a line-height of 56px,
    not 28px, even though the line-height was declared on the body.
    This means that the 40px font won’t overflow the line height.
  <c- p>&lt;/</c-><c- f>h2</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>body</c-><c- p>></c->
</pre>
    <p>These number values are generally the preferred values to use for <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css2/#propdef-line-height" id="ref-for-propdef-line-height⑤">line-height</a>
because they inherit better than length values.</p>
   </div>
   <p>See also:</p>
   <ul>
    <li data-md>
     <p><a href="https://wiki.csswg.org/spec/computed-values">Computed Values Patterns</a></p>
   </ul>
   <h3 class="heading settled" data-level="4.4" id="css-naming"><span class="secno">4.4. </span><span class="content">Name CSS properties and values appropriately</span><a class="self-link" href="#css-naming"></a></h3>
   <p>The names of CSS properties are usually nouns,
and the names of their values are usually adjectives (although sometimes nouns).</p>
   <p>Words in properties and values are separated by hyphens.
Abbreviations are generally avoided.</p>
   <p>Use the root form of words when possible
rather than a form with a grammatical prefix or suffix
(for example, "size" rather than "sizing").</p>
   <p>The list of values of a property should generally be chosen
so that new values can be added.
Avoid values like <span class="css">yes</span>, <span class="css">no</span>, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/mediaqueries-5/#valdef-custom-media-true" id="ref-for-valdef-custom-media-true">true</a>, <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/mediaqueries-5/#valdef-custom-media-false" id="ref-for-valdef-custom-media-false">false</a>,
or things with more complex names that are basically equivalent to them.</p>
   <p>Avoid words like "mode" or "state" in the names of properties,
since properties are generally setting a mode or state.</p>
   <p>See <a href="#naming-is-hard">§ 12 Naming principles</a> for general (cross-language) advice on naming.</p>
   <h3 class="heading settled" data-level="4.5" id="css-content-should-be-visible"><span class="secno">4.5. </span><span class="content">Content should be viewable and accessible by default</span><a class="self-link" href="#css-content-should-be-visible"></a></h3>
   <p>Design CSS properties or CSS layout systems (which are typically values of the <code>display</code> property),
to preserve the content as viewable, accessible and usable by default.</p>
   <div class="example" id="example-c09bf2e2"><a class="self-link" href="#example-c09bf2e2"></a>
For example, the default behavior of all layout systems in CSS will not lead to content being clipped,
content overlapping other content, or content being unreachable by scrolling.
These things should only happen if CSS features are used that are more explicitly choosing
such a behavior (for example, <code>overflow: hidden</code> or <code>left: -40em</code>). They should not happen by
default as a result of something like <code>display: flex</code> or <code>position: relative</code>.
</div>
   <h2 class="heading settled" data-level="5" id="js"><span class="secno">5. </span><span class="content">JavaScript Language</span><a class="self-link" href="#js"></a></h2>
   <h3 class="heading settled" data-level="5.1" id="js-only"><span class="secno">5.1. </span><span class="content">Use JavaScript for Web APIs</span><a class="self-link" href="#js-only"></a></h3>
   <p>When designing imperative APIs for the Web,
use JavaScript.
In particular,
you can freely rely upon language-specific semantics and conventions,
with no need to keep things generalized.</p>
   <div class="example" id="example-1f61e97b">
    <a class="self-link" href="#example-1f61e97b"></a>
For example,
the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/custom-elements.html#dom-customelementregistry-define" id="ref-for-dom-customelementregistry-define">CustomElementRegistry.define()</a></code> method takes a reference to
a <a href="https://tc39.es/ecma262/#sec-static-semantics-constructormethod">Constructor Method</a>.


    <p>This takes advantage of the relatively recent addition of classes to JavaScript,
and the fact that method references are very easy to use in JavaScript.</p>
   </div>
   <div class="note" role="note">
JavaScript is standardized under the name <a data-link-type="biblio" href="#biblio-ecmascript" title="ECMAScript Language Specification">[ECMASCRIPT]</a>.
</div>
   <div class="note" role="note">
<a data-link-type="biblio" href="#biblio-webidl" title="Web IDL Standard">[WEBIDL]</a> defines a separate "ECMAScript binding" section,
but this doesn’t imply that Web IDL is intended
to have bindings in other programming languages.
</div>
   <h3 class="heading settled" data-level="5.2" id="js-rtc"><span class="secno">5.2. </span><span class="content">Preserve run-to-completion semantics</span><a class="self-link" href="#js-rtc"></a></h3>
   <p>If a change to state originates outside of the JavaScript execution context,
propagate that change to JavaScript between tasks,
for example by <a href="https://html.spec.whatwg.org/multipage/webappapis.html#queuing-tasks">queuing a task</a>,
or as part of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#update-the-rendering" id="ref-for-update-the-rendering">update the rendering</a>.</p>
   <p>Unlike lower-level languages
such as C++ or Rust,
JavaScript has historically acted as if
only one piece of code can execute at once.
Because of that, JavaScript authors take for granted
that the data available to a function won’t change unexpectedly
while the function is running.</p>
   <p>Changes that are not the result of developer action
and changes that are asynchronously delivered
should not happen in the middle of other JavaScript,
including between <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#microtask" id="ref-for-microtask">microtasks</a>.</p>
   <div class="example" id="example-6f007b39">
    <a class="self-link" href="#example-6f007b39"></a>
During synchronous execution (such as a <code>while</code> loop),
and after <code>await</code>ing an already-resolved <code>Promise</code>,
developers are <em>unlikely</em> to expect things like:


    <ul>
     <li data-md>
      <p>The DOM to update as a result of the HTML parser loading new content from the network</p>
     <li data-md>
      <p><code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-img-width" id="ref-for-dom-img-width">img.width</a></code> to change as a result of loading image data from the network</p>
     <li data-md>
      <p>Buttons of a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/gamepad/#dom-gamepad" id="ref-for-dom-gamepad">Gamepad</a></code> to change state</p>
     <li data-md>
      <p><code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#dom-element-scrolltop" id="ref-for-dom-element-scrolltop">scrollTop</a></code> to change, even if scrolling can visually occur</p>
     <li data-md>
      <p>A synchronous method to act differently depending on asynchronous state changes.
For example, if <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/web-locks/#lockmanager" id="ref-for-lockmanager">LockManager</a></code> had synchronous methods,
their behavior would depend on concurrent calls in other windows.</p>
    </ul>
    <p>These things aren’t updated by the currently running script,
so they shouldn’t change during the current task.</p>
   </div>
   <p>Data can update synchronously from the result of developer action.</p>
   <div class="example" id="example-c444e540"><a class="self-link" href="#example-c444e540"></a>
<code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-childnode-remove" id="ref-for-dom-childnode-remove">node.remove()</a></code> changes the DOM synchronously
and is immediately observable.
</div>
   <p>A few kinds of situations justify violating this rule:</p>
   <ul>
    <li data-md>
     <p>Observing the current time,
as in <code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-date.now" id="ref-for-sec-date.now">Date.now()</a></code> and <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/hr-time/#dom-performance-now" id="ref-for-dom-performance-now">performance.now()</a></code>,
although note that it’s also useful to present a consistent task-wide time
as in <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/web-animations-2/#dom-animationtimeline-currenttime" id="ref-for-dom-animationtimeline-currenttime">document.timeline.currentTime</a></code>.</p>
    <li data-md>
     <p>Functions meant to help developers interrupt synchronous work,
as in the case of <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/requestidlecallback/#dom-idledeadline-timeremaining" id="ref-for-dom-idledeadline-timeremaining">IdleDeadline.timeRemaining()</a></code>.</p>
    <li data-md>
     <p>States meant to protect users from surprising UI changes,
like <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#transient-activation" id="ref-for-transient-activation">transient activation</a>.
Note that <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/interaction.html#dom-useractivation-isactive" id="ref-for-dom-useractivation-isactive">navigator.userActivation.isActive</a></code>
violates <a href="#attributes-like-data">the guidance that recommends a method for this case</a>.</p>
   </ul>
   <h3 class="heading settled" data-level="5.3" id="js-gc"><span class="secno">5.3. </span><span class="content">Don’t expose garbage collection</span><a class="self-link" href="#js-gc"></a></h3>
   <p>Ensure your JavaScript Web APIs don’t provide a way
for an author to know the timing of garbage collection.</p>
   <p>The timing of garbage collection is different in different user agents,
and may change over time as user agents work on improving performance.
If an API exposes the timing of garbage collection,
it can cause programs to behave differently
in different contexts.
This means that authors need to write extra code to handle these differences.
It may also make it more difficult for user agents
to implement different garbage collection strategies,
if there is enough code which depends on timing working a particular way.</p>
   <p>This means that you shouldn’t expose any API that acts as a weak reference,
e.g. with a property that becomes <code class="highlight"><c- kc>null</c-></code>
once garbage collection runs.
Object and data lifetimes in JavaScript code should be predictable.</p>
   <div class="example" id="example-fecc1403">
    <a class="self-link" href="#example-fecc1403"></a>
<code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-document-getelementsbytagname" id="ref-for-dom-document-getelementsbytagname">getElementsByTagName</a></code> returns an <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#htmlcollection" id="ref-for-htmlcollection">HTMLCollection</a></code> object,
which may be re-used if the method is called twice on the same Document object,
with the same tag name.
In practice,
this means that the same object will be returned
if and only if it has not been garbage collected.
This means that the behaviour is different depending on
the timing of garbage collection.


    <p>If <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-document-getelementsbytagname" id="ref-for-dom-document-getelementsbytagname①">getElementsByTagName</a></code> were designed today,
the advice to the designers would be
to either reliably reuse the output,
or to produce a new <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#htmlcollection" id="ref-for-htmlcollection①">HTMLCollection</a></code> each time it’s invoked.</p>
   </div>
   <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-document-getelementsbytagname" id="ref-for-dom-document-getelementsbytagname②">getElementsByTagName</a></code> gives no sign that
it may depend on the timing of garbage collection.
In contrast, APIs which are explicitly designed
to depend on garbage collection,
like <code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/managing-memory.html#sec-weak-ref-objects" id="ref-for-sec-weak-ref-objects">WeakRef</a></code> or <code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/managing-memory.html#sec-finalization-registry-objects" id="ref-for-sec-finalization-registry-objects">FinalizationRegistry</a></code>,
set accurate author expectations about
the interaction with garbage collection.</p>
   <h2 class="heading settled" data-level="6" id="api-surface"><span class="secno">6. </span><span class="content">Designing JavaScript APIs</span><a class="self-link" href="#api-surface"></a></h2>
   <h3 class="heading settled" data-level="6.1" id="webidl-dictionaries-interfaces-namespaces"><span class="secno">6.1. </span><span class="content">Use WebIDL dictionaries, interfaces, and namespaces appropriately</span><a class="self-link" href="#webidl-dictionaries-interfaces-namespaces"></a></h3>
   <p>Use the appropriate WebIDL mechanisms for new APIs.</p>
   <p>WebIDL defines multiple constructs for defining Web APIs.
Dictionaries, interfaces, and namespaces
each have different properties suited to different purposes.</p>
   <p>The goal is to ensure ergonomic, consistent APIs that feel natural to Web developers
while avoiding pitfalls like "fake classes" or classes that provide no functionality.</p>
   <h4 class="heading no-num no-toc settled" id="dictionaries-for-configuration"><span class="content">Use Dictionaries for “Configuration” or “Input-Only” Data</span><a class="self-link" href="#dictionaries-for-configuration"></a></h4>
   <p>Choose a dictionary when the part of the API represents data that is transient,
especially when an API accepts a set of parameters, configuration, or options.</p>
   <p>Dictionaries are ideal for when the data doesn’t get stored or mutated; it’s just used it at the time of the call.</p>
   <p>For example, the <a href="https://www.w3.org/TR/web-share/#dom-sharedata"><code>ShareData</code></a> member from Web Share <a data-link-type="biblio" href="#biblio-web-share" title="Web Share API">[WEB-SHARE]</a>:</p>
<pre class="highlight language-WebIDL"><c- k>dictionary</c-> <c- nc>ShareData</c-> <c- p>{</c->
  <c- b>USVString</c-> <c- g>title</c-><c- p>;</c->
  <c- b>USVString</c-> <c- g>text</c-><c- p>;</c->
  <c- b>USVString</c-> <c- g>url</c-><c- p>;</c->
<c- p>};</c->
</pre>
   <p>And how it’s commonly used:</p>
<pre class="highlight">await navigator.share({text: "Text being shared" });
</pre>
   <p>Dictionaries are easily extensible and makes it easy to add optional fields later as needed.
Members of a dictionary are optional by default, but can be marked as <code>required</code> if needed.</p>
   <p>Dictionaries are also highly idiomatic (i.e., natural to use in JavaScript).
Passing <code>{ ... }</code> inline is the most natural way to supply configuration in JavaScript.</p>
   <p>Dictionaries, because of how they are treated by user agents, are also relatively future-proof.
Dictionary members that are not understood by an implementation are ignored.
New members therefore can be added without breaking older code.</p>
   <p>Dictionaries are best used for objects that don’t need to be distinguished by type in their lifecycle (i.e., <code>instanceof</code> checks are mostly meaningless because it’s always <code>Object</code>).</p>
   <p>Dictionaries are "passed by value" to methods (i.e., they are copied).
Browsers engines strip unknown members when converting from JavaScript objects to a WebIDL representation.
This means that changing the value after it is passed into an API has no effect.</p>
   <p>Again, taking the <a href="https://www.w3.org/TR/web-share/#dom-sharedata"><code>ShareData</code></a> dictionary as an example:</p>
<pre class="highlight language-JS"><c- a>const</c-> data <c- o>=</c-> <c- p>{</c->
    <c- u>"text"</c-><c- o>:</c-> <c- u>"Text being shared"</c-><c- p>,</c->
    <c- c1>// Ignored by a browser that does not include a "whatever" parameter.</c->
    <c- u>"whatever"</c-><c- o>:</c-> <c- mf>123</c-><c- p>,</c->
<c- p>};</c->
<c- a>let</c-> p <c- o>=</c-> navigator<c- p>.</c->share<c- p>(</c->data<c- p>);</c->

<c- c1>// Changing this after calling .share() has no effect</c->
data<c- p>.</c->text <c- o>=</c-> <c- u>"New text"</c-><c- p>;</c->
</pre>
   <h4 class="heading no-num no-toc settled" id="interface-for-functionality-state-identity"><span class="content">Choose an Interface for Functionality, State, and Identity</span><a class="self-link" href="#interface-for-functionality-state-identity"></a></h4>
   <p>Interfaces are roughly equivalent to classes in JavaScript.
Use an interface when a specification needs to bundle state—​both visible properties and internal "slots"—​with operations on that state (i.e., methods).</p>
   <p>Unlike dictionaries, interfaces:</p>
   <ul>
    <li data-md>
     <p>can have instances with state,</p>
    <li data-md>
     <p>can have need read-only properties,</p>
    <li data-md>
     <p>can exhibit side-effects on assignment, and</p>
    <li data-md>
     <p>provide the ability to check object’s identity
(i.e., one can check if  it is an <code>instanceof</code> a particular class on the global scope),</p>
   </ul>
   <p>Defining an interface also exposes it on the global scope, allowing for the specification of static methods.
For example, the <code>canParse()</code> static method of the URL interface.</p>
<pre class="highlight language-JS"><c- k>if</c-> <c- p>(</c->URL<c- p>.</c->canParse<c- p>(</c->someURL<c- p>))</c-> <c- p>{</c->
    <c- c1>// Do stuff...</c->
<c- p>}</c->
</pre>
   <p>Give stateful interfaces a constructor, if possible.
Do not add a constructor if a class has no state.
Doing so is considered <em>bad practice</em>, as it is effectively creating a "fake class":
that is, instances of the interface do nothing that a static method couldn’t do.
<a href="https://html.spec.whatwg.org/#domparser"><code>DOMParser</code></a> or <a href="https://dom.spec.whatwg.org/#domimplementation"><code>DOMImplementation</code></a> are examples of fake classes.</p>
   <h4 class="heading no-num no-toc settled" id="interface-serializer"><span class="content">Provide a serializer to make interface data more accessible</span><a class="self-link" href="#interface-serializer"></a></h4>
   <p>Add serializers to transform instances of an interface into a form that is expected to be used by many applications.</p>
   <p>A <code>.toJSON()</code> method allows an instance of an interface to produce a useful JSON serialization.
A <code>.toBlob()</code> method can be used to extract a binary representation of an interface.</p>
   <p>This makes object natural to use with APIs.
For example, <a href="https://www.w3.org/TR/geolocation/#dom-geolocationposition"><code>GeolocationPosition</code></a>
provides a <code>toJSON()</code> method:</p>
<pre class="highlight language-JS"><c- a>const</c-> position <c- o>=</c-> <c- k>await</c-> <c- ow>new</c-> Promise<c- p>((</c->resolve<c- p>,</c-> reject<c- p>)</c-> <c- p>=></c-> <c- p>{</c->
    navigator<c- p>.</c->geolocation<c- p>.</c->getCurrentPosition<c- p>(</c->resolve<c- p>,</c-> reject<c- p>);</c->
<c- p>});</c->

<c- a>const</c-> message <c- o>=</c-> JSON<c- p>.</c->stringify<c- p>({</c->
    user<c- o>:</c-> userId<c- p>,</c->
    time<c- o>:</c-> Date<c- p>.</c->now<c- p>(),</c->
    position<c- p>,</c-> <c- c1>// .stringify() calls .toJSON() automatically</c->
<c- p>});</c->
</pre>
   <h4 class="heading no-num no-toc settled" id="namespace-to-avoid-fake-classes"><span class="content">Choose a namespace to Avoid “Fake Classes” for Behavior-Only Utilities</span><a class="self-link" href="#namespace-to-avoid-fake-classes"></a></h4>
   <p>A namespace exists to group a set of static properties and methods.
A namespace does not have a prototype.
Examples include the <code>Math</code>, <code>Intl</code>, <code>Atomics</code>, and <code>Console</code> objects in JS.</p>
   <p>With one or two small static functions, a whole new namespace may be overkill.
Attaching them to an existing object might be more appropriate.</p>
   <p>Conversely, a namespace that grows too large or too broad may need better organization or separate logical partitions.</p>
   <h4 class="heading no-num no-toc settled" id="pseudo-namespaces"><span class="content">"Pseudo-namespaces"</span><a class="self-link" href="#pseudo-namespaces"></a></h4>
   <p>As WebIDL interfaces can have attributes,
it is possible to create "pseudo-namespaces"
by defining non-constructable interfaces as attributes.</p>
   <p>A common example are all the attributes attaches to the <code>navigator</code> object.
The <code>navigator</code> object has an interface definition (<a href="https://html.spec.whatwg.org/#navigator"><code>Navigator</code></a>),
which itself contains other attributes that gives access to further functionality
through interface instances.</p>
   <p>For example:</p>
   <ul>
    <li data-md>
     <p><code>navigator.credentials</code> - The <code>CredentialsContainer</code> interface of the Credentials Management API.</p>
    <li data-md>
     <p><code>navigator.geolocation</code> - The <code>Geolocation</code> interface of the Geolocation specification.</p>
    <li data-md>
     <p><code>navigator.permissions</code> - The <code>Permissions</code> interface of the Permissions specification.</p>
   </ul>
   <p>Pseudo-namespaces are useful for when, as a spec author,
you need to refer to a specific instance of a thing
(such as the permissions that apply to a specific browsing context, for <code>navigator.permissions</code>)
even if that thing does not have any visible state exposed to the page.</p>
   <h3 class="heading settled" data-level="6.2" id="attributes-like-data"><span class="secno">6.2. </span><span class="content">Attributes should behave like data properties</span><a class="self-link" href="#attributes-like-data"></a></h3>
   <p><a data-link-type="biblio" href="#biblio-webidl" title="Web IDL Standard">[WEBIDL]</a> attributes should act like simple JavaScript object properties.</p>
   <p>In reality, IDL attributes are implemented as accessor properties
with separate getter and setter methods.
To make them act like JavaScript object properties:</p>
   <ul>
    <li data-md>
     <p>Getters must not have any observable side effects.</p>
    <li data-md>
     <p>Getters should not perform any complex operations.</p>
    <li data-md>
     <p>Ensure that <code class="highlight">obj<c- p>.</c->attribute <c- o>===</c-> obj<c- p>.</c->attribute</code> is always true.
Don’t create a new value each time the getter is called.</p>
    <li data-md>
     <p>If possible, ensure that given <code class="highlight">obj<c- p>.</c->attribute <c- o>=</c-> x</code>,
<code class="highlight">obj<c- p>.</c->attribute <c- o>===</c-> x</code> is true.
(This may not be possible if some kind of conversion is necessary for <code>x</code>.)</p>
   </ul>
   <p>If you were thinking about using an attribute,
but it doesn’t behave this way,
you should probably use a method instead.</p>
   <div class="example" id="example-92914693"><a class="self-link" href="#example-92914693"></a>
For example, <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#dom-htmlelement-offsettop" id="ref-for-dom-htmlelement-offsettop">offsetTop</a></code> performs layout,
which can be complex and time-consuming.
It would have been better if this had been a method like <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#dom-element-getboundingclientrect" id="ref-for-dom-element-getboundingclientrect">getBoundingClientRect()</a></code>.
</div>
   <h3 class="heading settled" data-level="6.3" id="live-vs-static"><span class="secno">6.3. </span><span class="content">Consider whether objects should be live or static</span><a class="self-link" href="#live-vs-static"></a></h3>
   <p>If an API gives access to an object
representing some internal state,
decide whether that object should continue to be updated as the state changes.</p>
   <p>An object which represents the current state at all times
is a <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="live-object">live object</dfn>,
while an object which represents the state at the time it was created
is a <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="static-object">static object</dfn>.</p>
   <h4 class="heading no-num no-toc settled" id="live-objects"><span class="content">Live objects</span><a class="self-link" href="#live-objects"></a></h4>
   <p>If an object allows the author to change the internal state,
that object should be live.
For example, DOM <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#node" id="ref-for-node">Node</a></code>s are live objects,
to allow the author to make changes to the document
with an understanding of the current state.</p>
   <p>Properties of live objects may be computed as they are accessed,
instead of when the object is created.
This makes live objects sometimes a better choice
if the data needed is complex to compute,
since there is no need to compute all the data before the object is returned.</p>
   <p>A live object may also use less memory,
since there is no need to copy data to a static version.</p>
   <h4 class="heading no-num no-toc settled" id="static-objects"><span class="content">Static objects</span><a class="self-link" href="#static-objects"></a></h4>
   <p>If an object represents a list that might change,
most often the object should be static.
This is so that code iterating over the list
doesn’t need to handle the possibility of the list changing in the middle.</p>
   <div class="example" id="example-05004f68">
    <a class="self-link" href="#example-05004f68"></a>
<code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-document-getelementsbytagname" id="ref-for-dom-document-getelementsbytagname③">getElementsByTagName</a></code> returns a live object which represents a list,
meaning that authors need to take care when iterating over its items:


<pre class="highlight language-js"><c- a>let</c-> list <c- o>=</c-> document<c- p>.</c->getElementsByTagName<c- p>(</c-><c- u>"td"</c-><c- p>);</c->

<c- k>for</c-> <c- p>(</c-><c- a>let</c-> i <c- o>=</c-> <c- mf>0</c-><c- p>;</c-> i <c- o>&lt;</c-> list<c- p>.</c->length<c- p>;</c-> i<c- o>++</c-><c- p>)</c-> <c- p>{</c->
    <c- a>let</c-> td <c- o>=</c-> list<c- p>[</c->i<c- p>];</c->
    <c- a>let</c-> tr <c- o>=</c-> document<c- p>.</c->createElement<c- p>(</c-><c- u>"tr"</c-><c- p>);</c->
    tr<c- p>.</c->innerHTML <c- o>=</c-> td<c- p>.</c->outerHTML<c- p>;</c->

    <c- c1>// This has the side-effect of removing td from the list,</c->
    <c- c1>// causing the iteration to become unpredictable.</c->
    td<c- p>.</c->parentNode<c- p>.</c->replaceChild<c- p>(</c->tr<c- p>,</c-> td<c- p>);</c->
<c- p>}</c->
</pre>
    <p>The choice to have <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-parentnode-queryselectorall" id="ref-for-dom-parentnode-queryselectorall">querySelectorAll()</a></code> return static objects
was made after spec authors noticed that <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-document-getelementsbytagname" id="ref-for-dom-document-getelementsbytagname④">getElementsByTagName</a></code>
was causing problems.</p>
    <p><code class="idl"><a data-link-type="idl" href="https://url.spec.whatwg.org/#urlsearchparams" id="ref-for-urlsearchparams">URLSearchParams</a></code> isn’t static,
even though it represents a list,
because it’s the way for authors to change the query string of a URL.</p>
   </div>
   <p class="note" role="note"><span class="marker">Note:</span>  For <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-maplike" id="ref-for-dfn-maplike">maplike</a> and <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-setlike" id="ref-for-dfn-setlike">setlike</a> types,
this advice may not apply,
since these types were designed to behave well
when they change while being iterated.</p>
   <p>If it would not be possible to compute properties
at the time they are accessed,
a static object avoids having to keep the object updated
until it’s garbage collected,
even if it isn’t being used.</p>
   <p>If a static object represents some state which may change frequently,
it should be returned from a method,
rather than available as an attribute.</p>
   <p>See also:</p>
   <ul>
    <li data-md>
     <p><a href="#attributes-like-data">§ 6.2 Attributes should behave like data properties</a></p>
   </ul>
   <h3 class="heading settled" data-level="6.4" id="attributes-vs-methods"><span class="secno">6.4. </span><span class="content">Accessors should behave like properties, not methods</span><a class="self-link" href="#attributes-vs-methods"></a></h3>
   <p>IDL attributes that describe object properties or getters produce information about the state of an object.</p>
   <ul>
    <li data-md>
     <p>A getter must not have any (observable) side effects.
If you have expected side effects, use a method.</p>
    <li data-md>
     <p>Getters should not throw exceptions.
Getters should <a href="#attributes-like-data">behave like regular data properties</a>, and regular data properties do not throw exceptions when read. Furthermore, invalid state should generally be avoided by rejecting <em>writes</em>, not when data is <em>read</em>.
Updating existing getters to throw exceptions should be avoided as existing API users may enumerate or wrap the API and not expect the new exception, breaking backwards compatibility.</p>
    <li data-md>
     <p>Getters should not perform any blocking operations.
If a getter requires performing a blocking operation,
it should be a method.</p>
    <li data-md>
     <p>If the underlying object has not changed,
getters should return
the same object each time it is called.
This means <code>obj.property === obj.property</code> must always hold.
Returning a new value from an getter
each time is not allowed.
If this does not hold, the getter should be a method.</p>
   </ul>
   <p class="note" role="note"><span class="marker">Note:</span> An antipattern example of a blocking operation is with getters like <code>offsetTop</code> performing layout.</p>
   <p>When defining IDL attributes, whenever possible,
preserve values given to the setter
for return from the getter.
That is, given <code>obj.property = x</code>,
a subsequent <code>obj.property === x</code> should be true.
(This will not always be the case,
e.g., if a normalization or type conversion step is necessary,
but should be held as a goal for normal code paths.)</p>
   <p>The object you want to return may be <a href="#live-vs-static">live or static</a>.
This means:</p>
   <ul>
    <li data-md>
     <p>If live, then return the same object each time,
until a state change requires a different object to be returned.
This can be returned from either a property, getter, or method.</p>
    <li data-md>
     <p>If static, then return a new object each time.
In which case, this should be be a method.</p>
   </ul>
   <h3 class="heading settled" data-level="6.5" id="prefer-dictionaries"><span class="secno">6.5. </span><span class="bs-old-id" id="prefer-dict-to-bool"></span><span class="content">Accept optional and/or primitive arguments through dictionaries</span><a class="self-link" href="#prefer-dictionaries"></a></h3>
   <p>API methods should generally use dictionary arguments
instead of a series of optional arguments.</p>
   <p>This makes the code that calls the method more readable,
and the method signature easier to remember.
It also makes the API more extensible in the future,
particularly if multiple arguments with the same type are needed.</p>
   <div class="example" id="example-84a7d4ad">
    <a class="self-link" href="#example-84a7d4ad"></a>
For example,


<pre class="highlight"><c- ow>new</c-> Event<c- p>(</c-><c- u>"example"</c-><c- p>,</c-> <c- p>{</c-> bubbles<c- o>:</c-> <c- kc>true</c-><c- p>,</c-> cancelable<c- o>:</c-> <c- kc>false</c-><c- p>})</c->
</pre>
    <p>is much more readable than</p>
<pre class="highlight"><c- ow>new</c-> Event<c- p>(</c-><c- u>"example"</c-><c- p>,</c-> <c- kc>true</c-><c- p>,</c-> <c- kc>false</c-><c- p>)</c->
</pre>
   </div>
   <p>You should also consider
accepting mandatory parameters through a dictionary,
if it would make the API more readable,
especially when they are of primitive types.</p>
   <div class="example" id="example-015b2c6a">
    <a class="self-link" href="#example-015b2c6a"></a>


<pre class="highlight">window<c- p>.</c->scrollBy<c- p>({</c-> left<c- o>:</c-> <c- mf>50</c-><c- p>,</c-> top<c- o>:</c-> <c- mf>0</c-> <c- p>})</c->
</pre>
    <p>is more readable than</p>
<pre class="highlight">window<c- p>.</c->scrollBy<c- p>(</c-><c- mf>50</c-><c- p>,</c-> <c- mf>0</c-><c- p>)</c->
</pre>
   </div>
   <p>The dictionary itself should be an optional argument,
so that if the author is happy with all of the default options,
they can avoid passing an extra argument.</p>
   <div class="example" id="example-c7e8a584">
    <a class="self-link" href="#example-c7e8a584"></a>
For example,

<pre class="highlight">element<c- p>.</c->scrollIntoView<c- p>(</c-><c- kc>false</c-><c- p>,</c-> <c- p>{});</c->
</pre>
    <p>is equivalent to</p>
<pre class="highlight">element<c- p>.</c->scrollIntoView<c- p>(</c-><c- kc>false</c-><c- p>);</c->
</pre>
   </div>
   <p>See also:</p>
   <ul>
    <li data-md>
     <p><a href="https://ariya.io/2011/08/hall-of-api-shame-boolean-trap">Hall of API Shame: Boolean Trap</a>.</p>
    <li data-md>
     <p><a href="#optional-parameters">§ 6.6 Make method arguments optional if possible</a></p>
    <li data-md>
     <p><a href="#naming-optional-parameters">§ 6.7 Name optional arguments appropriately</a></p>
   </ul>
   <h3 class="heading settled" data-level="6.6" id="optional-parameters"><span class="secno">6.6. </span><span class="content">Make method arguments optional if possible</span><a class="self-link" href="#optional-parameters"></a></h3>
   <p>If an argument for an API method has a reasonable default value,
make that argument optional and specify the default value.</p>
   <div class="example" id="example-6724ca08"><a class="self-link" href="#example-6724ca08"></a>
<code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-eventtarget-addeventlistener" id="ref-for-dom-eventtarget-addeventlistener">addEventListener()</a></code> takes an optional boolean <code>useCapture</code> argument.
This defaults to <code>false</code>, meaning that
the event should be dispatched to the listener in the bubbling phase by default.
</div>
   <p>For boolean arguments,
a default value of <code>false</code>
is strongly preferred.</p>
   <div class="example" id="example-6a0c0a03"><a class="self-link" href="#example-6a0c0a03"></a>
The third, optional argument to <code class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#xmlhttprequest" id="ref-for-xmlhttprequest">XMLHttpRequest</a></code>
defaults to <code>true</code> as an exception to this rule.
This is for legacy interoperability reasons,
not as an example of good design.
</div>
   <p>The default value should be the value
that most authors will choose,
if that choice is obvious.
For boolean attributes,
that might mean that the attribute name
needs to be chosen so that <code>false</code> is the common choice.</p>
   <p>When deciding between different list data types for your API,
unless otherwise required, use the following list types:</p>
   <ul>
    <li data-md>
     <p>Method list arguments should be of type <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#sequence-type" id="ref-for-sequence-type">sequence&lt;T></a></p>
    <li data-md>
     <p>Method return values should be of type <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#sequence-type" id="ref-for-sequence-type①">sequence&lt;T></a></p>
    <li data-md>
     <p>Attributes should be of type <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-observable-array-type" id="ref-for-dfn-observable-array-type">ObservableArray&lt;T></a></p>
   </ul>
   <p>See also:</p>
   <ul>
    <li data-md>
     <p><a href="#prefer-dictionaries">§ 6.5 Accept optional and/or primitive arguments through dictionaries</a></p>
    <li data-md>
     <p><a href="#naming-optional-parameters">§ 6.7 Name optional arguments appropriately</a></p>
    <li data-md>
     <p><a href="https://lists.w3.org/Archives/Public/public-script-coord/2013OctDec/0302.html">APIs that have boolean arguments defaulting to true</a></p>
   </ul>
   <h3 class="heading settled" data-level="6.7" id="naming-optional-parameters"><span class="secno">6.7. </span><span class="content">Name optional arguments appropriately</span><a class="self-link" href="#naming-optional-parameters"></a></h3>
   <p>Name optional arguments to make the default behavior obvious
without being named negatively.</p>
   <p>This applies whether they are provided in a <a href="#prefer-dictionaries">dictionary</a>
or as <a href="#optional-parameters">single arguments</a>.</p>
   <div class="example" id="example-cc7dcba0">
    <a class="self-link" href="#example-cc7dcba0"></a>
<code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-eventtarget-addeventlistener" id="ref-for-dom-eventtarget-addeventlistener①">addEventListener()</a></code> takes an <code>options</code> object
which includes an option named <code>once</code>.
This indicates that the listener should <strong>not</strong> be invoked repeatedly.


    <p>This option could have been named <code>repeat</code>,
but that would require the <a href="#optional-parameters">default</a> to be <code>true</code>.
Instead of naming it <code>noRepeat</code>,
the API authors named it <code>once</code>,
to reflect the default behaviour without using a negative.</p>
    <p>Other examples:</p>
    <ul>
     <li data-md>
      <p><code>passive</code> rather than <code>active</code>, or</p>
     <li data-md>
      <p><code>isolate</code> rather than <code>connect</code>, or</p>
     <li data-md>
      <p><code>private</code> rather than <code>public</code></p>
    </ul>
   </div>
   <p>See also:</p>
   <ul>
    <li data-md>
     <p><a href="#naming-is-hard">§ 12 Naming principles</a></p>
   </ul>
   <h3 class="heading settled" data-level="6.8" id="overloading"><span class="secno">6.8. </span><span class="content">Use overloading wisely</span><a class="self-link" href="#overloading"></a></h3>
   <p>If the behaviour of a method will be significantly different
depending on the arguments passed
you should usually define a separate method
rather than overload a single method.</p>
   <p>Overloading a method such that one of its arguments can be
either a single value or an array of values is useful.
Similarly, passing a dictionary of options
is a good pattern because it allows for more flexibility.</p>
   <p>However, if subsequent arguments for a method have to change
because of the first argument passed,
or if a method has different behaviour depending on the types of inputs,
this can hinder code readability,
and make discovering API functionality more difficult for authors,
and should be avoided.</p>
   <h3 class="heading settled" data-level="6.9" id="constructors"><span class="secno">6.9. </span><span class="content">Classes should have constructors when possible</span><a class="self-link" href="#constructors"></a></h3>
   <p>Make sure that any class that’s part of your API has a constructor,
if appropriate.</p>
   <p>By default, <a data-link-type="biblio" href="#biblio-webidl" title="Web IDL Standard">[WEBIDL]</a> interfaces generate "non-constructible" classes:
trying to create instances of them using <code>new X()</code> will throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror">TypeError</a></code>.
To make them constructible,
you can add appropriate <a href="https://webidl.spec.whatwg.org/#idl-constructors">constructor operations</a> to your interface,
and defining the algorithm for creating new instances of your class.</p>
   <p>This allows JavaScript developers
to create instances of the class
for purposes such as testing, mocking,
or interfacing with third-party libraries which accept instances of that class.
It also gives authors the ability to create a subclass of the class,
which is otherwise prevented,
because of the way JavaScript handles subclasses.</p>
   <p>This won’t be appropriate in all cases.
For example:</p>
   <ul>
    <li data-md>
     <p>Some objects represent access to privileged resources,
so they need to be constructed by factory methods
which can access those resources.</p>
    <li data-md>
     <p>Some objects have very carefully controlled lifecycles,
so they need to be created and accessed through specific methods.</p>
    <li data-md>
     <p>Some objects represent an abstract base class,
which shouldn’t be constructed,
and which authors should not be able to define subclasses for.</p>
   </ul>
   <p class="example" id="example-b036c85f"><a class="self-link" href="#example-b036c85f"></a>
The <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event②">Event</a></code> class, and all its derived interfaces, are constructible.
This is useful when testing code which handles events:
an author can construct an <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event③">Event</a></code> to pass to a method
which handles that type of event.
</p>
   <p class="example" id="example-efe51367"><a class="self-link" href="#example-efe51367"></a>
The <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window">Window</a></code> class isn’t constructible,
because creating a new window is a privileged operation
with significant side effects.
Instead, the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-open" id="ref-for-dom-open">window.open()</a></code> method
is used to create new windows.
</p>
   <p class="example" id="example-c23596fe"><a class="self-link" href="#example-c23596fe"></a>
The <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/imagebitmap-and-animations.html#imagebitmap" id="ref-for-imagebitmap">ImageBitmap</a></code> class isn’t constructible,
as it represents an immutable, ready-to-paint bitmap image,
and the process of getting it ready to paint must be done asynchronously.
Instead, the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/imagebitmap-and-animations.html#dom-createimagebitmap" id="ref-for-dom-createimagebitmap">createImageBitmap()</a></code> factory method is used to create it.
</p>
   <p class="example" id="example-97798904"><a class="self-link" href="#example-97798904"></a>
The <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#domtokenlist" id="ref-for-domtokenlist③">DOMTokenList</a></code> class is, sadly,
<a href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=27114">not constructible</a>.
This prevents the creation of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/custom-elements.html#custom-element" id="ref-for-custom-element">custom elements</a>
that expose their token list attributes as <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#domtokenlist" id="ref-for-domtokenlist④">DOMTokenList</a></code>s.
</p>
   <div class="example" id="example-ebdfca9b">
    <a class="self-link" href="#example-ebdfca9b"></a>
Several non-constructible classes,
like <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" id="ref-for-navigator">Navigator</a></code>, <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#history-3" id="ref-for-history-3">History</a></code>, or <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webcrypto/#dfn-Crypto" id="ref-for-dfn-Crypto">Crypto</a></code>,
are non-constructible because they are singletons
representing access to per-window information.
In these cases, something like the Web IDL <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-namespace" id="ref-for-dfn-namespace">namespace</a> feature
might have been a better fit,
but these features were designed before namespaces,
and go beyond what is currently possible with namespaces.


    <p>If your API requires this type of singleton,
consider using a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-namespace" id="ref-for-dfn-namespace①">namespace</a>,
and <a href="https://github.com/whatwg/webidl/issues/new">File an issue on Web IDL</a>
if there is some problem with using them.</p>
   </div>
   <p>Factory methods can complement constructors, but generally should not be used <em>instead</em> of them.
It may still be valuable to include factory methods
in addition to constructors, when they provide additional benefits.
A common such case is when an API includes base classes
and multiple specialized subclasses,
with a factory method
for creating the appropriate subclass based on the parameters passed.
Often the factory method is a static method on the
closest common base subclass of the returned result.</p>
   <div class="example" id="example-071fec19"><a class="self-link" href="#example-071fec19"></a>
The <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-document-createelement" id="ref-for-dom-document-createelement">createElement</a></code> method is an example of a
factory method that could not have been implemented as a constructor,
as its result can be any of a number of subclasses of <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element">Element</a></code>.
</div>
   <div class="example" id="example-42416b6a"><a class="self-link" href="#example-42416b6a"></a>
The deprecated <code>MouseEvent.initMouseEvent()</code> factory method only creates <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/uievents/#mouseevent" id="ref-for-mouseevent">MouseEvent</a></code> objects,
which were originally not constructible,
even though there was no technical reason against that.
Eventually it was deprecated, and the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/uievents/#mouseevent" id="ref-for-mouseevent①">MouseEvent</a></code> object was simply made constructible.
</div>
   <h3 class="heading settled" data-level="6.10" id="synchronous"><span class="secno">6.10. </span><span class="content">Be synchronous when appropriate</span><a class="self-link" href="#synchronous"></a></h3>
   <p>Where possible, prefer synchronous APIs when designing a new API.
Synchronous APIs are simpler to use,
and need less infrastructure set-up (such as making functions <code>async</code>).</p>
   <p>An API should generally be synchronous if the following rules of thumb apply:</p>
   <ul>
    <li data-md>
     <p>The API is not expected to ever be gated behind a permission prompt, or another dialog such as a device selector.</p>
    <li data-md>
     <p>The API implementation will not be blocked by a lock, filesystem or network access, for example, inter-process communication.</p>
    <li data-md>
     <p>The execution time is short and deterministic.</p>
   </ul>
   <h3 class="heading settled" data-level="6.11" id="promises"><span class="secno">6.11. </span><span class="content">Design asynchronous APIs using Promises</span><a class="self-link" href="#promises"></a></h3>
   <p>If an API method needs to be asynchronous, use Promises,
not callback functions.</p>
   <p>Using Promises consistently across the web platform
means that APIs are easier to use together,
such as by chaining promises.
Promise-using code also tends to be easier to understand
than code using callback functions.</p>
   <p>An API might need to be asynchronous if:</p>
   <ul>
    <li data-md>
     <p>the user agent needs to prompt the user for <a href="#user-decisions">permission</a>,</p>
    <li data-md>
     <p>some information might need to be read from disk,
or requested from the network,</p>
    <li data-md>
     <p>the user agent may need to do a significant amount of work on another thread,
or in another process, before returning the result.</p>
   </ul>
   <p>See also:</p>
   <ul>
    <li data-md>
     <p><a href="https://www.w3.org/2001/tag/doc/promises-guide">Writing Promise-Using Specifications</a></p>
   </ul>
   <h4 class="heading no-num no-toc settled" id="sync-callbacks"><span class="content">When to use callback functions</span><a class="self-link" href="#sync-callbacks"></a></h4>
   <p>Use synchronous callbacks only when an immediate response is needed.</p>
   <p>Synchronous actions are sometimes needed in APIs,
particularly where there are latency-sensitive actions involved.
For example, browsers need to know how to proceed immediately after an event finishes bubbling,
and media processing can’t always wait for the next task boundary.
Synchronous actions cannot be modeled with a Promise.
Instead, use an explicit callback or event.</p>
   <p>In <a href="https://tc39.es/ecma262/multipage/control-abstraction-objects.html#sec-promisereaction-records">Promise reaction callbacks</a>,
you may not require action within
a fixed number of microtasks.</p>
   <p>This protects Promise composition: patterns like <code>await</code>,
wrapping helper functions, logging, <code>Promise.race()</code>, or multiple
<code>.then()</code> branches all queue an extra microtask and must
not significantly change the behavior of the code they wrap.</p>
   <div class="example" id="example-2bf45bf7">
    <a class="self-link" href="#example-2bf45bf7"></a>


    <p>Event handlers are invoked and cancelled synchronously.
If developer-supplied code needs to be able to call <code>event.<code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-preventdefault" id="ref-for-dom-event-preventdefault">preventDefault()</a></code></code>
or choose a response object with
<code>fetchEvent.<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/ServiceWorker/#dom-fetchevent-respondwith" id="ref-for-dom-fetchevent-respondwith">respondWith()</a></code></code>,
it needs to be a callback rather than a reaction passed to <code>Promise.<code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/control-abstraction-objects.html#sec-promise.prototype.then" id="ref-for-sec-promise.prototype.then">then()</a></code></code>.</p>
   </div>
   <div class="example" id="example-dd425e98">
    <a class="self-link" href="#example-dd425e98"></a>


    <p>A non-event example is the <code>captureController.<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/mediacapture-screen-share/#dom-capturecontroller-setfocusbehavior" id="ref-for-dom-capturecontroller-setfocusbehavior">setFocusBehavior()</a></code></code>
method, which pushes a window the user has chosen to screen-capture to
the front. Applications can decide this based on the window chosen.
The challenge is that allowing delay creates an opportunity for click-jacking attacks from sites.</p>
    <p>Instead of requiring the method be called synchronously on the
reaction microtask of the promise from <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/mediacapture-screen-share/#dom-mediadevices-getdisplaymedia" id="ref-for-dom-mediadevices-getdisplaymedia">getDisplayMedia()</a></code>, the
solution was to instead require the method be called on the
same promise reaction task, with a one second timeout.</p>
   </div>
   <h3 class="heading settled" data-level="6.12" id="aborting"><span class="secno">6.12. </span><span class="content">Cancel asynchronous APIs/operations using AbortSignal</span><a class="self-link" href="#aborting"></a></h3>
   <p>If an asynchronous method can be cancelled,
allow authors to pass in an <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal">AbortSignal</a></code> as part of an options dictionary.</p>
   <div class="example" id="example-52de31d9">
    <a class="self-link" href="#example-52de31d9"></a>

<pre class="highlight language-js"><c- a>const</c-> controller <c- o>=</c-> <c- ow>new</c-> AbortController<c- p>();</c->
<c- a>const</c-> signal <c- o>=</c-> controller<c- p>.</c->signal<c- p>;</c->
geolocation<c- p>.</c->read<c- p>({</c-> signal <c- p>});</c->
</pre>
   </div>
   <p>Using <code>AbortSignal</code> consistently
as the way to cancel an asynchronous operation
means that authors can write less complex code.</p>
   <p>For example, there’s a pattern of using a single <code>AbortSignal</code>
for several ongoing operations,
and then using the corresponding <code>AbortController</code>
to cancel all of the operations at once if necessary
(such as if the user presses "cancel",
or a single-page app navigation occurs.)</p>
   <p>Even if cancellation can’t be guaranteed,
you can still use an <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortcontroller" id="ref-for-abortcontroller">AbortController</a></code>,
because a call to <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-abortcontroller-abort" id="ref-for-dom-abortcontroller-abort">abort()</a></code> on <code>AbortController</code>
is a request, rather than a guarantee.</p>
   <h3 class="heading settled" data-level="6.13" id="string-constants"><span class="secno">6.13. </span><span class="content">Use strings for constants and enums</span><a class="self-link" href="#string-constants"></a></h3>
   <p>Use strings as the values for constants or sets of enumerated values.
See <a href="#naming-is-hard">§ 12 Naming principles</a> when choosing strings.</p>
   <p>Strings make it easier for developers to inspect values
and read code that uses those values.
In JavaScript engines there is no performance benefit
to using integers instead of strings.
The values of a <a href="https://webidl.spec.whatwg.org/#idl-enums">WebIDL enum type</a>
are strings in order to follow this principle.</p>
   <p>If you need to express a state which is a combination of properties,
which might be expressed as a bitmask in another language,
use a dictionary object instead.
This object can be passed around as easily as a single bitmask value.</p>
   <div class="example" id="example-b12961d6"><a class="self-link" href="#example-b12961d6"></a>
The type of a dedicated Worker is set using an enumerated <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/workers.html#workertype" id="ref-for-workertype">WorkerType</a></code> argument.
This has two values ("classic" and "module") and might have used a Boolean type instead.
The use of strings costs nothing and makes code clearer.
</div>
   <div class="example" id="example-2c5eb13f"><a class="self-link" href="#example-2c5eb13f"></a>
The <code class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#xmlhttprequest" id="ref-for-xmlhttprequest①">XMLHttpRequest</a></code> <code class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#dom-xmlhttprequest-readystate" id="ref-for-dom-xmlhttprequest-readystate">readyState</a></code> getter returns an enumerated integer value.
Code that uses this API therefore requires that readers are familiar with the API to understand it.
</div>
   <h3 class="heading settled" data-level="6.14" id="async-by-default"><span class="secno">6.14. </span><span class="content">If you need both asynchronous and synchronous methods, synchronous is the exception</span><a class="self-link" href="#async-by-default"></a></h3>
   <p>In the rare case
where you need to have both
synchronous and asynchronous methods
for the same purpose,
default to asynchronous
and make synchronous the exception.</p>
   <p>Due to current limitations, some specific areas of the web platform
lack asynchronous support.
Therefore having support for synchronous methods
in addition to asynchronous methods
can be beneficial for usability.
Consider these cases an exception,
and have a clear path for deprecation of the synchronous methods
as web platform capabilities evolve.</p>
   <p>For most cases, the synchronous variant
should be distinguished by naming it
with a <code>Sync()</code> suffix.</p>
   <div class="example" id="example-06813f1c"><a class="self-link" href="#example-06813f1c"></a>
For example, the <a href="https://github.com/w3ctag/design-reviews/issues/771">Web Neural Network API</a>
needed to support <a href="https://github.com/webmachinelearning/webnn/issues/272">both cases</a>
to work around a platform limitation,
and made asynchronous the norm
while making synchronous the exception.
</div>
   <div class="note" role="note">
At the moment, one well-known case where this is
applicable is when a design has to cross boundaries
between JavaScript and WASM,
as the <a href="https://github.com/WebAssembly/js-promise-integration/blob/main/proposals/js-promise-integration/Overview.md">Promise integration</a>
is still under development as of today.
</div>
   <h3 class="heading settled" data-level="6.15" id="uint8array"><span class="secno">6.15. </span><span class="content">Output an array of bytes with Uint8Array</span><a class="self-link" href="#uint8array"></a></h3>
   <p>If an API returns a byte array, make it a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-Uint8Array" id="ref-for-idl-Uint8Array">Uint8Array</a></code>, not an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer">ArrayBuffer</a></code>.</p>
   <p><code>ArrayBuffer</code>s cannot be read from directly;
the developer would have to create a view such as a Uint8Array
to read data.
Providing a <code>Uint8Array</code> avoids that additional effort.</p>
   <p>If the bytes in the buffer have a natural intepretation
as one of the other TypedArray types, provide that instead.
For example, if the bytes represent Float32 values, use a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-Float32Array" id="ref-for-idl-Float32Array">Float32Array</a></code>.</p>
   <h3 class="heading settled" data-level="6.16" id="void-functions"><span class="secno">6.16. </span><span class="content">Return <code>undefined</code> from side-effect-causing functions</span><a class="self-link" href="#void-functions"></a></h3>
   <p>When the purpose of a function
is to cause side effects
and not to compute a value,
the function should be specified
to return <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined">undefined</a></code>.</p>
   <p>Sites are unlikely
to come to depend on
such a return value,
which makes it easier
to change the function
to return a meaningful value
in the future
should a use case for one be discovered.</p>
   <div class="example" id="example-5e29a724">
    <a class="self-link" href="#example-5e29a724"></a>


    <p><code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement" id="ref-for-htmlmediaelement">HTMLMediaElement</a></code>’s <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/media.html#dom-media-play" id="ref-for-dom-media-play">play()</a></code> method
was originally defined to return <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①">undefined</a></code>,
since its purpose was
to change the state
of the media element.</p>
    <p>Requests to play media
can fail
in a number of ways,
so <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/media.html#dom-media-play" id="ref-for-dom-media-play①">play()</a></code> was <a href="https://github.com/whatwg/html/issues/505">changed</a>
to return a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise">Promise</a></code>.
If the <abbr>API</abbr>
had originally been defined
to return something other than <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②">undefined</a></code>
(for example,
if it had been defined
to return the media element,
a popular pattern
in “chaining” <abbr>API</abbr>s),
it would not have been backwards compatible
to enhance the usability of this <abbr>API</abbr>
in this manner.</p>
   </div>
   <p>See also:</p>
   <ul>
    <li data-md>
     <p><a href="https://en.wikipedia.org/wiki/Command–query_separation">Command–query separation on Wikipedia</a></p>
   </ul>
   <h3 class="heading settled" data-level="6.17" id="prefer-existing-task-sources"><span class="secno">6.17. </span><span class="content">Prefer existing task sources</span><a class="self-link" href="#prefer-existing-task-sources"></a></h3>
   <p>Use existing <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source" id="ref-for-task-source">task sources</a> for dispatching work where possible.</p>
   <p>Only create a new <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source" id="ref-for-task-source①">task source</a> when there is a clear reason to do so.
Specs use <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source" id="ref-for-task-source②">task sources</a> to group related work (or "<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task" id="ref-for-concept-task">tasks</a>") so UAs can schedule them sensibly.
A task is queued on a task source,
and each task source is associated with a task queue for an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" id="ref-for-event-loop">event loop</a>.
Order is guaranteed within a source, while the UA chooses which queue to service next.</p>
   <p>Use the generic or preexisting task sources whenever possible.
HTML defines <a href="https://html.spec.whatwg.org/multipage/webappapis.html#generic-task-sources">generic task sources</a> meant for broad reuse across specs.
This includes, but is not limited to:
the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source">DOM manipulation task source</a>,
the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source" id="ref-for-user-interaction-task-source">user interaction task source</a>,
and the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source" id="ref-for-networking-task-source">networking task source</a>.
If your feature matches one of these categories,
queue on that source rather than creating a new one.
Doing so improves interoperability, predictability, and performance scheduling across the platform.</p>
   <p>Adding a task source has performance and complexity costs
that all browser implementations pay.
Only mint a new task source when you have a concrete, testable need.
For example, when the feature’s timing/execution model must be isolated
from the generic task sources
(e.g., media elements get their own media element event task source to align with decoder/timeline semantics).</p>
   <p>When writing a spec, prefer HTML’s wrapper algorithms
(<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task">queue a global task</a>, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-an-element-task" id="ref-for-queue-an-element-task">queue an element task</a>)
and avoid relying on a particular <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" id="ref-for-event-loop①">event loop</a>.
And only be explicit about the event loop when appropriate (see also <a href="#event-design">§ 7 Event Design</a>).</p>
   <h2 class="heading settled" data-level="7" id="event-design"><span class="secno">7. </span><span class="content">Event Design</span><a class="self-link" href="#event-design"></a></h2>
   <h3 class="heading settled" data-level="7.1" id="one-time-events"><span class="secno">7.1. </span><span class="content">Use promises for one time events</span><a class="self-link" href="#one-time-events"></a></h3>
   <p>Follow the <a href="https://www.w3.org/2001/tag/doc/promises-guide#one-time-events">advice</a>
in the <strong><a href="https://www.w3.org/2001/tag/doc/promises-guide">Writing
Promise-Using Specifications</a></strong> guideline.</p>
   <h3 class="heading settled" data-level="7.2" id="promises-and-reaction"><span class="secno">7.2. </span><span class="content">Don’t use promises for cancelable events</span><a class="self-link" href="#promises-and-reaction"></a></h3>
   <p>See <a href="#sync-callbacks">when to use callback functions instead</a>.</p>
   <h3 class="heading settled" data-level="7.3" id="promises-and-events"><span class="secno">7.3. </span><span class="content">Events should fire before related Promises resolve</span><a class="self-link" href="#promises-and-events"></a></h3>
   <p>If a Promise-based asynchronous algorithm dispatches events,
it should dispatch them before the Promise resolves,
rather than after.</p>
   <p>When a promise is resolved, a <a href="https://html.spec.whatwg.org/multipage/webappapis.html#microtask" id="e2b55c350">microtask</a> is queued to run its reaction callbacks.
Microtasks are processed when the JavaScript stack empties.
<a href="https://dom.spec.whatwg.org/#dispatching-events">Dispatching an event</a> is synchronous,
which involves the JavaScript stack emptying between each listener.
As a result, if a promise is resolved before dispatching a related event,
any microtasks that are scheduled in reaction to a promise
will be invoked between the first and second listeners of the event.</p>
   <p>Dispatching the event first prevents this interleaving.
All event listeners are then invoked before any promise reaction callbacks.</p>
   <h3 class="heading settled" data-level="7.4" id="dont-invent-event-like"><span class="secno">7.4. </span><span class="content">Don’t invent your own event listener-like infrastructure</span><a class="self-link" href="#dont-invent-event-like"></a></h3>
   <p>When creating an API which allows authors to start and stop a process which generates notifications,
use the existing event infrastructure to allow listening for the notifications.
Create separate API controls to start/stop the underlying process.</p>
   <div class="example" id="example-7b5eb345">
    <a class="self-link" href="#example-7b5eb345"></a>
For example, the Web Bluetooth API provides a <code>startNotifications()</code> method
on the <code>BluetoothRemoteGATTCharacteristic</code> global object,
which adds the object to the "active notification context set".


    <p>When the User Agent receives a notification from the Bluetooth device,
it fires an event at the <code>BluetoothRemoteGATTCharacteristic</code> objects
in the active notification context set.</p>
   </div>
   <p>See:</p>
   <ul>
    <li data-md>
     <p><a href="#events-are-for-notification">§ 7.6 Use events for notification</a></p>
    <li data-md>
     <p><a href="#events-vs-observers">§ 7.9 Use Events and Observers appropriately</a></p>
    <li data-md>
     <p><a href="#state-and-subclassing">§ 7.8 Put state on target objects rather than Events</a></p>
   </ul>
   <h3 class="heading settled" data-level="7.5" id="always-add-event-handlers"><span class="secno">7.5. </span><span class="content">Always add event handler attributes</span><a class="self-link" href="#always-add-event-handlers"></a></h3>
   <p>If your API adds a new event type,
add a corresponding <code>on<em>yourevent</em></code> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes" id="ref-for-event-handler-idl-attributes">event handler IDL attribute</a>
to the interface of any <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler">EventHandler</a></code> which may handle the new event.</p>
   <p>it’s important to continue to define event handler IDL attributes because:</p>
   <ul>
    <li data-md>
     <p>they preserve consistency in the platform</p>
    <li data-md>
     <p>they enable feature-detection for the supported events (see <a href="#feature-detect">§ 2.6 New features should be detectable</a>)</p>
   </ul>
   <p class="note" role="note">
For consistency, if the event needs to be handled by HTML and SVG elements,
add the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes" id="ref-for-event-handler-idl-attributes①">event handler IDL attributes</a>
on the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#globaleventhandlers" id="ref-for-globaleventhandlers">GlobalEventHandlers</a></code> interface mixin,
instead of directly on the relevant element interface(s).
Similarly, add <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes" id="ref-for-event-handler-idl-attributes②">event handler IDL attributes</a>
to <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#windoweventhandlers" id="ref-for-windoweventhandlers">WindowEventHandlers</a></code> rather than <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window①">Window</a></code>.
</p>
   <h3 class="heading settled" data-level="7.6" id="events-are-for-notification"><span class="secno">7.6. </span><span class="content">Use events for notification</span><a class="self-link" href="#events-are-for-notification"></a></h3>
   <p>Events shouldn’t be used to trigger changes,
only to deliver a notification that a change has already finished happening.</p>
   <div class="example" id="example-a13474fb">
    <a class="self-link" href="#example-a13474fb"></a>
When a window is resized,
an event named <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/media.html#event-media-resize" id="ref-for-event-media-resize">resize</a></code>
is fired at the <code>Window</code> object.


    <p>It’s not possible to stop the resize from happening by intercepting the event.
Nor is it possible to fire a constructed <code>resize</code> event
to cause the window to change size.
The event can only notify the author that the resize has already happened.</p>
   </div>
   <h3 class="heading settled" data-level="7.7" id="guard-against-recursion"><span class="secno">7.7. </span><span class="content">Guard against potential recursion</span><a class="self-link" href="#guard-against-recursion"></a></h3>
   <p>If your API includes a long-running or complicated algorithm,
prevent calling into the algorithm if it’s already running.</p>
   <p>If an API method causes a long-running algorithm to begin,
you should use <a href="#events-are-for-notification">events</a>
to notify user code of the progress of the algorithm.
However, the user code which handles the event may call the same API method,
causing the complex algorithm to run recursively.
The same event may be fired again,
causing the same event handler to be fired, and so on.</p>
   <p>To prevent this, make sure that any "recursive" call into the API method
simply returns immediately. This technique is "guarding" the algorithm.</p>
   <div class="example" id="example-ce590887">
    <a class="self-link" href="#example-ce590887"></a>
<code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal①">AbortSignal</a></code>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-add" id="ref-for-abortsignal-add">add</a>,
<a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-remove" id="ref-for-abortsignal-remove">remove</a> and <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortcontroller-signal-abort" id="ref-for-abortcontroller-signal-abort">signal abort</a>
each begin with a check to see if the signal is <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-aborted" id="ref-for-abortsignal-aborted">aborted</a>.
If the signal is <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-aborted" id="ref-for-abortsignal-aborted①">aborted</a>, the rest of the algorithm doesn’t run.


    <p>In this case, a lot of the important complexity is
in the algorithms run during the <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortcontroller-signal-abort" id="ref-for-abortcontroller-signal-abort①">signal abort</a> steps.
These steps iterate through a collection of algorithms
which are managed by the <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-add" id="ref-for-abortsignal-add①">add</a> and <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-remove" id="ref-for-abortsignal-remove①">remove</a> methods.</p>
    <p>For example, the
<a href="https://streams.spec.whatwg.org/#readable-stream-pipe-to">ReadableStreamPipeTo</a>
definition <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-add" id="ref-for-abortsignal-add②">add</a>s an algorithm
into the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal②">AbortSignal</a></code>’s set of algorithms to be run
when the <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortcontroller-signal-abort" id="ref-for-abortcontroller-signal-abort②">signal abort</a> steps are triggered,
by calling <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-abortcontroller-abort" id="ref-for-dom-abortcontroller-abort①">abort()</a></code>
on the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortcontroller" id="ref-for-abortcontroller①">AbortController</a></code> associated with the signal.</p>
    <p>This algorithm is likely to resolve promises causing code to run,
which may include attempting to call any of the methods on <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal③">AbortSignal</a></code>.
Since <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortcontroller-signal-abort" id="ref-for-abortcontroller-signal-abort③">signal abort</a> involves iterating through the collection of algorithms,
it should not be possible to modify that collection while it’s running.</p>
    <p>And since <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortcontroller-signal-abort" id="ref-for-abortcontroller-signal-abort④">signal abort</a> would have triggered the code which caused
the recursive call back in to <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortcontroller-signal-abort" id="ref-for-abortcontroller-signal-abort⑤">signal abort</a>,
it’s important to avoid running these steps again
if the signal is already in the process of the <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortcontroller-signal-abort" id="ref-for-abortcontroller-signal-abort⑥">signal abort</a> steps,
to avoid recursion.</p>
   </div>
   <p class="note" role="note"><span class="marker">Note:</span> A caution about early termination:
if the algorithm being terminated
would go on to ensure some critical state consistency,
be sure to also make the relevant adjustments in state
before early termination of the algorithm.
Not doing so can lead to inconsistent state
and end-user-visible bugs when implemented as-specified.</p>
   <p class="note" role="note"><span class="marker">Note:</span> Be cautious about throwing exceptions in early termination.
Keep in mind the scenario in which developers will be invoking the algorithm,
and whether they would reasonably expect to handle an exception
in this [perhaps rare] case.
For example, will this be the only exception in the algorithm?</p>
   <p>You won’t always be able to "guard" in this way.
For example, an algorithm may have too many entry-points to reliably check all of them.
If that’s the case,
another option is to defer calling the author code
to a later task or microtask.
This avoids a stack of recursion,
but can’t avoid the risk of an endless loop of follow-up tasks.</p>
   <p>Deferring an event is often specified as "<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task">queue a task</a> to <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire">fire an event</a>...".</p>
   <p>You should always defer events
if the algorithm that triggers the event could be running
on a different thread or process.
In this case, deferral ensures the events
can be processed on the correct task in the <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration-task-queue" id="ref-for-dfn-service-worker-registration-task-queue">task queue</a>.</p>
   <p>Both the "guarding" and the "deferring" approach have trade-offs.</p>
   <p>"Guarding" an algorithm guarantees:</p>
   <ul>
    <li data-md>
     <p>at the time events are fired,
there is no chance that the state may have changed
between the guarded algorithm ending and the event firing.</p>
    <li data-md>
     <p>events fired during the algorithm,
such as events to notify user code of a state change made as part of the algorithm,
can be fired immediately,
notifying code of the change without needing to wait for the next task.</p>
    <li data-md>
     <p>user code running in the event handler can observe relevant state directly
on the instance object they were fired on,
rather than needing to be given a copy of the relevant state with the event.</p>
   </ul>
   <p>If the events are deferred instead:</p>
   <ul>
    <li data-md>
     <p>there is no guarantee that they will be first in the <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration-task-queue" id="ref-for-dfn-service-worker-registration-task-queue①">task queue</a>
once the algorithm completes.</p>
    <li data-md>
     <p>any other task may change the object’s state
you should include any state relevant to the event with the deferred event.</p>
     <ul>
      <li data-md>
       <p><span class="informative">This usually involves a new subclass of <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event④">Event</a></code>,
with new attributes to hold the state.</span></p>
       <p>For example, the <code class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#progressevent" id="ref-for-progressevent">ProgressEvent</a></code> adds <code class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#dom-progressevent-loaded" id="ref-for-dom-progressevent-loaded">loaded</a></code>,
<code class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#dom-progressevent-total" id="ref-for-dom-progressevent-total">total</a></code>, etc. attributes to hold the state.</p>
     </ul>
    <li data-md>
     <p>if different parts of an algorithm need to coordinate,
you may need to define an explicit state machine (well-defined state transitions)
to ensure that when a deferred event fires,
the behavior of inspecting or changing state is well-defined.</p>
     <p><span class="informative">For example, in <a data-link-type="biblio" href="#biblio-payment-request" title="Payment Request API">[payment-request]</a>,
the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/payment-request/#dom-paymentrequest" id="ref-for-dom-paymentrequest">PaymentRequest</a></code>’s <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/payment-request/#dfn-state" id="ref-for-dfn-state">[[state]]</a></code> internal slot
explicitly tracks the object’s state
through its well-defined transitions.</span></p>
     <ul>
      <li data-md>
       <p>These state transitions often use the guarding technique themselves,
 to ensure the state transitions happen appropriately.</p>
       <p>For example, in <a data-link-type="biblio" href="#biblio-payment-request" title="Payment Request API">[payment-request]</a>
 note the guards used around the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/payment-request/#dfn-state" id="ref-for-dfn-state①">[[state]]</a></code> internal slot,
 such as in the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/payment-request/#dom-paymentrequest-show" id="ref-for-dom-paymentrequest-show">show()</a></code> algorithm.</p>
     </ul>
    <li data-md>
     <p>if the deferred event doesn’t need extra state,
or a state machine,
this probably means that the event is just signalling the completion of the algorithm.
If this is true, the API should probably return a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①">Promise</a></code>
instead of firing the event.
See <a href="#one-time-events">§ 7.1 Use promises for one time events</a>.</p>
   </ul>
   <p class="note" role="note"><span class="marker">Note:</span> events that expose the possibility of recursion as described in this section
were sometimes called "synchronous events".
This terminology is discouraged
as it implies that it’s possible to dispatch an event asynchronously.
All events are dispatched synchronously.
What is more often implied by "asynchronous event" is to defer firing an event.</p>
   <h3 class="heading settled" data-level="7.8" id="state-and-subclassing"><span class="secno">7.8. </span><span class="content">Put state on <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-target" id="ref-for-dom-event-target">target</a></code> objects rather than <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event⑤">Event</a></code>s</span><a class="self-link" href="#state-and-subclassing"></a></h3>
   <p>Put state on the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-target" id="ref-for-dom-event-target①">target</a></code>
and use events to signal updates to that state,
rather than having state on <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event⑥">Event</a></code> objects.</p>
   <p>Having state on the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-target" id="ref-for-dom-event-target②">target</a></code> object can used to determine the current state,
without waiting for the next event.
This is particularly useful if there’s a final state,
where there will be no further events.</p>
   <p>It’s usually not necessary to create new subclasses of <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event⑦">Event</a></code>,
but they can be used to provide information relating to how the state change occurred.</p>
   <div class="example" id="example-4fb1a71f"><a class="self-link" href="#example-4fb1a71f"></a>
Properties on <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/input.html#htmlinputelement" id="ref-for-htmlinputelement③">HTMLInputElement</a></code>,
such as <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/input.html#dom-input-value" id="ref-for-dom-input-value">value</a></code>,
provide the state of the input.
Properties on <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/uievents/#inputevent" id="ref-for-inputevent">InputEvent</a></code>,
such as <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/uievents/#dom-inputevent-inputtype" id="ref-for-dom-inputevent-inputtype">inputType</a></code>,
describe the nature of an update to the state.
</div>
   <p>In some exceptional cases, where maintaining state on an object is expensive,
other patterns may be considered,
such as returning an <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget">EventTarget</a></code> from a function call,
where the function call is a signal of interest.</p>
   <div class="example" id="example-bad2d2dd">
    <a class="self-link" href="#example-bad2d2dd"></a>
  Using an imaginary <code>dataUsage</code> API that reports the amount of data an environment has used, the recommended pattern is:

  
<pre class="highlight">self<c- p>.</c->dataUsage<c- p>.</c->addEventListener<c- p>(</c-><c- t>'change'</c-><c- p>,</c-> <c- p>()</c-> <c- p>=></c-> <c- p>{</c->
  console<c- p>.</c->log<c- p>(</c->self<c- p>.</c->dataUsage<c- p>.</c->bytesReceived<c- p>);</c->
<c- p>});</c->
</pre>
    <p>Where <code>bytesReceived</code> exists on the <code>dataUsage</code> <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget①">EventTarget</a></code>,
  rather than the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event⑧">Event</a></code>.</p>
    <p>If maintaining the state on this object is too expensive, this pattern may be considered:</p>
<pre class="highlight"><c- a>const</c-> dataUsage <c- o>=</c-> <c- k>await</c-> self<c- p>.</c->monitorDataUsage<c- p>();</c->

dataUsage<c- p>.</c->addEventListener<c- p>(</c-><c- t>'change'</c-><c- p>,</c-> <c- p>()</c-> <c- p>=></c-> <c- p>{</c->
  console<c- p>.</c->log<c- p>(</c->dataUsage<c- p>.</c->bytesReceived<c- p>);</c->
<c- p>});</c->
</pre>
    <p>In this pattern, the call to <code>monitorDataUsage</code> signals interest in the data,
  and the state does not need to be updated until <code>monitorDataUsage</code> is called.</p>
   </div>
   <h3 class="heading settled" data-level="7.9" id="events-vs-observers"><span class="secno">7.9. </span><span class="content">Use Events and Observers appropriately</span><a class="self-link" href="#events-vs-observers"></a></h3>
   <p>In general, use <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget②">EventTarget</a></code> and notification <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event⑨">Event</a></code>s,
rather than an Observer pattern,
unless an <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget③">EventTarget</a></code> can’t work well for your feature.</p>
   <p>Using an <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget④">EventTarget</a></code> ensures your feature benefits from
improvements to the shared base class,
such as the addition of the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-addeventlisteneroptions-once" id="ref-for-dom-addeventlisteneroptions-once">once</a></code>.</p>
   <p>If using events causes problems,
such as unavoidable <a href="#guard-against-recursion">recursion</a>,
consider using an Observer pattern instead.</p>
   <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#mutationobserver" id="ref-for-mutationobserver">MutationObserver</a></code>,
<a href="https://w3c.github.io/IntersectionObserver">Intersection Observer</a>,
<a href="https://drafts.csswg.org/resize-observer/#resize-observer-interface">Resize Observers</a>,
and <a href="https://github.com/WICG/indexed-db-observers">IndexedDB Observers</a>
are all examples of an Observer pattern.</p>
   <div class="example" id="example-5d14c000">
    <a class="self-link" href="#example-5d14c000"></a>
<code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#mutationobserver" id="ref-for-mutationobserver①">MutationObserver</a></code> replaced the deprecated
<a href="https://www.w3.org/TR/DOM-Level-3-Events/#legacy-mutationevent-events">DOM Mutation Events</a>
after developers <a href="https://lists.w3.org/Archives/Public/public-webapps/2011JulSep/0779.html">noticed</a>
that DOM Mutation Events

    <ul>
     <li data-md>
      <p>fire too often</p>
     <li data-md>
      <p>don’t benefit from event propagation, which makes them too slow to be useful</p>
     <li data-md>
      <p>cause <a href="#guard-against-recursion">recursion</a> which is too difficult to guard against.</p>
    </ul>
    <p>Mutation Observers:</p>
    <ul>
     <li data-md>
      <p>can batch up mutations to be sent to observers
after mutations have finished being applied;</p>
     <li data-md>
      <p>don’t need to go through event capture and bubbling phases;</p>
     <li data-md>
      <p>provide a richer API for expressing what mutations have occurred.</p>
    </ul>
    <p class="note" role="note"><span class="marker">Note:</span> Events can also batch up notifications,
but DOM Mutation Events were not designed to do this.
Events don’t always need to participate in event propagation,
but events on DOM Nodes usually do.</p>
   </div>
   <p>The Observer pattern works like this:</p>
   <ul>
    <li data-md>
     <p>Each instance of the Observer class
is constructed with a callback,
and optionally with some options to customize what should be observed.</p>
    <li data-md>
     <p>Instances begin observing specific targets,
using a method named <code>observe()</code>,
which takes a reference to the target to be observed.
The options to customize what should be observed
may be provided here instead of to the constructor.
The callback provided in the constructor is invoked
when something interesting happens to those targets.</p>
    <li data-md>
     <p>Callbacks receive <em>change records</em> as arguments.
These records contain the details
about the interesting thing that happened.
Multiple records can be delivered at once.</p>
    <li data-md>
     <p>The author may stop observing by calling a method called
<code>unobserve()</code> or <code>disconnect()</code> on the Observer instance.</p>
    <li data-md>
     <p>Optionally, a method may be provided to immediately return records
for all observed-but-not-yet-delivered occurrences.</p>
   </ul>
   <div class="example" id="example-f8835767">
    <a class="self-link" href="#example-f8835767"></a>
    <a href="https://w3c.github.io/IntersectionObserver"><code>IntersectionObserver</code></a>
    may be used like this:

    
<pre class="highlight"><c- a>function</c-> checkElementStillVisible<c- p>(</c->element<c- p>,</c-> observer<c- p>)</c-> <c- p>{</c->
    <c- ow>delete</c-> element<c- p>.</c->visibleTimeout<c- p>;</c->

    <c- c1>// Process any observations which may still be on the task queue</c->
    processChanges<c- p>(</c->observer<c- p>.</c->takeRecords<c- p>());</c->

    <c- k>if</c-> <c- p>(</c-><c- t>'isVisible'</c-> <c- ow>in</c-> element<c- p>)</c-> <c- p>{</c->
        <c- ow>delete</c-> element<c- p>.</c->isVisible<c- p>;</c->
        logAdImpressionToServer<c- p>();</c->

        <c- c1>// Stop observing this element</c->
        observer<c- p>.</c->unobserve<c- p>(</c->element<c- p>);</c->
    <c- p>}</c->
<c- p>}</c->

<c- a>function</c-> processChanges<c- p>(</c->changes<c- p>)</c-> <c- p>{</c->
    changes<c- p>.</c->forEach<c- p>(</c-><c- a>function</c-><c- p>(</c->changeRecord<c- p>)</c-> <c- p>{</c->
        <c- a>var</c-> element <c- o>=</c-> changeRecord<c- p>.</c->target<c- p>;</c->
        element<c- p>.</c->isVisible <c- o>=</c-> isVisible<c- p>(</c->changeRecord<c- p>.</c->boundingClientRect<c- p>,</c->
                                      changeRecord<c- p>.</c->intersectionRect<c- p>);</c->
        <c- k>if</c-> <c- p>(</c-><c- t>'isVisible'</c-> <c- ow>in</c-> element<c- p>)</c-> <c- p>{</c->
            <c- c1>// Element became visible</c->
            element<c- p>.</c->visibleTimeout <c- o>=</c-> setTimeout<c- p>(()</c-> <c- p>=></c-> <c- p>{</c->
                checkElementStillVisible<c- p>(</c->element<c- p>,</c-> observer<c- p>);</c->
            <c- p>},</c-> <c- mf>1000</c-><c- p>);</c->
        <c- p>}</c-> <c- k>else</c-> <c- p>{</c->
            <c- c1>// Element became hidden</c->
            <c- k>if</c-> <c- p>(</c-><c- t>'visibleTimeout'</c-> <c- ow>in</c-> element<c- p>)</c-> <c- p>{</c->
                clearTimeout<c- p>(</c->element<c- p>.</c->visibleTimeout<c- p>);</c->
                <c- ow>delete</c-> element<c- p>.</c->visibleTimeout<c- p>;</c->
            <c- p>}</c->
        <c- p>}</c->
    <c- p>});</c->
<c- p>}</c->

<c- c1>// Create IntersectionObserver with callback and options</c->
<c- a>var</c-> observer <c- o>=</c-> <c- ow>new</c-> IntersectionObserver<c- p>(</c->processChanges<c- p>,</c->
                                        <c- p>{</c-> threshold<c- o>:</c-> <c- p>[</c-><c- mf>0.5</c-><c- p>]</c-> <c- p>});</c->

<c- c1>// Begin observing "ad" element</c->
<c- a>var</c-> ad <c- o>=</c-> document<c- p>.</c->querySelector<c- p>(</c-><c- t>'#ad'</c-><c- p>);</c->
observer<c- p>.</c->observe<c- p>(</c->ad<c- p>);</c->
</pre>
    <p>(Example code adapted from
    <a href="https://github.com/w3c/IntersectionObserver/blob/master/explainer.md">the <code>IntersectionObserver</code> explainer</a>.)</p>
   </div>
   <p>To use the Observer pattern, you need to define:</p>
   <ol>
    <li data-md>
     <p>the new Observer object type,</p>
    <li data-md>
     <p>an object type for observation options, and</p>
    <li data-md>
     <p>an object type for the records to be observed.</p>
   </ol>
   <p>The trade-off for this extra work is the following advantages:</p>
   <ul>
    <li data-md>
     <p>Instances can be customized at observation time, or at creation time.
The constructor for an <code>Observer</code>,
or its <code>observe()</code> method,
can take options allowing authors to customize what is observed for each callback.
This isn’t possible with <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-eventtarget-addeventlistener" id="ref-for-dom-eventtarget-addeventlistener②">addEventListener()</a></code>.</p>
    <li data-md>
     <p>It’s easy to stop listening on multiple callbacks using the
<code>disconnect()</code> or <code>unobserve()</code> method on the <code>Observer</code> object.</p>
    <li data-md>
     <p>You have the option to provide a method like <code>takeRecords()</code>,
which immediately fetches the relevant data,
instead of waiting for an event to fire.</p>
    <li data-md>
     <p>Because Observers are single-purpose, you don’t need to specify an event type.</p>
   </ul>
   <p><code>Observer</code>s and <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget⑤">EventTarget</a></code>s have these things in common:</p>
   <ul>
    <li data-md>
     <p>Both can be customized at creation time.</p>
    <li data-md>
     <p>Both can batch occurrences and deliver them at any time.
<code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget⑥">EventTarget</a></code>s don’t need to be synchronous;
they can use microtask timing, idle timing, animation-frame timing, etc.
You don’t need an <code>Observer</code> to get special timing or batching.</p>
    <li data-md>
     <p>Neither <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget⑦">EventTarget</a></code>s nor <code>Observer</code>s need to participate in a DOM tree
(bubbling/capture and cancellation).
Most prominent <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget⑧">EventTarget</a></code>s are <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#node" id="ref-for-node①">Node</a></code>s in the DOM tree,
but many other events are standalone;
for example, <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/IndexedDB/#idbdatabase" id="ref-for-idbdatabase">IDBDatabase</a></code> and <code class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#xmlhttprequesteventtarget" id="ref-for-xmlhttprequesteventtarget">XMLHttpRequestEventTarget</a></code>.
Even when using <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#node" id="ref-for-node②">Node</a></code>s,
your events may be designed to be non-bubbling and non-cancelable.</p>
   </ul>
   <div class="example" id="example-211011c7">
    <a class="self-link" href="#example-211011c7"></a>
    Here is an example of using a hypothetical version of <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/IntersectionObserver/#intersectionobserver" id="ref-for-intersectionobserver">IntersectionObserver</a></code>
    that’s an <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget⑨">EventTarget</a></code> subclass:

    
<pre class="highlight"><c- a>const</c-> io <c- o>=</c-> <c- ow>new</c-> ETIntersectionObserver<c- p>(</c->element<c- p>,</c-> <c- p>{</c-> root<c- p>,</c-> rootMargin<c- p>,</c-> threshold <c- p>});</c->

<c- a>function</c-> listener<c- p>(</c->e<c- p>)</c-> <c- p>{</c->
    <c- k>for</c-> <c- p>(</c-><c- a>const</c-> change <c- k>of</c-> e<c- p>.</c->changes<c- p>)</c-> <c- p>{</c->
        <c- c1>// ...</c->
    <c- p>}</c->
<c- p>}</c->

io<c- p>.</c->addEventListener<c- p>(</c-><c- u>"intersect"</c-><c- p>,</c-> listener<c- p>);</c->
io<c- p>.</c->removeEventListener<c- p>(</c-><c- u>"intersect"</c-><c- p>,</c-> listener<c- p>);</c->
</pre>
    <p>Compared to the <code>Observer</code> version:</p>
    <ul>
     <li data-md>
      <p>it’s more difficult to observe multiple elements with the same options;</p>
     <li data-md>
      <p>there is no way to request data immediately;</p>
     <li data-md>
      <p>it’s more work to remove multiple event listeners for the same event;</p>
     <li data-md>
      <p>the author has to provide a redundant <code>"intersect"</code> event type.</p>
    </ul>
    <p>In common with the <code>Observer</code> version:</p>
    <ul>
     <li data-md>
      <p>it can still do batching;</p>
     <li data-md>
      <p>it has the same timing (based on the JavaScript event queue);</p>
     <li data-md>
      <p>authors can still customize what to listen for; and</p>
     <li data-md>
      <p>events don’t go through capture or bubbling.</p>
    </ul>
    <p>These aspects can be achieved with either design.</p>
   </div>
   <p>See also:</p>
   <ul>
    <li data-md>
     <p><a href="#events-are-for-notification">§ 7.6 Use events for notification</a></p>
    <li data-md>
     <p><a href="#state-and-subclassing">§ 7.8 Put state on target objects rather than Events</a></p>
   </ul>
   <h2 class="heading settled" data-level="8" id="types-and-units"><span class="secno">8. </span><span class="content">Web IDL, Types, and Units</span><a class="self-link" href="#types-and-units"></a></h2>
   <h3 class="heading settled" data-level="8.1" id="numeric-types"><span class="secno">8.1. </span><span class="content">Use numeric types appropriately</span><a class="self-link" href="#numeric-types"></a></h3>
   <p>If an API you’re designing uses numbers,
use one of the following <a data-link-type="biblio" href="#biblio-webidl" title="Web IDL Standard">[WEBIDL]</a> numeric types,
unless there is a specific reason not to:</p>
   <dl>
    <dt data-md><code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double" id="ref-for-idl-unrestricted-double">unrestricted double</a></code>
    <dd data-md>
     <p>Any JavaScript number, including infinities and NaN</p>
    <dt data-md><code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double">double</a></code>
    <dd data-md>
     <p>Any JavaScript number, excluding infinities and NaN</p>
    <dt data-md>[<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#EnforceRange" id="ref-for-EnforceRange">EnforceRange</a></code>] <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-long-long" id="ref-for-idl-long-long">long long</a></code>
    <dd data-md>
     <p>Any JavaScript number from -2<sup>63</sup> to 2<sup>63</sup>,
 rounded to the nearest integer.
 If a number outside this range is given,
 the generated bindings will throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①">TypeError</a></code>.</p>
    <dt data-md>[<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#EnforceRange" id="ref-for-EnforceRange①">EnforceRange</a></code>] <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long">unsigned long long</a></code>
    <dd data-md>
     <p>Any JavaScript number from 0 to 2<sup>64</sup>,
 rounded to the nearest integer.
 If a number outside this range is given,
 the generated bindings will throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror②">TypeError</a></code>.</p>
   </dl>
   <p>JavaScript has only one numeric type, <code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" id="ref-for-sec-number-objects">Number</a></code>:
IEEE 754 double-precision floating point, including ±0, ±Infinity, and NaN.
<a data-link-type="biblio" href="#biblio-webidl" title="Web IDL Standard">[WEBIDL]</a> numeric types represent
rules for modifying any JavaScript number
to belong to a subset with particular properties.
These rules are run when a number is passed to the interface defined in IDL,
whether a method or a property setter.</p>
   <p>If you have extra rules which need to be applied to the number,
you can specify those in your algorithm.</p>
   <div class="note" role="note">
    
The <a href="https://webidl.spec.whatwg.org/#es-integer-types">WEBIDL rules</a>
for converting a JavaScript number to a number with fewer bits,
such as an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-octet" id="ref-for-idl-octet">octet</a></code> (8 bits, in the range [0, 255]),
involves taking the modulo of the JavaScript number.
For example, to convert a JavaScript number value of 300
to an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-octet" id="ref-for-idl-octet①">octet</a></code>,
the bindings will first compute 300 modulo 255,
so the resulting number will be 45,
which might be surprising.


    <p>Instead, you can use
[<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#EnforceRange" id="ref-for-EnforceRange②">EnforceRange</a></code>] <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-octet" id="ref-for-idl-octet②">octet</a></code>
to throw a <code>TypeError</code> for values outside of the <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-octet" id="ref-for-idl-octet③">octet</a></code> range,
or [<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#Clamp" id="ref-for-Clamp">Clamp</a></code>] <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-octet" id="ref-for-idl-octet④">octet</a></code>
to clamp values to the octet range (for example, converting 300 to 255).</p>
    <p>This also works for the other shorter types, such as <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-short" id="ref-for-idl-short">short</a></code> or <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-long" id="ref-for-idl-long">long</a></code>.</p>
   </div>
   <p><code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-bigint" id="ref-for-idl-bigint">bigint</a></code> should be used only when values greater than 2<sup>53</sup>
 or less than -2<sup>53</sup> are expected.</p>
   <p>An API should not support both <code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-bigint-objects" id="ref-for-sec-bigint-objects">BigInt</a></code> and <code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" id="ref-for-sec-number-objects①">Number</a></code> simultaneously,
either by supporting both types via polymorphism,
or by adding separate, otherwise identical APIs which take <code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-bigint-objects" id="ref-for-sec-bigint-objects①">BigInt</a></code> and <code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" id="ref-for-sec-number-objects②">Number</a></code>.
This risks losing precision through implicit conversions,
which defeats the purpose of <code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-bigint-objects" id="ref-for-sec-bigint-objects②">BigInt</a></code>.</p>
   <h3 class="heading settled" data-level="8.2" id="idl-string-types"><span class="secno">8.2. </span><span class="content">Represent strings appropriately</span><a class="self-link" href="#idl-string-types"></a></h3>
   <div class="note" role="note">
This section is meant to be mutually consistent with
the <a href="https://w3c.github.io/bp-i18n-specdev/#char_string">Defining string</a> section
of <a data-link-type="biblio" href="#biblio-international-specs" title="Internationalization Best Practices for Spec Developers">[international-specs]</a>.
Please report any discrepancies that may happen as the documents evolve.
</div>
   <p>When designing a web platform feature which operates on <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string">strings</a>,
use <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString">DOMString</a></code> unless you have a specific reason not to.</p>
   <p>Most string operations don’t need
to interpret the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#code-unit" id="ref-for-code-unit">code units</a> inside of the string,
so <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①">DOMString</a></code> is the best choice.
In the specific cases explained below, it might be appropriate to use either
<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①">USVString</a></code> or <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-ByteString" id="ref-for-idl-ByteString">ByteString</a></code> instead. <a data-link-type="biblio" href="#biblio-infra" title="Infra Standard">[INFRA]</a> <a data-link-type="biblio" href="#biblio-webidl" title="Web IDL Standard">[WEBIDL]</a></p>
   <p><code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString②">USVString</a></code> is the Web IDL type that represents <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#scalar-value-string" id="ref-for-scalar-value-string">scalar value strings</a>.
For strings whose most common algorithms operate on <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#scalar-value" id="ref-for-scalar-value">scalar values</a>
(such as <a data-link-type="dfn" href="https://w3c.github.io/i18n-glossary/#dfn-percent-encoding" id="ref-for-dfn-percent-encoding">percent-encoding</a>),
or for operations which can’t handle <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#surrogate" id="ref-for-surrogate">surrogates</a> in input
(such as APIs that pass strings through to native platform APIs),
<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString③">USVString</a></code> should be used.</p>
   <p class="example" id="example-fe96b598"><a class="self-link" href="#example-fe96b598"></a>
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/common-dom-interfaces.html#reflect" id="ref-for-reflect">Reflecting IDL attributes</a>
whose content attribute is defined to contain a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url">URL</a>
(such as <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/links.html#attr-hyperlink-href" id="ref-for-attr-hyperlink-href①">href</a></code>)
should use <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString④">USVString</a></code>. <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a>
</p>
   <p><code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-ByteString" id="ref-for-idl-ByteString①">ByteString</a></code> should only be used for representing
data from protocols like HTTP
which don’t distinguish between bytes and strings.
It isn’t a general-purpose string type.
If you need to represent a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#sequence-type" id="ref-for-sequence-type②">sequence</a> of <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-byte" id="ref-for-idl-byte">bytes</a></code>,
use <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-Uint8Array" id="ref-for-idl-Uint8Array①">Uint8Array</a></code>.</p>
   <h3 class="heading settled" data-level="8.3" id="milliseconds"><span class="secno">8.3. </span><span class="content">Use milliseconds for time measurement</span><a class="self-link" href="#milliseconds"></a></h3>
   <p>If you are designing an API that accepts a time measurement,
express the time measurement in milliseconds.</p>
   <p>Even if seconds (or some other time unit) are more natural in the domain of an API,
sticking with milliseconds ensures that APIs
are interoperable with one another.
This means that authors don’t need to convert values used in one API
to be used in another API,
or keep track of which time unit is needed where.</p>
   <p>This convention began with <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-settimeout" id="ref-for-dom-settimeout">setTimeout()</a></code> and the
<code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-date-objects" id="ref-for-sec-date-objects">Date</a></code> API,
and has been used since then.</p>
   <p class="note" role="note"><span class="marker">Note:</span> high-resolution time is usually represented as fractional milliseconds
using a floating point value,
not as an integer value of a smaller time unit like nanoseconds.</p>
   <h3 class="heading settled" data-level="8.4" id="times-and-dates"><span class="secno">8.4. </span><span class="content">Use the appropriate type to represent times and dates</span><a class="self-link" href="#times-and-dates"></a></h3>
   <p>When representing date-times on the platform, use the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp">DOMHighResTimeStamp</a></code> type.
<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp①">DOMHighResTimeStamp</a></code> allows comparison of timestamps,
regardless of the user’s time settings.</p>
   <p><code class="idl"><a data-link-type="idl" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp②">DOMHighResTimeStamp</a></code> values represent
a time value in milliseconds.
See <a data-link-type="biblio" href="#biblio-highres-time" title="High Resolution Time">[HIGHRES-TIME]</a> for more details.</p>
   <p>Don’t use the JavaScript <code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-date-objects" id="ref-for-sec-date-objects①">Date</a></code> class for representing
specific date-time values.
<code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-date-objects" id="ref-for-sec-date-objects②">Date</a></code> objects are mutable (may have their value changed),
and there is no way to make them immutable.</p>
   <div class="note" role="note">
    
    For more background on why <code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-date-objects" id="ref-for-sec-date-objects③">Date</a></code> must not be used,
    see the following:


    <ul>
     <li data-md>
      <p><a href="https://esdiscuss.org/topic/frozen-date-objects">Frozen date objects?</a> on
es-discuss</p>
     <li data-md>
      <p><a href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=22824">Remove Date from Web IDL</a>
on the Web IDL Bugzilla</p>
    </ul>
   </div>
   <h3 class="heading settled" data-level="8.5" id="error-types"><span class="secno">8.5. </span><span class="content">Use Error or DOMException for errors</span><a class="self-link" href="#error-types"></a></h3>
   <p>Represent errors in web APIs as ECMAScript error objects (e.g., <code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-error-objects" id="ref-for-sec-error-objects">Error</a></code>)
or as <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException">DOMException</a></code>.
whether they are exceptions, promise rejection values, or properties.</p>
   <h2 class="heading settled" data-level="9" id="device-apis"><span class="secno">9. </span><span class="content">APIs that wrap access to device or browser capabilities</span><a class="self-link" href="#device-apis"></a></h2>
   <p>New APIs are now being developed in the web platform for interacting with devices.
For example, authors wish to be able to use the web to connect with their
<a href="https://www.w3.org/TR/mediacapture-streams/">microphones and cameras</a>,
<a href="https://www.w3.org/TR/generic-sensor/">generic sensors</a> (such as gyroscope and
accelerometer),
<a href="https://www.w3.org/community/web-bluetooth/">Bluetooth</a> and
<a href="https://wicg.github.io/webusb/">USB</a>-connected peripherals,
<a href="https://www.w3.org/community/autowebplatform/">automobiles</a>, etc.</p>
   <p>The same applies to capabilities that might be optionally provided
by either the host system or an external service.
This includes capabilities that depend on users paying for access to the capability.</p>
   <p>These capabilities can be functionality provided by the underlying operating system,
or provided by a native third-party library.
APIs can provide an abstraction which "wraps" the native functionality
without introducing significant complexity,
while securing the API surface to the browser.
So, these are called wrapper APIs.</p>
   <p>This section contains principles for consideration
when designing APIs for these capabilities.</p>
   <h3 class="heading settled" data-level="9.1" id="device-ids"><span class="secno">9.1. </span><span class="content">Don’t expose unnecessary information about capabilities</span><a class="self-link" href="#device-ids"></a></h3>
   <p>In line with the <a href="#data-minimization">Data Minimization</a> principle,
if you need to give web sites access to information about capabilities,
only expose the minimal amount of data necessary.</p>
   <p>Firstly, think carefully about whether it is really necessary
to expose information at all.
Consider whether your <a href="#priority-of-constituencies">user needs</a> could be satisfied
by a less powerful API.</p>
   <p>Exposing the presence of a device,
additional information about a device,
or device identifiers,
each increase the risk of harming the user’s privacy.</p>
   <p>When a user makes a choice to deny access to a device or capability,
that should not reveal whether the capability exists.
Reducing information leakage in that scenario
is more important
than when the capability is granted.</p>
   <p>As more specific information is shared,
the
<a href="https://www.w3.org/TR/fingerprinting-guidance/">fingerprinting data</a>
available to sites gets larger,
as does the chance that some of the information will be
<a href="https://w3ctag.github.io/privacy-principles/#sensitive-information">sensitive to the particular user</a>.</p>
   <p>If there is no way to design a less powerful API,
use these guidelines when exposing device information:</p>
   <dl>
    <dt data-md>Limit information in any identifier
    <dd data-md>
     <p>Include as little identifiable information as possible
in device identifiers exposed to the web plaform.
Identifiable information includes
branding, make and model numbers, etc
You can usually use a randomly generated identifier instead.
Make sure that your identifiers aren’t guessable,
and aren’t re-used.</p>
    <dt data-md>Keep the user in control
    <dd data-md>
     <p>When the user chooses to clear browsing data,
make sure any stored device identifiers are cleared.</p>
    <dt data-md>Hide sensitive information behind a user permission
    <dd data-md>
     <p>If you can’t create a device identifier in an anonymous way,
limit access to it.
Make sure you <a href="#user-decisions">help the user make good decisions</a>
about a Web page accessing this information.</p>
    <dt data-md>Tie identifiers to the same-origin model
    <dd data-md>
     <p>Create distinct identifiers for the same physical device
for each origin that has has access to it.</p>
    <dd data-md>
     <p>If the same device is requested more than once
by the same origin, return the same identifier for it
(unless the user has cleared their browsing data).
This allows authors to avoid having
several copies of the same device.</p>
    <dt data-md>Persistable when necessary
    <dd data-md>
     <p>If a device identifier is time consuming to obtain,
make sure authors can store an identifier generated in one session
for use in a later session.
You can do this by making sure that
the procedure to generate the identifier
consistently produces the same value
for the same device,
for each origin.</p>
   </dl>
   <p>See also:</p>
   <ul>
    <li data-md>
     <p><a href="#user-decisions">§ 1.4.1 Help users make good decisions</a></p>
    <li data-md>
     <p><a data-link-type="biblio" href="#biblio-least-power" title="The Rule of Least Power">[LEAST-POWER]</a></p>
    <li data-md>
     <p><a data-link-type="biblio" href="#biblio-fingerprinting-guidance" title="Mitigating Browser Fingerprinting in Web Specifications">[FINGERPRINTING-GUIDANCE]</a></p>
    <li data-md>
     <p><a data-link-type="biblio" href="#biblio-unsanctioned-tracking" title="Unsanctioned Web Tracking">[UNSANCTIONED-TRACKING]</a></p>
   </ul>
   <h3 class="heading settled" data-level="9.2" id="device-enumeration"><span class="secno">9.2. </span><span class="content">Use care when exposing APIs for selecting or enumerating devices</span><a class="self-link" href="#device-enumeration"></a></h3>
   <p>Look for ways to avoid enumerating devices.
If you can’t avoid it, expose the least information possible.</p>
   <p>If an API exposes the existence, capabilities, or identifiers of more than one device,
all of the risks in <a href="#device-ids">§ 9.1 Don’t expose unnecessary information about capabilities</a>
are multiplied by the number of devices.
For the same reasons,
consider whether your <a href="#priority-of-constituencies">user needs</a> could be satisfied
by a less powerful API. <a data-link-type="biblio" href="#biblio-least-power" title="The Rule of Least Power">[LEAST-POWER]</a></p>
   <p>If the purpose of the API
is to enable the user <strong>to select a device</strong>
from the set of available devices of a particular kind,
you may not need to expose a list to script at all.
An API which invokes a User-Agent-provided device picker could suffice.
Such an API:</p>
   <ul>
    <li data-md>
     <p>keeps the user in control,</p>
    <li data-md>
     <p><a href="#user-decisions">helps users understand</a> their decisions,</p>
    <li data-md>
     <p>doesn’t expose any fingerprinting data about the user’s environment by default, and</p>
    <li data-md>
     <p>only exposes information about one device at a time.</p>
   </ul>
   <p>When designing API which allows users to select a device,
it may be necessary to also expose
the fact that there are devices are available to be picked.
This does expose one bit of fingerprinting data about the user’s environment
to websites,
so it isn’t quite as safe as an API which doesn’t have such a feature.
Ensure that such an API ensures that it is possible to present sufficient information
on user interfaces that users are able to <a href="#user-decisions">make good decisions</a>.</p>
   <div class="example" id="example-e2381236">
    <a class="self-link" href="#example-e2381236"></a>
The <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/remote-playback/#dom-remoteplayback" id="ref-for-dom-remoteplayback">RemotePlayback</a></code> interface
doesn’t expose a list of available <a data-link-type="dfn" href="https://w3c.github.io/remote-playback/#dfn-remote-playback-devices" id="ref-for-dfn-remote-playback-devices">remote playback devices</a>.
Instead, it allows the user to choose one device
from a device picker provided by the User Agent.


    <p>It does enable websites to detect whether or not
any <a data-link-type="dfn" href="https://w3c.github.io/remote-playback/#dfn-remote-playback-devices" id="ref-for-dfn-remote-playback-devices①">remote playback device</a> is available,
so the website can show or hide a control
the user can use to show the device picker.</p>
    <p>The trade-off is that by allowing websites
this extra bit of information,
the API lets authors make their user interface less confusing.
They can choose to show a button to trigger the picker
only if at least one device is available.</p>
   </div>
   <p>If you must expose a list of devices,
try to <strong>expose the smallest subset</strong>
that satisfies your user needs.</p>
   <p>For example, an API which allows the website
to request <strong>a filtered or constrained list</strong> of devices
is one option to keep the number of devices smaller.
However, if authors are allowed to make multiple requests with different constraints,
they may still be able to access the full list.</p>
   <p>Finally, if you must expose the full list of devices of a particular kind,
please rigorously <strong>define the order</strong> in which devices will be listed.
This can reduce interoperability issues,
and helps to mitigate fingerprinting.
(Sort order could reveal other information:
see <a href="https://w3c.github.io/fingerprinting-guidance/#standardization"><cite>Mitigating Browser Fingerprinting in Web Specifications</cite> § 6.2 Standardization</a> for more.)</p>
   <p class="note" role="note"><span class="marker">Note:</span> While APIs should not
expose a full list of devices in an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined">implementation-defined</a> order,
they may need to for web compatibility reasons.</p>
   <h3 class="heading settled" data-level="9.3" id="usecase-oriented-apis"><span class="secno">9.3. </span><span class="content">Design based on user needs, not the underlying capability</span><a class="self-link" href="#usecase-oriented-apis"></a></h3>
   <p>Expose new native capabilities being brought to the web based on user needs.</p>
   <p>Avoid directly translating an existing native API to the web.</p>
   <p>Instead, consider the functionality available from the native API,
and the user needs it addresses,
and design an API that meets those user needs,
even if the implementation depends on the existing native API.</p>
   <p>Be particularly careful about exposing
the exact lifecycle and data structures of the underlying native APIs.
When possible, consider flexibility for new hardware.</p>
   <p>This means newly proposed APIs should be designed
with regard to how they are intended to be used
rather than how the underlying hardware, device, or native API
happens to operate today.</p>
   <h3 class="heading settled" data-level="9.4" id="hardware-is-scary"><span class="secno">9.4. </span><span class="content">Be proactive about safety</span><a class="self-link" href="#hardware-is-scary"></a></h3>
   <p>When bringing native capabilities to the web platform,
try to design defensively.</p>
   <p>Bringing a native capability to the web platform
comes with many implications.
Users may not want websites to know that their computers
have specific capabilities. Therefore, access to anything
outside of the logical origin boundary should be permission gated.</p>
   <p>For example, if a device can store state,
and that state is readable at the same time by multiple origins,
a set of APIs that lets you read and write that state
is effectively a side-channel that undermines the origin model of the web.</p>
   <p>For these reasons, even if the device allows non-exclusive access,
you may want to consider enforcing exclusive access per-origin,
or even restricting it further to only the current active tab.</p>
   <p>Additionally, APIs should be designed so that the applications
can gracefully handle physical disruption, such as a device being unplugged.</p>
   <h3 class="heading settled" data-level="9.5" id="wrapper-apis"><span class="secno">9.5. </span><span class="content">Adapt native APIs using web platform principles</span><a class="self-link" href="#wrapper-apis"></a></h3>
   <p>When adapting native operating system APIs for the web,
make sure the new web APIs are designed with web platform principles in mind.</p>
   <dl>
    <dt data-md>Make sure the web API can be implemented on more than one platform
    <dd data-md>
     <p>When designing a wrapper API,
consider how different platforms provide its functionality.</p>
     <p>Ideally, all implementations should work exactly the same,
but in some cases you may have a reason to expose options
which only work on some platforms.
If this happens, be sure to explain
how authors should write code which works on all platforms.
See <a href="#feature-detect">§ 2.6 New features should be detectable</a>.</p>
    <dt data-md>Underlying protocols should be open
    <dd data-md>
     <p>APIs which require exchange with external hardware or services
should not depend on closed or proprietary protocols.
Depending on non-open protocols undermines the open nature of the web.</p>
    <dt data-md>Design APIs to handle the user being off-line
    <dd data-md>
     <p>If an API depends on some service which is provided by a remote server,
make sure that the API functions well when the user can’t access the remote server
for any reason.</p>
    <dt data-md>Avoid additional fingerprinting surfaces
    <dd data-md>
     <p>Wrapper APIs can unintentionally expose the user to
a wider fingerprinting surface.
Please read the TAG’s finding on
<a href="http://www.w3.org/2001/tag/doc/unsanctioned-tracking/">unsanctioned tracking</a>
for additional details.</p>
   </dl>
   <h2 class="heading settled" data-level="10" id="other-considerations"><span class="secno">10. </span><span class="content">Other API Design Considerations</span><a class="self-link" href="#other-considerations"></a></h2>
   <h3 class="heading settled" data-level="10.1" id="polyfills"><span class="secno">10.1. </span><span class="content">Enable polyfills for new features</span><a class="self-link" href="#polyfills"></a></h3>
   <p>Polyfills can be hugely beneficial
in helping to roll out new features to the web platform.
The Technical Architecture Group <a href="https://www.w3.org/2001/tag/doc/polyfills/">finding on Polyfills and the Evolution of the Web</a>
offers guidance that should be considered in the development of new features, notably:</p>
   <ul>
    <li data-md>
     <p>Being "polyfillable" isn’t essential but <strong>is</strong> beneficial</p>
    <li data-md>
     <p><a href="#feature-detect">§ 2.6 New features should be detectable</a></p>
    <li data-md>
     <p>Polyfill development should be encouraged</p>
   </ul>
   <h3 class="heading settled" data-level="10.2" id="consider-dedicatedworker-support"><span class="secno">10.2. </span><span class="content">Where possible APIs should be made available to dedicated workers</span><a class="self-link" href="#consider-dedicatedworker-support"></a></h3>
   <p>When exposing a feature, please consider whether it makes sense to expose the feature
to dedicated workers (via the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope" id="ref-for-dedicatedworkerglobalscope">DedicatedWorkerGlobalScope</a></code> interface).</p>
   <p>Many features could work out of the box on dedicated workers and not enabling the feature
there could limit the ability for users to run their code in a non-blocking manner.</p>
   <p>Certain challenges can exist when trying to expose a feature to dedicated workers,
especially if the feature requires user input by asking for permission,
or showing a picker or selector.
Even though this might discourage spec authors to support dedicated workers,
we still recommend designing the feature with dedicated worker support in mind,
in order to not add assumptions that will later make it unnecessarily hard to expose
these APIs to dedicated workers.</p>
   <h4 class="heading settled" data-level="10.2.1" id="worker-only"><span class="secno">10.2.1. </span><span class="content">Some APIs should only be exposed to dedicated workers</span><a class="self-link" href="#worker-only"></a></h4>
   <p>Developers prefer simple code to complex code.
They are more likely
to use an API
in the simplest way the API allows.</p>
   <p>It’s important to avoid adding features that block rendering. <a href="#avoid-render-blocking">§ 3.4 Avoid features that block rendering</a></p>
   <p>If the easiest way to use an API
is likely to result in render blocking or “<a href="https://developer.mozilla.org/en-US/docs/Glossary/Jank">jank</a>,”
the user experience will suffer.
(This problem is even more pronounced on low-powered devices,
which are more likely to be used by disadvantaged or marginalized users.
Remember,
<a href="https://www.w3.org/TR/ethical-web-principles/#allpeople">the web is for all people</a>.)</p>
   <p>Therefore,
APIs which would often block the main thread if used as intended
should not be exposed on the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window②">Window</a></code> interface.
By restricting such APIs to the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope" id="ref-for-dedicatedworkerglobalscope①">DedicatedWorkerGlobalScope</a></code> interface,
the “easy” path for web developers
is the path with the best experience for users.</p>
   <p class="example" id="example-c5e10604"><a class="self-link" href="#example-c5e10604"></a>
<code class="idl"><a data-link-type="idl" href="https://webaudio.github.io/web-audio-api/#ScriptProcessorNode" id="ref-for-ScriptProcessorNode">ScriptProcessorNode</a></code>s were replaced by <code class="idl"><a data-link-type="idl" href="https://webaudio.github.io/web-audio-api/#AudioWorklet" id="ref-for-AudioWorklet">AudioWorklet</a></code>s
in the Web Audio API
because use of <code class="idl"><a data-link-type="idl" href="https://webaudio.github.io/web-audio-api/#ScriptProcessorNode" id="ref-for-ScriptProcessorNode①">ScriptProcessorNode</a></code> from the main thread
frequently resulted in a poor user experience. <a data-link-type="biblio" href="#biblio-webaudio" title="Web Audio API">[WebAudio]</a>
</p>
   <h3 class="heading settled" data-level="10.3" id="expose-everywhere"><span class="secno">10.3. </span><span class="content">Only purely computational features should be exposed everywhere</span><a class="self-link" href="#expose-everywhere"></a></h3>
   <p>When exposing a feature,
please consider whether it makes sense
to expose the feature to all possible environments
(via the <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed">[Exposed=*]</a></code> annotation
or including it on all global scope interfaces).</p>
   <p>Only purely computational features should be exposed everywhere.
That is,
they do not perform I/O
and do not affect the state of the user agent or the user’s device.</p>
   <p class="example" id="example-e199054f"><a class="self-link" href="#example-e199054f"></a>
The <code class="idl"><a data-link-type="idl" href="https://encoding.spec.whatwg.org/#textencoder" id="ref-for-textencoder">TextEncoder</a></code> interface converts a string to UTF-8 encoded bytes.
This is a purely computational interface,
generally useful as a JavaScript language facility,
so it should be exposed everywhere.
</p>
   <p class="example" id="example-553789a6"><a class="self-link" href="#example-553789a6"></a>
<a class="idl-code" data-link-type="attribute" href="https://html.spec.whatwg.org/multipage/webstorage.html#dom-localstorage" id="ref-for-dom-localstorage">localStorage</a> affects the state of the user agent, so it should not be exposed everywhere.
</p>
   <p class="example" id="example-6dca4ec6"><a class="self-link" href="#example-6dca4ec6"></a>
Technically, <code class="idl"><a data-link-type="idl" href="https://console.spec.whatwg.org/#namespacedef-console" id="ref-for-namespacedef-console">console</a></code> could affect the state of the user agent
(by causing log messages to appear in the developer tools)
or the user’s device
(by writing to a log file.)
But these things are not observable from the running code,
and the practicality of having <code class="idl"><a data-link-type="idl" href="https://console.spec.whatwg.org/#namespacedef-console" id="ref-for-namespacedef-console①">console</a></code> everywhere outweighs the disadvantages.
</p>
   <p>Additionally, anything relying on an event loop
should not be exposed everywhere.
Not all global scopes have an event loop.</p>
   <p class="example" id="example-889d8e68"><a class="self-link" href="#example-889d8e68"></a>
The <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-abortsignal-timeout" id="ref-for-dom-abortsignal-timeout">timeout</a></code> method of <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal④">AbortSignal</a></code>
relies on an event loop
and should not be exposed everywhere.
The rest of <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal⑤">AbortSignal</a></code> is purely computational,
and should be exposed everywhere.
</p>
   <p>The <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①">[Exposed=*]</a></code> annotation should also be applied conservatively.
If a feature is not that useful
without other features that are not exposed everywhere,
default to not exposing that feature as well.</p>
   <p class="example" id="example-8be633f8"><a class="self-link" href="#example-8be633f8"></a>
The <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob">Blob</a></code> interface is purely computational,
but <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob①">Blob</a></code> objects are primarily used for, or obtained as a result of, I/O.
By the principle of exposing conservatively,
Blob should not be exposed everywhere.
</p>
   <h3 class="heading settled" data-level="10.4" id="new-data-formats"><span class="secno">10.4. </span><span class="content">Add new data formats properly</span><a class="self-link" href="#new-data-formats"></a></h3>
   <p>Always define a corresponding MIME type and extend existing APIs to support this type
for any new data format.</p>
   <p>There are cases when a new capability on the web involves adding a new data format.
This can be an image, video, audio, text, or any other type of data that a browser is
expected to ingest. Use a strictly validated standardized MIME type for new formats.
New formats containing text should only support UTF-8 encoded text.</p>
   <p>While legacy media formats do not always have strict enforcement for MIME types (and
sometimes rely on peeking at headers, to workaround this), this is mostly for legacy
compatibility reasons and should not be expected or implemented for new formats.</p>
   <p>It is expected that spec authors also integrate the new format to existing APIs, so that
they are safelisted in both ingress (e.g. decoding from a ReadableStream) and egress
(e.g. encoding to a WriteableStream) points from a browser’s perspective.</p>
   <p>For example. if you are to add an image format to the web platform, first add a new MIME
type for the format. After this, you would naturally add a decoder (and presumably an
encoder) for said image format to support decoding in HTMLImageElements. On top of this,
you are also expected to add support to egress points such as <code>HTMLCanvasElement.toBlob()</code>
and <code>HTMLCanvasElement.toDataURL()</code>.</p>
   <p>For legacy reasons browsers support MIME type sniffing, but we do not recommend extending
the <a href="https://mimesniff.spec.whatwg.org/#image-type-pattern-matching-algorithm">pattern matching algorithm</a>,
due to security implications, and instead recommend enforcing strict MIME types for newer formats.</p>
   <p>New MIME types should have a specification and should be registered with the Internet Assigned Numbers Authority (IANA).</p>
   <h3 class="heading settled" data-level="10.5" id="extend-manifests"><span class="secno">10.5. </span><span class="content">Extend existing manifest files rather than creating new ones</span><a class="self-link" href="#extend-manifests"></a></h3>
   <p>If your feature requires a manifest,
investigate whether you can extend an existing manifest schema.</p>
   <p>New web features should be self-contained and self-describing and ideally should not require an additional manifest file.
Some of the existing manifest files include</p>
   <ul>
    <li data-md>
     <p><a href="https://www.w3.org/TR/appmanifest/">Web App Manifest</a> which contains features related to web applications.</p>
    <li data-md>
     <p><a href="https://www.w3.org/TR/payment-method-manifest/">Payment Method Manifest</a> which is used for payment methods in the context of the web payment API</p>
    <li data-md>
     <p><a href="https://www.w3.org/TR/pub-manifest/">Publication Manifest</a> which is used by some web publications working group standards</p>
    <li data-md>
     <p><a href="https://wicg.github.io/origin-policy/">Origin Policy</a> which is used to set security policies.</p>
   </ul>
   <p>We encourage people to extend existing manifest files.
Always try to get the changes into the original spec,
or at least discuss the extension with the spec editors.
Having this discussion is more likely to result in a better design
and lead to something that better integrates with the platform.</p>
   <p>When designing new keys and values for a manifest, make sure they are needed (that is, they enable well-thought-out use-cases).
Also, please check if a similar key exists. If an existing key/value pair does more or less what is needed,
work with the existing spec to extend it to your use-case if possible.</p>
   <div class="note" role="note">
There are certain times the original spec authors might not want
to integrate changes to their manifest format immediately.
This may be due to process (like going to CR),
or due to the addition having a different scope,
like extensions to Web App Manifest only affecting store or payment use-cases.
In that case, it is acceptable to <a data-link-type="dfn" href="#monkey-patch" id="ref-for-monkey-patch">monkey patch</a>
as long as that is agreed with the original spec editors.
</div>
   <p>However, if your feature requires a complex set of metadata specific to a functional domain,
the creation of a new manifest may be justified.</p>
   <p>You may need to make a new manifest file if the domain of the manifest file is different from the existing manifest files.
For example, if the fetch timing is different, or if the complexity of the manifest warrants it.  Application metadata should be added
to the Web App Manifest or be an extension of it.
Manifests designated to be used for specific applications or which require interoperability with non-browsers may need to take a different approach.
Payment Method Manifest, Publication Manifest, and Origin Policy are examples of these cases.</p>
   <p>For example, if you have a single piece of metadata, even if the fetch timing is different than an existing manifest,
it is probably best to use an existing manifest (or ideally design the feature in such a way that a manifest is not required).
However, if your feature requires a complex set of metadata specific to a functional domain, the creation of a new manifest may be justified.</p>
   <p>Note that in all cases, the naming conventions should be harmonized (see <a href="#naming-is-hard">§ 12 Naming principles</a>).</p>
   <p class="note" role="note"><span class="marker">Note:</span> By principle, existing manifests use lowercase, underscore-delimited names.
There have been times where it was useful to re-use dictionaries from a manifest in DOM APIs as well,
which meant converting the names to camel-cased version.
One such example is the <a href="https://w3c.github.io/image-resource/">image resource</a>.
For this reason, if a key can clearly be expressed as a single word, that is recommended.</p>
   <h3 class="heading settled" data-level="10.6" id="serialization"><span class="secno">10.6. </span><span class="content">Consider consumers when serializing</span><a class="self-link" href="#serialization"></a></h3>
   
When adding or extending features that involve a parser or a serializer you should consider their effect on
serialization. The following are constituencies of serialization results that must be considered:


   <ul>
    <li data-md>
     <p>Users - because the result of serialization may be presented to the end user</p>
    <li data-md>
     <p>Tools - which may rely on the output of serialization in a number of ways (for instance, to detect if the parser need to correct for errors in the input)</p>
    <li data-md>
     <p>Web APIs - because serializations may be  passed into other APIs of the web platform</p>
   </ul>
   <p>Consider language specific expectations - for instance, in some languages, the presence or absence of whitespace may be significant.
Languages may differ in the precision of floating point numbers they accept.
The results of serialization:</p>
   <ul>
    <li data-md>
     <p>Should match developer expectations (for instance, serializing CSS properties should not result in output that is very different from what a CSS author would have written)</p>
    <li data-md>
     <p><a href="https://en.wikipedia.org/wiki/Idempotence">Idempotence</a> - the result of serializing the output of a parser should be something that, when parsed and serialized, produces itself.</p>
    <li data-md>
     <p>Should not add to error accumulation - taking the serialized output of an API and feeding it back to the same API in a loop should result in the same internal state</p>
   </ul>
   <h3 class="heading settled" data-level="10.7" id="debuggability"><span class="secno">10.7. </span><span class="content">Ensure features are developer-friendly</span><a class="self-link" href="#debuggability"></a></h3>
   <p>Any new feature should be developer-friendly.
While it is hard to quantify friendliness, at least consider the following points.</p>
   <p>While error text in exceptions should be generic,
developer-oriented error messages (such as those from a developer console) must be meaningful.
When a developer encounters an error,
the message should be specific to that error case,
and not overly generic.</p>
   <p>Ideally, developer-oriented error messages should have enough information
to guide the developer in pinpointing where the problem is.</p>
   <p>Declarative features such as CSS,
may require extra work in the implementation for debuggability.
Defining this in the specification not only makes the feature more developer-friendly,
it also ensures a consistent development experience for the users.</p>
   <p>A good example where debuggability was defined as
part of the specification is <a href="https://www.w3.org/TR/web-animations-1/#use-cases">Web Animations</a>.</p>
   <h3 class="heading settled" data-level="10.8" id="crypto"><span class="secno">10.8. </span><span class="content">Use the best crypto, and expect it to evolve</span><a class="self-link" href="#crypto"></a></h3>
   <p>Use only cryptographic algorithms
that have been impartially reviewed by security experts,
and make sure your choice of algorithm is proven, and up-to-date.
Not only do they become obsolete or insecure,
cryptographic protocols and algorithms also evolve quickly.</p>
   <h3 class="heading settled" data-level="10.9" id="client-hints"><span class="secno">10.9. </span><span class="content">Do not expose new information through Client Hints</span><a class="self-link" href="#client-hints"></a></h3>
   <p>When using Client Hints, don’t expose information that the web page does not already have access to.</p>
   <p>Client hints are an important optimization, but cannot be the sole means by which information
is exposed to sites. As it says in
<cite><a href="https://datatracker.ietf.org/doc/html/rfc8942#section-4.1-5">RFC 8942 §4.1</a></cite>
where client hints are defined:</p>
   <blockquote cite="https://datatracker.ietf.org/doc/html/rfc8942#section-4.1-5">
    <p>Therefore, features relying on this document to define Client Hint headers
<strong>MUST NOT</strong> provide new information that is otherwise not made available to
the application by the user agent, such as existing request headers, HTML, CSS, or JavaScript.
</p>
   </blockquote>
   <p>If you are trying to add a new client hint that exposes information that is not available to the web page through other means,
please pursue exposing this information through an API first.</p>
   <h2 class="heading settled" data-level="11" id="spec-writing"><span class="secno">11. </span><span class="content">Writing good specifications</span><a class="self-link" href="#spec-writing"></a></h2>
   <p>This document mostly covers API design for the Web,
but those who design APIs are hopefully also writing specifications
for the APIs that they design.</p>
   <h3 class="heading settled" data-level="11.1" id="requirements-on-authors-and-implementers"><span class="secno">11.1. </span><span class="content">Identify the audience of each requirement in your specification</span><a class="self-link" href="#requirements-on-authors-and-implementers"></a></h3>
   <p>Document both how authors should write good code using your API,
and how implementers of your API should handle poorly-written code.</p>
   <p>The web, especially in comparison to other platforms,  is
designed to be robust in accepting poorly-formed markup.
This means that web pages which use older versions of web standards
can still be viewed in newer user agents,
and also that authors have a shallower learning curve.</p>
   <p>To support this,
web specification writers need to describe how to interpret
poorly-formed markup,
as well as well-formed markup.</p>
   <p>Implementers need to be able to understand the "supported language",
which is more complex than the "conforming language"
which authors should be aiming to use.</p>
   <div class="example" id="example-52a8e009"><a class="self-link" href="#example-52a8e009"></a>
For example,
the <a href="https://html.spec.whatwg.org/multipage/tables.html#table-processing-model">Processing model</a>
for the <code>&lt;table></code> element
explains how to process the contents of a <code>&lt;table></code> element,
including cases where the contents do not conform
to the <a href="https://html.spec.whatwg.org/multipage/tables.html#the-table-element:concept-element-content-model">Content model</a>.
</div>
   <h3 class="heading settled" data-level="11.2" id="avoid-ambiguity"><span class="secno">11.2. </span><span class="content">Specify completely and avoid ambiguity</span><a class="self-link" href="#avoid-ambiguity"></a></h3>
   <p>When specifying how a feature should work,
make sure that there is enough information
so that authors don’t have to
write different code to work with different implementations.</p>
   <p>If a specification isn’t specific enough,
implementers might make different choices
which force authors to write extra code to handle the differences.</p>
   <p>Implementers shouldn’t need to check details of other implementations
to avoid this situation.
Instead, the specification should be complete and clear enough
on its own.</p>
   <p class="note" role="note"><span class="marker">Note:</span> This doesn’t mean that implementations can’t render things differently,
or show different user interfaces for things like permission prompts.</p>
   <p class="note" role="note"><span class="marker">Note:</span> Implementers should file bugs against specifications
which don’t give them clear enough information to write the implementation.</p>
   <h4 class="heading settled" data-level="11.2.1" id="algorithms"><span class="secno">11.2.1. </span><span class="content">Define algorithms clearly</span><a class="self-link" href="#algorithms"></a></h4>
   <p>Write algorithms in a way that is clear and concise.</p>
   <p>The most common way to write algorithms
is to write an explicit sequence of steps.
This often looks like pseudo-code.</p>
   <div class="example" id="example-5e6a38a5"><a class="self-link" href="#example-5e6a38a5"></a>
The <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/interactive-elements.html#dom-dialog-showmodal" id="ref-for-dom-dialog-showmodal">showModal()</a></code> method is described as a numbered sequence of steps
which clearly explains when to throw exceptions
and when to run algorithms defined in other parts of the HTML spec.
</div>
   <p>When writing a sequence of steps,
imagine that it is a piece of functional code.</p>
   <ul>
    <li data-md>
     <p>Clearly specify the inputs and outputs,
name the algorithm and the variables it uses well,
and explicitly note the points in the algorithm where the algorithm may
return a result or error.</p>
    <li data-md>
     <p>As much as possible, avoid writing algorithms which have side effects.</p>
   </ul>
   <p>Summarize the purpose of the algorithm before going into detail,
so that readers can decide whether to read the steps or skip over them.
For example take the following steps, which ensure that there is at most one pending X
callback per top-level browsing context.</p>
   <p>A plain sequence of steps is not always the best way to write an algorithm.
For example, it might make sense to define
or re-use a formal syntax or grammar
to avoid repetition,
or define specific states to be used in a state machine.
When using extra constructs like these,
the earlier advice still applies.</p>
   <p>As much as possible,
describe algorithms as closely as possible to how they would be implemented.
This may make the spec harder to write,
but it means that implementations don’t need to figure out
how to translate what’s written in the specification
to how it should actually be implemented.
In particular, that may mean that different implementations
make different decisions
that may lead to later features being feasible in one implementation
but not another.</p>
   <p class="example" id="example-e379a9a7"><a class="self-link" href="#example-e379a9a7"></a>
CSS selectors are read and understood from left to right,
but in practice are matched from right to left in implementations.
This allows the most specific term to be matched or not matched
quickly, avoiding unnecessary work.
The CSS selector matching algorithm is written this way,
instead of a hypothetical algorithm which would more closely match
how CSS selectors are often read by CSS authors.
</p>
   <p>See also:</p>
   <ul>
    <li data-md>
     <p><a href="https://infra.spec.whatwg.org/#algorithms">some useful definitions
and terminology</a> from <a data-link-type="biblio" href="#biblio-infra" title="Infra Standard">[INFRA]</a></p>
   </ul>
   <h4 class="heading settled" data-level="11.2.2" id="use-flags-for-states"><span class="secno">11.2.2. </span><span class="content">Use explicit flags for state</span><a class="self-link" href="#use-flags-for-states"></a></h4>
   <p>Instead of describing state with words,
use explicit flags for state when writing algorithms.</p>
   <p>Using explicit flags makes it clear
whether or not the state changes in different error conditions,
and makes it clear when the state described by the flags is reset.</p>
   <h3 class="heading settled" data-level="11.3" id="implementability"><span class="secno">11.3. </span><span class="content">Resolving tension between interoperability and implementability</span><a class="self-link" href="#implementability"></a></h3>
   <p>Specifying a feature,
like all engineering work,
requires weighing tradeoffs
and compromising.</p>
   <p>Sometimes,
despite the best efforts of all involved,
we fail to find a way
to interoperably specify a feature
that every implementor agrees
is implementable in their engine.</p>
   <p>Choosing a way forward should be guided by
<a href="#priority-of-constituencies">what is best for the end user</a>.</p>
   <p>First,
examine the nature of the implementability concerns.
Perhaps the implementor identified potential end-user harm
and decided that the feature should not be implemented.
In this situation,
it may be best to not specify the feature,
and for any implementors who have shipped the feature
to un-ship it.
Keep in mind that un-shipping features may result in user and author
confusion.</p>
   <div class="example" id="sharedarraybuffer">
    <a class="self-link" href="#sharedarraybuffer"></a>


    <p>When the Spectre attack was discovered,
<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-SharedArrayBuffer" id="ref-for-idl-SharedArrayBuffer">SharedArrayBuffer</a></code> was unshipped in every implementation
because it can be used to create a high-precision timer
that could be used for a Spectre attack.</p>
   </div>
   <p>Sometimes the same API is implementable in every engine,
but its behavior cannot be made to be fully interoperable.
Whenever behavior differs between implementations,
the end-user impact must be considered.
One downside to this approach
is that the difference in behavior is not <a href="#feature-detect">feature detectable</a>.
On the other hand,
if something changes in the future
that enables all implementations to converge on the same behavior,
sites will not need to be updated
to take advantage of this.</p>
   <p class="note" role="note"><span class="marker">Note:</span> Authors may assume the behavior of the dominant implementation is correct
and any other behavior is buggy,
which may further entrench the dominant implementaiton.</p>
   <div class="example" id="backdrop-filter">
    <a class="self-link" href="#backdrop-filter"></a>


    <p>The <a class="css property" data-link-type="property" href="https://drafts.fxtf.org/filter-effects-2/#propdef-backdrop-filter" id="ref-for-propdef-backdrop-filter">backdrop-filter</a> property is known to have a number of visible
behavior differences between implementations.
At the present time,
those working on it believe
the benefits of sharing an API
outweigh the interoperability costs of the differences.</p>
   </div>
   <p>If behavior differences are serious enough,
and cannot be converged further,
it may be preferable to specify different APIs,
with each implementor going with the alternative
that they are able to implement.</p>
   <p>One risk of this approach comes about
if implementations are eventually able to converge on the same behavior.
In this case,
multiple alternative APIs may need to be supported indefinitely,
which can increase developer complexity
and implementation maintenance costs.</p>
   <p>Exposing two different APIs
that are intended to address the same use cases
forces authors to use <a href="#feature-detect">feature detection</a>
to write different code for different browsers.</p>
   <p class="note" role="note"><span class="marker">Note:</span> There is a risk that authors may assume
the API variant supported by the dominant implementation
is the "correct" one,
or they may simply be unaware of the API variants supported
in implementations they do not use regularly,
which may further entrench the dominant implementaiton.</p>
   <p>If you do go this route,
try to reduce the cost to authors
by minimizing the differences between the APIs.
It may be possible to design things
such that the non-standard part
is a small, isolated component
of a larger, standardized framework.</p>
   <div class="example" id="eme-and-payment-request">
    <a class="self-link" href="#eme-and-payment-request"></a>


    <p><a data-link-type="biblio" href="#biblio-encrypted-media" title="Encrypted Media Extensions">[ENCRYPTED-MEDIA]</a> and <a data-link-type="biblio" href="#biblio-payment-request" title="Payment Request API">[payment-request]</a> are both examples of specifications
which minimize API differences by isolating a non-standard component
(<a href="https://w3c.github.io/encrypted-media/#dfn-cdm">Content Decryption Modules</a> and <a href="https://www.w3.org/TR/payment-method-manifest/">payment methods</a>, respectively)
from the rest of the (shared) API surface.</p>
   </div>
   <p>Groups sometimes choose to specify APIs
knowing that
some implementations
are unwilling to implement it.
Authors may use feature detection
to only use APIs when they are available,
and users may benefit where such features are supported and used.
This is always a problematic outcome,
though it is worst when there is only one willing implementor.
Some standards venues have rules
explicitly disallowing the standardization of features
which only have a single interested implementor.
Even if you are not operating in such a group,
standardization of single-implementation features is strongly discouraged.</p>
   <p>You may also find that none of these options is acceptable to your group.
While the best path forward may be to choose not to specify the feature,
there is the risk that some implementations
may ship the feature as a nonstandard API.</p>
   <h3 class="heading settled" data-level="11.4" id="monkey-patching"><span class="secno">11.4. </span><span class="content">Avoid monkey patching</span><a class="self-link" href="#monkey-patching"></a></h3>
   
A <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="monkey-patch">monkey patch</dfn> layers new functionality on top of an existing specification in a way that extends, overrides, or otherwise modifies the existing specification’s behavior.
<a href="https://en.wikipedia.org/wiki/Monkey_patch">Monkey patching</a> <strong>is generally considered bad practice and should be avoided</strong> for the reasons listed below; but is sometimes unavoidable
(see our guidance <a href="#cant-avoid-monkey-patching">if you need to monkey patch</a>).


   <p>An example of monkey patching would be: specification A defines an internal algorithm part of its capability, then specification B overrides or modifies said algorithm with functionality directly, not using publicly defined extension points.</p>
   <p>As such, monkey patching (wrongly!) presupposes that underlying functionality cannot, and will not, be changed. This can lead to several problems:</p>
   <ul>
    <li data-md>
     <p>If the existing specification changes, the monkey patched text may no longer apply thus causing it to break or lead to confusion.</p>
    <li data-md>
     <p>If several specifications monkey patch part of another spec, the order in which the patches are applied can lead to inconsistent behavior.</p>
    <li data-md>
     <p>The existing specification authors may not be aware of the monkey patched text in your spec. This misses an opportunity to receive guidance on reaching consensus on a fix. Or worse, the behavior that is being patched is interrelated to so other issue or behavior, making the overall situation worse.</p>
    <li data-md>
     <p>An implementer doing code maintenance may read underlying specification and inadvertently revert the monkey patched behavior assuming it is a bug.</p>
   </ul>
   <p>Wikipedia also describes some <a href="https://en.wikipedia.org/wiki/Monkey_patch#Pitfalls">additional pitfalls of monkey patching</a>.</p>
   <h4 class="heading settled" data-level="11.4.1" id="cant-avoid-monkey-patching"><span class="secno">11.4.1. </span><span class="content">If you need to monkey patch</span><a class="self-link" href="#cant-avoid-monkey-patching"></a></h4>
   
Sometimes monkey patching is unavoidable (e.g., early in the design phase of a new specification). If you find yourself needing to monkey patch an existing specification, make sure you:


   <ol>
    <li data-md>
     <p>In your spec, clearly mark the monkey patch as a proposed change to another specification that is only temporarily in this specification, using language like:</p>
     <div class="example" id="example-mark-monkeypatch">
      <a class="self-link" href="#example-mark-monkeypatch"></a>


<pre class="highlight language-markdown"># Modify HTTP fetch

&lt;p class="issue">Merge this into [[Fetch]] once it has enough consensus.&lt;/p>
</pre>
     </div>
    <li data-md>
     <p>Identify the place you want to change using a quote from its text or by linking to a defined term if you’re replacing that term’s whole definition. Include the current step numbers if you’re changing something that’s numbered, but remember that numbers aren’t sufficient by themselves because they change when other steps are added or removed. If you’re changing several places within a definition, it can be helpful to paste the entire definition into a <code>&lt;blockquote></code> and use <code>&lt;ins></code> and <code>&lt;del></code> to describe what’s changing.</p>
     <div class="example" id="example-monkeypatch-quote-text-before-step">
      <a class="self-link" href="#example-monkeypatch-quote-text-before-step"></a>


      <p>Before step 4.2 of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-http-fetch" id="ref-for-concept-http-fetch">HTTP fetch</a>, "If request’s redirect mode is "follow", then set request’s service-workers mode to "none".", insert the following steps:</p>
      <ol>
       <li data-md>
        <p>The first new step.</p>
      </ol>
     </div>
     <div class="example" id="example-monkeypatch-quote-text-replace-def">
      <a class="self-link" href="#example-monkeypatch-quote-text-replace-def"></a>


      <p>In terms of CSS2.1 block-level formatting <a data-link-type="biblio" href="#biblio-css2" title="Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification">[CSS2]</a>, the rules for “over-constrained” computations in <a href="https://drafts.csswg.org/css2/#blockwidth"><cite>CSS 2</cite> § 10.3.3 Block-level, non-replaced elements in normal flow</a> are ignored in favor of alignment as specified here and the used value of the margin properties are therefore not adjusted to correct for the over-constraint.</p>
     </div>
     <div class="example" id="example-monkeypatch-quote-text-change-idl">
      <a class="self-link" href="#example-monkeypatch-quote-text-change-idl"></a>


      <p>Append <code>optional USVString value</code> parameters to the definitions of <code><code class="idl"><a data-link-type="idl" href="https://url.spec.whatwg.org/#urlsearchparams" id="ref-for-urlsearchparams①">URLSearchParams</a></code>.<code class="idl"><a data-link-type="idl" href="https://url.spec.whatwg.org/#dom-urlsearchparams-delete" id="ref-for-dom-urlsearchparams-delete">delete()</a></code></code> and <code><code class="idl"><a data-link-type="idl" href="https://url.spec.whatwg.org/#urlsearchparams" id="ref-for-urlsearchparams②">URLSearchParams</a></code>.<code class="idl"><a data-link-type="idl" href="https://url.spec.whatwg.org/#dom-urlsearchparams-has" id="ref-for-dom-urlsearchparams-has">has()</a></code></code>:</p>
<pre class="def highlight idl"><c- b>partial</c-> <c- b>interface</c-> <c- g>URLSearchParams</c-> {
  <c- b>undefined</c-> <c- g>delete</c->(<c- b>USVString</c-> <c- g>name</c-><ins>, <c- b>optional</c-> <c- b>USVString</c-> <c- g>value</c-></ins>);
  <c- b>boolean</c-> <c- g>has</c->(<c- b>USVString</c-> <c- g>name</c-><ins>, <c- b>optional</c-> <c- b>USVString</c-> <c- g>value</c-></ins>);
};
</pre>
     </div>
     <div class="example" id="example-monkeypatch-quote-text-change-css">
      <a class="self-link" href="#example-monkeypatch-quote-text-change-css"></a>


      <p>Modify the definition of <a class="css" data-link-type="property" href="https://drafts.csswg.org/css-fonts-4/#propdef-font-size-adjust" id="ref-for-propdef-font-size-adjust">font-size-adjust</a> as follows:</p>
      <table class="def propdef" data-link-for-hint="font-size-adjust">
       <tbody>
        <tr>
         <th>Name:
         <td><dfn class="css dfn-paneled" data-dfn-type="property" data-export id="propdef-font-size-adjust">font-size-adjust</dfn>
        <tr class="value">
         <th><a href="https://www.w3.org/TR/css-values/#value-defs">Value:</a>
         <td class="prod">
          none <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one">|</a> 
          <ins>[ ex-height <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one①">|</a> cap-height <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one②">|</a> ch-width <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one③">|</a> ic-width <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one④">|</a> ic-height ]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt" id="ref-for-mult-opt">?</a> [ from-font <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one" id="ref-for-comb-one⑤">|</a></ins>
           <a class="css production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value②">&lt;number></a> 
          <ins>]</ins>
        <tr>
         <th><a href="https://www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
         <td>none
        <tr>
         <th><a href="https://www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
         <td>all elements and text
        <tr>
         <th><a href="https://www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
         <td>yes
        <tr>
         <th><a href="https://www.w3.org/TR/css-values/#percentages">Percentages:</a>
         <td>N/A
        <tr>
         <th><a href="https://www.w3.org/TR/css-cascade/#computed">Computed value:</a>
         <td>
          <del>a number or the keyword none</del>
          <ins>the keyword <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-fonts-5/#valdef-font-size-adjust-none" id="ref-for-valdef-font-size-adjust-none">none</a>, or a pair of a metric keyword and a <a class="css production" data-link-type="type" href="https://drafts.csswg.org/css-values-4/#number-value" id="ref-for-number-value③">&lt;number></a></ins>
        <tr>
         <th><a href="https://www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
         <td>per grammar
        <tr>
         <th><a href="https://www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
         <td>
          <ins>discrete if the keywords differ, otherwise </ins>
          by computed value type
      </table>
     </div>
    <li data-md>
     <p>Keep monkey patches short. If you’re modifying an algorithm by adding more than a couple of steps, define a separate, self-contained algorithm in your specification, and have the monkey patch call the new algorithm.</p>
    <li data-md>
     <p>If you’re replacing or adding steps in an algorithm, write the new steps so an editor can paste them verbatim into the upstream algorithm. This implies that control flow like "return" or "abort" will return or abort from the whole upstream algorithm, not just the monkey patched section.</p>
    <li data-md>
     <p>Once your feature has been reviewed within your own community, and there seems to be consensus that it’s a good idea, file an issue against the existing specification that asks the upstream community to review your monkey patch. This community may suggest better ways to accomplish your goals. Take them seriously. They might also be able to tell you how to hook into an existing extension point or quickly create one so that you can remove your monkey patch sooner than you expected.</p>
    <li data-md>
     <p>Update the <code>&lt;p class="issue"></code> block mentioned above to point to the issue you filed against the upstream specification.</p>
    <li data-md>
     <p>When your work has enough support to merge into the upstream specification, work with that specification’s maintainers to do so.</p>
    <li data-md>
     <p>Once the existing specification has integrated your monkey patch, remove the monkey patch from your specification.</p>
   </ol>
   <p>Note that <a data-link-type="dfn" href="#monkey-patch" id="ref-for-monkey-patch①">monkey patching</a> is different from "modularization", which extends existing technology in a way that is self-contained and doesn’t cause side-effects to other underlying specifications (e.g., the CSS Modules).
Modularization is considered a good practice.</p>
   <p>It’s also usually ok to extend a specification using WebIDL’s <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-partial-interface" id="ref-for-dfn-partial-interface">partial interfaces</a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-partial-dictionary" id="ref-for-dfn-partial-dictionary">partial dictionaries</a>, and so on.
But even in those cases, it’s highly advisable to coordinate with the authors of the specification being extended.</p>
   <h2 class="heading settled" data-level="12" id="naming-is-hard"><span class="secno">12. </span><span class="content">Naming principles</span><a class="self-link" href="#naming-is-hard"></a></h2>
   <p>Names take meaning from:</p>
   <ul>
    <li data-md>
     <p>signposting (the name itself)</p>
    <li data-md>
     <p>use (how people come to understand the name over time)</p>
    <li data-md>
     <p>context (the object on the left-hand side, for example)</p>
   </ul>
   <h3 class="heading settled" data-level="12.1" id="naming-common-words"><span class="secno">12.1. </span><span class="content">Use common words</span><a class="self-link" href="#naming-common-words"></a></h3>
   <p>API naming <em>must</em> be done in easily readable US English.
Keep in mind that most web developers aren’t native English speakers.
Whenever possible, names should be chosen that use common vocabulary
a majority of English speakers are likely to understand when first encountering the name.</p>
   <div class="example" id="example-d0367763">
    <a class="self-link" href="#example-d0367763"></a>


    <p>For example <code>setSize</code> is
a more English-readable name
than <code>cardinality</code>.</p>
   </div>
   <p>Value readability over brevity.
Avoid abbreviations,
except in cases where an abbreviation is extremely common and easy to understand.
For example <code>UIEvent</code>, where "<code>UI</code>" stands for user interface.
Keep in mind, however, that
the shorter name is often the clearer one.
For instance,
it may be appropriate to use technical language or well-known terms of art
in the specification where the API is defined.</p>
   <div class="example" id="example-3cd78f17">
    <a class="self-link" href="#example-3cd78f17"></a>


    <p>For example,
the Fetch API’s <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#body" id="ref-for-body">Body</a></code> mixin’s <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#dom-body-json" id="ref-for-dom-body-json">json()</a></code> method
is named for the kind of object it returns.
JSON is a well-known term of art
among web developers likely to use the Fetch API.
It would harm comprehension
to name this API less directly connected to its return type. <a data-link-type="biblio" href="#biblio-fetch" title="Fetch Standard">[FETCH]</a></p>
   </div>
   <h3 class="heading settled" data-level="12.2" id="naming-charset"><span class="secno">12.2. </span><span class="content">Use ASCII names</span><a class="self-link" href="#naming-charset"></a></h3>
   <p>Names must adhere to the local language restrictions, for example CSS ident rules etc.
and <em>should</em> be in the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-code-point" id="ref-for-ascii-code-point">ASCII range</a>.</p>
   <h3 class="heading settled" data-level="12.3" id="naming-consultation"><span class="secno">12.3. </span><span class="content">Consult others on naming</span><a class="self-link" href="#naming-consultation"></a></h3>
   <p>Consult widely on names in your APIs.</p>
   <p>You may find good names or inspiration in surprising places.</p>
   <ul>
    <li data-md>
     <p>What are similar APIs named on other platforms,
or in popular libraries in various programming languages?</p>
    <li data-md>
     <p>Ask end users and developers what they call
things that your API works with or manipulates.</p>
    <li data-md>
     <p>Look at other web platform specifications,
and seek advice from others working in related areas of the platform.</p>
    <li data-md>
     <p>Also, consult if the names used are inclusive.</p>
   </ul>
   <p>Pay particular attention to advice you receive
with clearly-stated rationale based on underlying principles.</p>
   <div class="example" id="example-1f37c106">
    <a class="self-link" href="#example-1f37c106"></a>


    <p>Tantek Çelik <a href="https://tantek.com/2011/238/b1/many-ways-slice-url-name-pieces">extensively researched</a>
how to name the various pieces of a URL.
The editors of the <a href="https://url.spec.whatwg.org">URL spec</a>
have relied on this research
when editing that document. <a data-link-type="biblio" href="#biblio-url" title="URL Standard">[URL]</a></p>
   </div>
   <h4 class="heading no-num no-toc settled" id="naming-web-consistency"><span class="content">Use Web consistent names</span><a class="self-link" href="#naming-web-consistency"></a></h4>
   
When choosing a name for feature or API that has exposure in other technology stacks,
the preference should be towards the Web ecosystem naming convention rather than other
communities.


   <div class="example" id="example-2ef86e6f">
    <a class="self-link" href="#example-2ef86e6f"></a>


    <p>The NFC standard uses the term <code>media</code> to refer to what the Web calls
<a href="https://mimesniff.spec.whatwg.org/#mime-type-representation">MIME type</a>.
In such cases, the naming of features or API for the purposes of Web NFC must prefer
naming consistent with <code>MIME type</code>.</p>
   </div>
   <h4 class="heading no-num no-toc settled" id="naming-inclusive"><span class="content">Use Inclusive Language</span><a class="self-link" href="#naming-inclusive"></a></h4>
   <p>Use inclusive language whenever possible.</p>
   <p>For example,
you should use blocklist and allowlist
instead of blacklist and whitelist,
and source and replica
instead of master and slave.</p>
   <p>If you need to refer to a generic persona,
such as an author or user,
use the generic pronoun "they", "their", etc.
For example, "A user may wish to adjust their preferences".</p>
   <h3 class="heading settled" data-level="12.4" id="naming-future-proofing"><span class="secno">12.4. </span><span class="content">Use names that describe a purpose</span><a class="self-link" href="#naming-future-proofing"></a></h3>
   <p>Name things for what they do, not how they do it.</p>
   <p>Names that reflect a purpose
are more likely to be future-proof.
<a href="#removing-features">Removing APIs from the web is difficult</a>,
so names need to outlast any implementation detail.</p>
   <p>In particular,
names should avoid the use of
code names,
branding,
or details of the technology used to implement capabilities.
These can become obsolete
and might need to be replaced in the future.</p>
   <div class="example" id="example-fd8a196a">
    <a class="self-link" href="#example-fd8a196a"></a>


    <p>The Remote Playback API was not named
after one of the pre-existing, proprietary systems it was inspired by
(such as Chromecast or AirPlay).
Instead, general terms that describe what the API does were chosen. <a data-link-type="biblio" href="#biblio-remote-playback" title="Remote Playback API">[REMOTE-PLAYBACK]</a></p>
   </div>
   <div class="example" id="example-4a43ecba">
    <a class="self-link" href="#example-4a43ecba"></a>


    <p>The WebTransport API enables the networking capabilities provided by the QUIC protocol.
However, the name reflects the more general purpose of transporting data.
<a data-link-type="biblio" href="#biblio-webtransport" title="WebTransport">[WebTransport]</a><a data-link-type="biblio" href="#biblio-rfc9000" title="QUIC: A UDP-Based Multiplexed and Secure Transport">[RFC9000]</a></p>
   </div>
   <h3 class="heading settled" data-level="12.5" id="naming-consistency"><span class="secno">12.5. </span><span class="content">Name things consistently</span><a class="self-link" href="#naming-consistency"></a></h3>
   
Naming schemes should aim for consistency, to avoid confusion.


   <p>Sets of related names should agree with each other in:</p>
   <ul>
    <li data-md>
     <p>part of speech  - noun, verb, etc.</p>
    <li data-md>
     <p>negation, for example all of the names in a set should either describe what is allowed
or they should all describe what is denied</p>
   </ul>
   <h4 class="heading no-num no-toc settled" id="naming-booleans"><span class="content">Boolean properties vs.
  boolean-returning methods</span><a class="self-link" href="#naming-booleans"></a></h4>
   <p>Boolean properties, options, or API arguments which are asking a question about
their argument <em>should not</em> be prefixed with <code>is</code>, while methods
that serve the same purpose, given that it has no side effects, <em>should</em> be
prefixed with <code>is</code> to be consistent with the rest of the platform.</p>
   <h4 class="heading no-num no-toc settled" id="casing-rules"><span class="content">Use casing rules consistent with existing APIs</span><a class="self-link" href="#casing-rules"></a></h4>
   <p>Although they haven’t always been uniformly followed, through the history of web platform API
design, the following rules have emerged:</p>
   <table class="complex data informative">
    <thead>
     <tr>
      <th>
      <th>Casing rule
      <th>Examples
    <tbody>
     <tr>
      <th>Methods and properties<br>(Web IDL attributes, operations, and dictionary keys)
      <td>Camel case
      <td><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-document-createattribute" id="ref-for-dom-document-createattribute">createAttribute()</a></code><br>
            <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-document-compatmode" id="ref-for-dom-document-compatmode">compatMode</a></code>
     <tr>
      <th>Classes and mixins<br>(Web IDL interfaces)
      <td>Pascal case
      <td><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#namednodemap" id="ref-for-namednodemap">NamedNodeMap</a></code><br>
            <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#nonelementparentnode" id="ref-for-nonelementparentnode">NonElementParentNode</a></code>
     <tr>
      <th>Initialisms in APIs
      <td>All caps, except when the first word in a method or property
      <td><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#htmlcollection" id="ref-for-htmlcollection②">HTMLCollection</a></code><br>
            <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-element-innerhtml" id="ref-for-dom-element-innerhtml">innerHTML</a></code><br>
            <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/obsolete.html#dom-document-bgcolor" id="ref-for-dom-document-bgcolor">bgColor</a></code>
     <tr>
      <th>Repeated initialisms in APIs
      <td>Follow the same rule
      <td><code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/grouping-content.html#htmlhrelement" id="ref-for-htmlhrelement">HTMLHRElement</a></code><br>
            <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcdtmfsender" id="ref-for-dom-rtcdtmfsender">RTCDTMFSender</a></code><br>
    
     <tr>
      <th>The abbreviation of "identity"/"identifier"
      <td><code>Id</code>, except when the first word in a method or property
      <td><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-nonelementparentnode-getelementbyid" id="ref-for-dom-nonelementparentnode-getelementbyid">getElementById()</a></code><br>
            <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/pointerevents/#dom-pointerevent-pointerid" id="ref-for-dom-pointerevent-pointerid">pointerId</a></code><br>
            <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-credential-management/#dom-credential-id" id="ref-for-dom-credential-id">id</a></code>
     <tr>
      <th>Enumeration values
      <td>Lowercase, dash-delimited
      <td><code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webappsec-referrer-policy/#dom-referrerpolicy-no-referrer-when-downgrade" id="ref-for-dom-referrerpolicy-no-referrer-when-downgrade">"no-referrer-when-downgrade"</a></code>
     <tr>
      <th>Events
      <td>Lowercase, concatenated
      <td><code><code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/media.html#event-media-canplaythrough" id="ref-for-event-media-canplaythrough">canplaythrough</a></code></code><br>
            <code><code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/indices.html#event-languagechange" id="ref-for-event-languagechange">languagechange</a></code></code>
     <tr>
      <th>HTML elements and attributes
      <td>Lowercase, concatenated
      <td><code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-figcaption-element" id="ref-for-the-figcaption-element">figcaption</a></code><br>
            <a href="https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#attr-fe-maxlength">maxlength</a>
     <tr>
      <th>JSON keys
      <td>Lowercase, underscore-delimited
      <td><a data-link-type="dfn" href="https://w3c.github.io/manifest/#dfn-short_name" id="ref-for-dfn-short_name">short_name</a>
   </table>
   <div class="non-normative">
    
Note that in particular, when a HTML attribute is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/common-dom-interfaces.html#reflect" id="ref-for-reflect①">reflected</a> as a property, the attribute
and property’s casings won’t necessarily match. For example, the HTML attribute
<code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/embedded-content.html#attr-img-ismap" id="ref-for-attr-img-ismap">ismap</a></code> on <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#the-img-element" id="ref-for-the-img-element②">img</a></code> elements is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/common-dom-interfaces.html#reflect" id="ref-for-reflect②">reflected</a> as the
<code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/embedded-content.html#dom-img-ismap" id="ref-for-dom-img-ismap">isMap</a></code> property on <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/embedded-content.html#htmlimageelement" id="ref-for-htmlimageelement">HTMLImageElement</a></code>.


    <p>The rules for JSON keys are meant to apply to specific JSON file formats sent over HTTP
or stored on disk, and don’t apply to the general notion of JavaScript object keys.</p>
    <p>Repeated initialisms are particularly non-uniform throughout the platform. Infamous historical
examples that violate the above rules are <code class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#xmlhttprequest" id="ref-for-xmlhttprequest②">XMLHttpRequest</a></code> and
<code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/semantics.html#htmlhtmlelement" id="ref-for-htmlhtmlelement">HTMLHtmlElement</a></code>. Don’t follow their example; instead always capitalize your
initialisms, even if they are repeated.</p>
   </div>
   <h4 class="heading no-num no-toc settled" id="factory-naming"><span class="content">Start factory method names with <code>create</code> or <code>from</code></span><a class="self-link" href="#factory-naming"></a></h4>
   <p>Factory method names should start with <code>create</code> or <code>from</code>, optionally followed by a more specific noun.</p>
   <p>If a factory method constructs a new empty object,
prefix the method name with <code>create</code>.
However, if your factory method creates an object from existing data,
prefix the method name with <code>from</code>.</p>
   <p>Factory methods should be an exception, not the norm, and only used <a href="#constructors">for valid reasons</a>.
An example of valid usage of a factory method is
when an object is being created also requires association
with the parent object
(e.g. <code>document.createXXX()</code>).</p>
   <p>Use the prefix <code>from</code>
when there is a source object expected to be
converted to a target object.
For example, <code>Foo.fromBar()</code> would imply
that a <code>Foo</code> object will be created using a <code>Bar</code> object.</p>
   <p>A common pattern is to name generic factory methods <code>create()</code> or <code>from()</code>.</p>
   <p>Avoid inventing other prefixes
and using of legacy prefixes
unless there is a strong reason to do so.
A reason to make an exception would be to maintain consistency with
existing factory methods
under the same object, such as <code>document.initXXX()</code>.
New factory methods should not follow this convention.</p>
   <h3 class="heading settled" data-level="12.6" id="naming-unsafe"><span class="secno">12.6. </span><span class="content">Warn about dangerous features</span><a class="self-link" href="#naming-unsafe"></a></h3>
   <p>Where possible, mark features that weaken
the guarantees provided to developers
by making their names start with "unsafe" so that this is more noticeable.</p>
   <p>For example,
<a href="https://w3c.github.io/webappsec-csp/">Content Security Policy (CSP)</a>
provides protection against certain types of content injection vulnerabilities.
CSP also provides features that weaken this guarantee,
such as the <code>unsafe-inline</code> keyword,
which reduces CSP’s own protections by allowing inline scripts.</p>
   <h2 class="heading settled" data-level="13" id="writing-resources"><span class="secno">13. </span><span class="content">Other resources</span><a class="self-link" href="#writing-resources"></a></h2>
   <p>Some useful advice on how to write specifications is available elsewhere:</p>
   <ul>
    <li data-md>
     <p><a href="https://ln.hixie.ch/?start=1140242962&amp;count=1">Writing
specifications: Kinds of statements</a> (Ian Hickson, 2006)</p>
    <li data-md>
     <p><a href="https://www.w3.org/TR/qaframe-spec/">QA Framework:
Specification Guidelines</a> (W3C QA Working Group, 2005)</p>
    <li data-md>
     <p><a data-biblio-display="inline" data-link-type="biblio" href="https://w3ctag.github.io/privacy-principles/"><cite>Privacy Principles</cite></a></p>
    <li data-md>
     <p><a href="https://www.w3.org/TR/security-privacy-questionnaire/">Self-Review Questionnaire: Security and Privacy</a></p>
    <li data-md>
     <p><a href="https://w3c.github.io/apa/fast/">Web Technology Accessibility Guidelines</a></p>
    <li data-md>
     <p><a href="https://w3c.github.io/bp-i18n-specdev/">Internationalization Best Practices for Spec Developers</a> </p>
   </ul>
   <h2 class="heading no-num settled" id="acks"><span class="content">Acknowledgments</span><a class="self-link" href="#acks"></a></h2>
   <p>This document consists of
principles which have been collected
by TAG members past and present
during TAG <a href="https://github.com/w3ctag/design-reviews/">design reviews</a>.
We are indebted to everyone who has requested a design review from us.</p>
   <p>The TAG would like to thank
Adrian Hope-Bailie,
Alan Stearns,
Aleksandar Totic,
Alex Russell,
Alice Boxhall,
Andreas Stöckel,
Andrew Betts,
Anne van Kesteren,
Benjamin C. Wiley Sittler,
Boris Zbarsky,
Brian Kardell,
Charles McCathieNevile,
Chris Wilson,
Dan Connolly,
Daniel Ehrenberg,
Daniel Murphy,
David Baron,
Domenic Denicola,
Eiji Kitamura,
Eric Shepherd,
Ethan Resnick,
fantasai,
François Daoust,
Henri Sivonen,
HE Shi-Jun,
Ian Hickson,
Irene Knapp,
Jake Archibald,
Jeffrey Yasskin,
Jeremy Roman,
Jirka Kosek,
Kenneth Rohde Christiansen,
Kevin Marks,
Lachlan Hunt,
Léonie Watson,
L. Le Meur,
Lukasz Olejnik,
Maciej Stachowiak,
Marcos Cáceres,
Mark Nottingham,
Martin Thomson,
Matt Giuca,
Matt Wolenetz,
Michael[tm] Smith,
Mike West,
Nick Doty,
Nigel Megitt,
Nik Thierry,
Ojan Vafai,
Olli Pettay,
Pete Snyder,
Philip Jägenstedt,
Philip Taylor,
Reilly Grant,
Richard Ishida,
Rick Byers,
Rossen Atanassov,
Ryan Sleevi,
Sangwhan Moon,
Sergey Konstantinov,
Stefan Zager,
Stephen Stewart,
Steven Faulkner,
Surma,
Tab Atkins-Bittner,
Tantek Çelik,
Tobie Langel,
Travis Leithead,
and
Yoav Weiss
for their contributions to this &amp; the <a href="https://www.w3.org/TR/html-design-principles/">HTML Design Principles</a> document which preceded it.</p>
   <p>Special thanks to
Anne van Kesteren
and
Maciej Stachowiak,
who edited the <a href="https://www.w3.org/TR/html-design-principles/">HTML Design Principles</a> document.</p>
   <p>If you contributed to this document
but your name is not listed above,
please let the editors know
so they can correct this omission.</p>
  </main>
  <div data-fill-with="conformance">
   <h2 class="heading no-num no-ref settled" id="w3c-conformance"><span class="content">Conformance</span><a class="self-link" href="#w3c-conformance"></a></h2>
   <h3 class="heading no-num no-ref settled" id="w3c-conventions"><span class="content">Document conventions</span><a class="self-link" href="#w3c-conventions"></a></h3>
   <p>Conformance requirements are expressed
    with a combination of descriptive assertions
    and RFC 2119 terminology.
    The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL”
    in the normative parts of this document
    are to be interpreted as described in RFC 2119.
    However, for readability,
    these words do not appear in all uppercase letters in this specification.

    </p>
   <p>All of the text of this specification is normative
    except sections explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a>

    </p>
   <p>Examples in this specification are introduced with the words “for example”
    or are set apart from the normative text
    with <code>class="example"</code>,
    like this:

    </p>
   <div class="example" id="w3c-example">
    <a class="self-link" href="#w3c-example"></a>
        
    <p>This is an example of an informative example.
    </p>
   </div>
   <p>Informative notes begin with the word “Note”
    and are set apart from the normative text
    with <code>class="note"</code>,
    like this:

    </p>
   <p class="note" role="note">Note, this is an informative note.</p>
  </div>
  <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="heading no-num no-ref settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="heading no-num no-ref settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#propdef-font-size-adjust">font-size-adjust</a><span>, in § 11.4.1</span>
   <li><a href="#live-object">live object</a><span>, in § 6.3</span>
   <li><a href="#monkey-patch">monkey patch</a><span>, in § 11.4</span>
   <li><a href="#static-object">static object</a><span>, in § 6.3</span>
  </ul>
  <h3 class="heading no-num no-ref settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[APPMANIFEST]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="bfa87d79">short_name</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CONSOLE]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="7b1760b0">console</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CREDENTIAL-MANAGEMENT-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="cbdd0aff">id</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-BACKGROUNDS-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="f831c141">background-image</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-CASCADE-5]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="5d83727e">actual value</span>
     <li><span class="dfn-paneled" id="9cd25054">computed value</span>
     <li><span class="dfn-paneled" id="21ec9802">inherit</span>
     <li><span class="dfn-paneled" id="a4eb3c57">used value</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-CONDITIONAL-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="c1ebc639">@supports</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-FONTS-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="fdf6efd5">font-size</span>
     <li><span class="dfn-paneled" id="99a3763c">font-size-adjust</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-FONTS-5]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="3b64181e">none</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-INLINE-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="12cf38c9">initial-letter</span>
     <li><span class="dfn-paneled" id="3245cc5d">initial-letter-align</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-VALUES-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="fb030e6c">&lt;length></span>
     <li><span class="dfn-paneled" id="16310992">&lt;number></span>
     <li><span class="dfn-paneled" id="537cf076">?</span>
     <li><span class="dfn-paneled" id="6ec67710">|</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS2]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="ac54fbff">line-height</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSSOM-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="b203675a">getComputedStyle(elt)</span>
     <li><span class="dfn-paneled" id="4fe61159">resolved value</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSSOM-VIEW-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="d38f9598">getBoundingClientRect()</span>
     <li><span class="dfn-paneled" id="d977a5dd">offsetTop</span>
     <li><span class="dfn-paneled" id="dc0eaa56">scrollTop</span>
    </ul>
   <li>
    <a data-link-type="biblio">[DOM]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="2e66eaf1">AbortController</span>
     <li><span class="dfn-paneled" id="cca3cdb2">AbortSignal</span>
     <li><span class="dfn-paneled" id="141bbada">DOMTokenList</span>
     <li><span class="dfn-paneled" id="296f3551">Element</span>
     <li><span class="dfn-paneled" id="129bdae8">Event</span>
     <li><span class="dfn-paneled" id="2bc0cdf4">EventTarget</span>
     <li><span class="dfn-paneled" id="9714d594">HTMLCollection</span>
     <li><span class="dfn-paneled" id="83c7a70f">MutationObserver</span>
     <li><span class="dfn-paneled" id="7f21931f">NamedNodeMap</span>
     <li><span class="dfn-paneled" id="96c16e60">Node</span>
     <li><span class="dfn-paneled" id="680651c3">NonElementParentNode</span>
     <li><span class="dfn-paneled" id="19065ec8">abort()</span>
     <li><span class="dfn-paneled" id="535dd335">aborted</span>
     <li><span class="dfn-paneled" id="87bc23a5">add</span>
     <li><span class="dfn-paneled" id="6cf6f82f">addEventListener(type, callback)</span>
     <li><span class="dfn-paneled" id="0c0ceb78">bubbles</span>
     <li><span class="dfn-paneled" id="c2f2a81a">classList</span>
     <li><span class="dfn-paneled" id="aaa103c9">compatMode</span>
     <li><span class="dfn-paneled" id="bc9fe445">createAttribute(localName)</span>
     <li><span class="dfn-paneled" id="5fcd7fc5">createElement(localName)</span>
     <li><span class="dfn-paneled" id="5fd23811">fire an event</span>
     <li><span class="dfn-paneled" id="c7af4825">getElementById(elementId)</span>
     <li><span class="dfn-paneled" id="68c033c8">getElementsByTagName(qualifiedName)</span>
     <li><span class="dfn-paneled" id="50e555d8">once</span>
     <li><span class="dfn-paneled" id="fefe0433">preventDefault()</span>
     <li><span class="dfn-paneled" id="5def70a6">querySelectorAll(selectors)</span>
     <li><span class="dfn-paneled" id="ff87eaf9">remove</span>
     <li><span class="dfn-paneled" id="08baaf46">remove()</span>
     <li><span class="dfn-paneled" id="2296404c">signal abort</span>
     <li><span class="dfn-paneled" id="e8478f36">target</span>
     <li><span class="dfn-paneled" id="072b36ca">timeout(milliseconds)</span>
    </ul>
   <li>
    <a data-link-type="biblio">[ECMASCRIPT]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="f6c2cd25">BigInt</span>
     <li><span class="dfn-paneled" id="8c8cc336">Date</span>
     <li><span class="dfn-paneled" id="6e923df0">Error</span>
     <li><span class="dfn-paneled" id="5f45e759">FinalizationRegistry</span>
     <li><span class="dfn-paneled" id="5f9c7266">Number</span>
     <li><span class="dfn-paneled" id="bf77e69a">WeakRef</span>
     <li><span class="dfn-paneled" id="434af3a5">now()</span>
     <li><span class="dfn-paneled" id="8bdd3ef8">then(onFulfilled, onRejected)</span>
    </ul>
   <li>
    <a data-link-type="biblio">[ENCODING]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="056fb0bd">TextEncoder</span>
    </ul>
   <li>
    <a data-link-type="biblio">[FETCH]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="7c397e50">Body</span>
     <li><span class="dfn-paneled" id="2aaa2f42">HTTP fetch</span>
     <li><span class="dfn-paneled" id="dc4acd27">json()</span>
    </ul>
   <li>
    <a data-link-type="biblio">[FileAPI]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="b7d73f5b">Blob</span>
    </ul>
   <li>
    <a data-link-type="biblio">[FILTER-EFFECTS-2]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="54fa0afb">backdrop-filter</span>
    </ul>
   <li>
    <a data-link-type="biblio">[GAMEPAD]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="112278c6">Gamepad</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HIGHRES-TIME]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="0e9f636b">DOMHighResTimeStamp</span>
     <li><span class="dfn-paneled" id="d62af025">now()</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="b8308563">DedicatedWorkerGlobalScope</span>
     <li><span class="dfn-paneled" id="f0951476">EventHandler</span>
     <li><span class="dfn-paneled" id="762ce945">GlobalEventHandlers</span>
     <li><span class="dfn-paneled" id="e4ee9a64">HTMLHRElement</span>
     <li><span class="dfn-paneled" id="37ef25b8">HTMLHtmlElement</span>
     <li><span class="dfn-paneled" id="c5891539">HTMLImageElement</span>
     <li><span class="dfn-paneled" id="83b269de">HTMLInputElement</span>
     <li><span class="dfn-paneled" id="1076ec40">HTMLMediaElement</span>
     <li><span class="dfn-paneled" id="a2411b6a">History</span>
     <li><span class="dfn-paneled" id="478bb3aa">ImageBitmap</span>
     <li><span class="dfn-paneled" id="be0c27b2">Navigator</span>
     <li><span class="dfn-paneled" id="5d7209e9">Window</span>
     <li><span class="dfn-paneled" id="8baa72cd">WindowEventHandlers</span>
     <li><span class="dfn-paneled" id="c262266a">WorkerType</span>
     <li><span class="dfn-paneled" id="68bf3d31">a</span>
     <li><span class="dfn-paneled" id="3fbd5055">abbr</span>
     <li><span class="dfn-paneled" id="24366e21">accept</span>
     <li><span class="dfn-paneled" id="7e4cbc4d">acronym</span>
     <li><span class="dfn-paneled" id="5f753d3e">action</span>
     <li><span class="dfn-paneled" id="b2f8a695">alert()</span>
     <li><span class="dfn-paneled" id="2c82d279">audio</span>
     <li><span class="dfn-paneled" id="e81f86c3">bgColor</span>
     <li><span class="dfn-paneled" id="bfff6250">button</span>
     <li><span class="dfn-paneled" id="e6b9f496">canplaythrough</span>
     <li><span class="dfn-paneled" id="8662cdd3">checked</span>
     <li><span class="dfn-paneled" id="d4b3b8bc">cite</span>
     <li><span class="dfn-paneled" id="e356ee85">class</span>
     <li><span class="dfn-paneled" id="3f597ac1">createImageBitmap(image, options)</span>
     <li><span class="dfn-paneled" id="b6fb7a51">custom element</span>
     <li><span class="dfn-paneled" id="3f03fff1">datalist</span>
     <li><span class="dfn-paneled" id="0226500f">defaultChecked</span>
     <li><span class="dfn-paneled" id="032e4578">defaultSelected</span>
     <li><span class="dfn-paneled" id="5fa63f4e">defaultValue</span>
     <li><span class="dfn-paneled" id="31559e1b">define(name, constructor, options)</span>
     <li><span class="dfn-paneled" id="1748bbeb">details</span>
     <li><span class="dfn-paneled" id="1812300f">dialog</span>
     <li><span class="dfn-paneled" id="e10e7eb7">DOM manipulation task source</span>
     <li><span class="dfn-paneled" id="03675365">event handler IDL attribute</span>
     <li><span class="dfn-paneled" id="c6d19e56">event loop</span>
     <li><span class="dfn-paneled" id="11289557">figcaption</span>
     <li><span class="dfn-paneled" id="88885797">for</span>
     <li><span class="dfn-paneled" id="946a9318">form</span>
     <li><span class="dfn-paneled" id="0e3ba9f8">fully active</span>
     <li><span class="dfn-paneled" id="ca0c892d">href <small>(for a)</small></span>
     <li><span class="dfn-paneled" id="a6078b11">href <small>(for link)</small></span>
     <li><span class="dfn-paneled" id="f0811ff8">img</span>
     <li><span class="dfn-paneled" id="d4127354">innerHTML</span>
     <li><span class="dfn-paneled" id="d7d642a2">input</span>
     <li><span class="dfn-paneled" id="7bd34c20">isActive</span>
     <li><span class="dfn-paneled" id="da34f333">isMap</span>
     <li><span class="dfn-paneled" id="93c4bcc0">ismap</span>
     <li><span class="dfn-paneled" id="84f243ef">label</span>
     <li><span class="dfn-paneled" id="2c73cb69">languagechange</span>
     <li><span class="dfn-paneled" id="6cfa013d">link</span>
     <li><span class="dfn-paneled" id="dc6ebe88">list</span>
     <li><span class="dfn-paneled" id="3a2db83f">localStorage</span>
     <li><span class="dfn-paneled" id="6a288f2a">microtask</span>
     <li><span class="dfn-paneled" id="b07164ad">multiple</span>
     <li><span class="dfn-paneled" id="b6ae4501">networking task source</span>
     <li><span class="dfn-paneled" id="31133468">open</span>
     <li><span class="dfn-paneled" id="f449d4f8">open(url, target, features)</span>
     <li><span class="dfn-paneled" id="aee00462">option</span>
     <li><span class="dfn-paneled" id="b093bcd2">output</span>
     <li><span class="dfn-paneled" id="3da24a47">ping</span>
     <li><span class="dfn-paneled" id="613edb27">play()</span>
     <li><span class="dfn-paneled" id="55b2f02c">poster</span>
     <li><span class="dfn-paneled" id="9dc3e09f">q</span>
     <li><span class="dfn-paneled" id="48438eb3">queue a global task</span>
     <li><span class="dfn-paneled" id="9a517a7d">queue a task</span>
     <li><span class="dfn-paneled" id="72aaa5d6">queue an element task</span>
     <li><span class="dfn-paneled" id="5ab7b520">reflect</span>
     <li><span class="dfn-paneled" id="eb9a1873">rel</span>
     <li><span class="dfn-paneled" id="4872935b">resize</span>
     <li><span class="dfn-paneled" id="5c35dd47">sandbox</span>
     <li><span class="dfn-paneled" id="0cf3964f">script</span>
     <li><span class="dfn-paneled" id="85188fb3">select</span>
     <li><span class="dfn-paneled" id="96ffbcca">selected</span>
     <li><span class="dfn-paneled" id="3332e595">setTimeout(handler, timeout, ...arguments)</span>
     <li><span class="dfn-paneled" id="9d861566">showModal()</span>
     <li><span class="dfn-paneled" id="e5882acf">source</span>
     <li><span class="dfn-paneled" id="b996b941">src <small>(for img)</small></span>
     <li><span class="dfn-paneled" id="03431bcb">src <small>(for script)</small></span>
     <li><span class="dfn-paneled" id="c219fdf4">srcset</span>
     <li><span class="dfn-paneled" id="ba920583">style</span>
     <li><span class="dfn-paneled" id="e270bd2a">task</span>
     <li><span class="dfn-paneled" id="c3b2d08c">task source</span>
     <li><span class="dfn-paneled" id="fc736137">textarea</span>
     <li><span class="dfn-paneled" id="47fe679e">transient activation</span>
     <li><span class="dfn-paneled" id="66aee777">type</span>
     <li><span class="dfn-paneled" id="b815f411">update the rendering</span>
     <li><span class="dfn-paneled" id="825cbc48">user interaction task source</span>
     <li><span class="dfn-paneled" id="14e45097">value <small>(for HTMLInputElement)</small></span>
     <li><span class="dfn-paneled" id="fd7a9317">value <small>(for input)</small></span>
     <li><span class="dfn-paneled" id="aa7bbf63">video</span>
     <li><span class="dfn-paneled" id="7a26cf99">width</span>
    </ul>
   <li>
    <a data-link-type="biblio">[I18N-GLOSSARY]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="30011333">percent-encoding</span>
    </ul>
   <li>
    <a data-link-type="biblio">[IndexedDB-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="a46ec9f9">IDBDatabase</span>
    </ul>
   <li>
    <a data-link-type="biblio">[INFRA]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="ddc587b1">ASCII code point</span>
     <li><span class="dfn-paneled" id="59912c93">code unit</span>
     <li><span class="dfn-paneled" id="860300d4">implementation-defined</span>
     <li><span class="dfn-paneled" id="ecf251b4">scalar value</span>
     <li><span class="dfn-paneled" id="762869d3">scalar value string</span>
     <li><span class="dfn-paneled" id="0698d556">string</span>
     <li><span class="dfn-paneled" id="a3fb968a">surrogate</span>
    </ul>
   <li>
    <a data-link-type="biblio">[INTERSECTION-OBSERVER]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="9be179f5">IntersectionObserver</span>
    </ul>
   <li>
    <a data-link-type="biblio">[MEDIAQUERIES-5]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="f8b3bc81">false</span>
     <li><span class="dfn-paneled" id="c4484b93">true</span>
    </ul>
   <li>
    <a data-link-type="biblio">[PAYMENT-REQUEST]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="f679a0bc">PaymentRequest</span>
     <li><span class="dfn-paneled" id="2e3a180b">[[state]]</span>
     <li><span class="dfn-paneled" id="ab86e0f1">show()</span>
    </ul>
   <li>
    <a data-link-type="biblio">[PERMISSIONS]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="c2430fbb">prompt the user to choose</span>
     <li><span class="dfn-paneled" id="bcc085e3">request permission to use</span>
    </ul>
   <li>
    <a data-link-type="biblio">[POINTEREVENTS3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="d94094fa">PointerEvent</span>
     <li><span class="dfn-paneled" id="d6aab74b">pointerId</span>
    </ul>
   <li>
    <a data-link-type="biblio">[REFERRER-POLICY]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="8dba5fba">"no-referrer-when-downgrade"</span>
    </ul>
   <li>
    <a data-link-type="biblio">[REMOTE-PLAYBACK]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="9e3cc993">RemotePlayback</span>
     <li><span class="dfn-paneled" id="7f769aa9">remote playback device</span>
     <li><span class="dfn-paneled" id="06b254b0">remote playback devices</span>
    </ul>
   <li>
    <a data-link-type="biblio">[REQUESTIDLECALLBACK]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="ea2e2ea4">timeRemaining()</span>
    </ul>
   <li>
    <a data-link-type="biblio">[RFC9110]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="3c05c488">Accept</span>
    </ul>
   <li>
    <a data-link-type="biblio">[SCREEN-CAPTURE]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="5bcbeb1e">getDisplayMedia()</span>
     <li><span class="dfn-paneled" id="ab4b142f">setFocusBehavior()</span>
    </ul>
   <li>
    <a data-link-type="biblio">[SERVICE-WORKERS]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="611cb8cd">respondWith(r)</span>
     <li><span class="dfn-paneled" id="3a3c984c">task queues</span>
    </ul>
   <li>
    <a data-link-type="biblio">[UIEVENTS]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="518be2ae">InputEvent</span>
     <li><span class="dfn-paneled" id="1fc098b2">KeyboardEvent</span>
     <li><span class="dfn-paneled" id="c3469cd0">MouseEvent</span>
     <li><span class="dfn-paneled" id="d387f951">inputType</span>
    </ul>
   <li>
    <a data-link-type="biblio">[URL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="adfe3014">URLSearchParams</span>
     <li><span class="dfn-paneled" id="46335198">delete(name)</span>
     <li><span class="dfn-paneled" id="0992b8f5">has(name)</span>
     <li><span class="dfn-paneled" id="dcffbccd">URL</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEB-ANIMATIONS-2]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="8bd77373">currentTime</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEB-LOCKS]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="b88b42f7">LockManager</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WebAudio]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="1bb59bab">AudioWorklet</span>
     <li><span class="dfn-paneled" id="0065f652">ScriptProcessorNode</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBCRYPTO-2]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="529179ea">Crypto</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="2f8afbfe">ArrayBuffer</span>
     <li><span class="dfn-paneled" id="22cb9a16">ByteString</span>
     <li><span class="dfn-paneled" id="f89c7d0d">Clamp</span>
     <li><span class="dfn-paneled" id="dca2de17">DOMException</span>
     <li><span class="dfn-paneled" id="8855a9aa">DOMString</span>
     <li><span class="dfn-paneled" id="c01cbda0">EnforceRange</span>
     <li><span class="dfn-paneled" id="889e932f">Exposed</span>
     <li><span class="dfn-paneled" id="0a296dfe">Float32Array</span>
     <li><span class="dfn-paneled" id="bdbd19d1">Promise</span>
     <li><span class="dfn-paneled" id="b75bb3bd">SecureContext</span>
     <li><span class="dfn-paneled" id="7d783f61">SharedArrayBuffer</span>
     <li><span class="dfn-paneled" id="82ca3efc">TypeError</span>
     <li><span class="dfn-paneled" id="b0d7f3c3">USVString</span>
     <li><span class="dfn-paneled" id="95d7775a">Uint8Array</span>
     <li><span class="dfn-paneled" id="bdcd112d">bigint</span>
     <li><span class="dfn-paneled" id="f4813f78">byte</span>
     <li><span class="dfn-paneled" id="8c800cdf">double</span>
     <li><span class="dfn-paneled" id="f8de33a3">long</span>
     <li><span class="dfn-paneled" id="9aeb0a82">long long</span>
     <li><span class="dfn-paneled" id="77996ab1">maplike</span>
     <li><span class="dfn-paneled" id="2039631f">namespace</span>
     <li><span class="dfn-paneled" id="d7d5b038">observable array type</span>
     <li><span class="dfn-paneled" id="bc5645aa">octet</span>
     <li><span class="dfn-paneled" id="a9789869">partial dictionary</span>
     <li><span class="dfn-paneled" id="d0eba3fd">partial interface</span>
     <li><span class="dfn-paneled" id="5eafebb0">sequence type</span>
     <li><span class="dfn-paneled" id="cc212fd8">setlike</span>
     <li><span class="dfn-paneled" id="47574099">short</span>
     <li><span class="dfn-paneled" id="5f90bbfb">undefined</span>
     <li><span class="dfn-paneled" id="11e0b87f">unrestricted double</span>
     <li><span class="dfn-paneled" id="f14b47b8">unsigned long long</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBRTC]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="ba3d5b0d">RTCDTMFSender</span>
    </ul>
   <li>
    <a data-link-type="biblio">[XHR]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="7b0dc914">ProgressEvent</span>
     <li><span class="dfn-paneled" id="d06b2b8c">XMLHttpRequest</span>
     <li><span class="dfn-paneled" id="59f1958b">XMLHttpRequestEventTarget</span>
     <li><span class="dfn-paneled" id="5528aefc">loaded</span>
     <li><span class="dfn-paneled" id="0e833ee0">readyState</span>
     <li><span class="dfn-paneled" id="67fa4a40">total</span>
    </ul>
  </ul>
  <h2 class="heading no-num no-ref settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="heading no-num no-ref settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-css-cascade-5">[CSS-CASCADE-5]
   <dd>Elika Etemad; Miriam Suzanne; Tab Atkins Jr.. <a href="https://drafts.csswg.org/css-cascade-5/"><cite>CSS Cascading and Inheritance Level 5</cite></a>. URL: <a href="https://drafts.csswg.org/css-cascade-5/">https://drafts.csswg.org/css-cascade-5/</a>
   <dt id="biblio-css-conditional-3">[CSS-CONDITIONAL-3]
   <dd>Chris Lilley; David Baron; Elika Etemad. <a href="https://drafts.csswg.org/css-conditional-3/"><cite>CSS Conditional Rules Module Level 3</cite></a>. URL: <a href="https://drafts.csswg.org/css-conditional-3/">https://drafts.csswg.org/css-conditional-3/</a>
   <dt id="biblio-dom">[DOM]
   <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
   <dt id="biblio-ecmascript">[ECMASCRIPT]
   <dd><a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript Language Specification</cite></a>. URL: <a href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
   <dt id="biblio-encoding">[ENCODING]
   <dd>Anne van Kesteren. <a href="https://encoding.spec.whatwg.org/"><cite>Encoding Standard</cite></a>. Living Standard. URL: <a href="https://encoding.spec.whatwg.org/">https://encoding.spec.whatwg.org/</a>
   <dt id="biblio-fetch">[FETCH]
   <dd>Anne van Kesteren. <a href="https://fetch.spec.whatwg.org/"><cite>Fetch Standard</cite></a>. Living Standard. URL: <a href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
   <dt id="biblio-fingerprinting-guidance">[FINGERPRINTING-GUIDANCE]
   <dd>Nick Doty; Tom Ritter. <a href="https://w3c.github.io/fingerprinting-guidance/"><cite>Mitigating Browser Fingerprinting in Web Specifications</cite></a>. URL: <a href="https://w3c.github.io/fingerprinting-guidance/">https://w3c.github.io/fingerprinting-guidance/</a>
   <dt id="biblio-highres-time">[HIGHRES-TIME]
   <dd>Yoav Weiss. <a href="https://w3c.github.io/hr-time/"><cite>High Resolution Time</cite></a>. URL: <a href="https://w3c.github.io/hr-time/">https://w3c.github.io/hr-time/</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-i18n-glossary">[I18N-GLOSSARY]
   <dd>Richard Ishida; Addison Phillips. <a href="https://w3c.github.io/i18n-glossary/"><cite>Internationalization Glossary</cite></a>. URL: <a href="https://w3c.github.io/i18n-glossary/">https://w3c.github.io/i18n-glossary/</a>
   <dt id="biblio-indexeddb-3">[IndexedDB-3]
   <dd>Steven Becker. <a href="https://w3c.github.io/IndexedDB/"><cite>Indexed Database API 3.0</cite></a>. URL: <a href="https://w3c.github.io/IndexedDB/">https://w3c.github.io/IndexedDB/</a>
   <dt id="biblio-infra">[INFRA]
   <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
   <dt id="biblio-mediaqueries-5">[MEDIAQUERIES-5]
   <dd>Dean Jackson; et al. <a href="https://drafts.csswg.org/mediaqueries-5/"><cite>Media Queries Level 5</cite></a>. URL: <a href="https://drafts.csswg.org/mediaqueries-5/">https://drafts.csswg.org/mediaqueries-5/</a>
   <dt id="biblio-payment-request">[PAYMENT-REQUEST]
   <dd>Marcos Caceres; Ian Jacobs; Stephen McGruer. <a href="https://w3c.github.io/payment-request/"><cite>Payment Request API</cite></a>. URL: <a href="https://w3c.github.io/payment-request/">https://w3c.github.io/payment-request/</a>
   <dt id="biblio-permissions">[PERMISSIONS]
   <dd>Marcos Caceres; Mike Taylor. <a href="https://w3c.github.io/permissions/"><cite>Permissions</cite></a>. URL: <a href="https://w3c.github.io/permissions/">https://w3c.github.io/permissions/</a>
   <dt id="biblio-privacy-principles">[PRIVACY-PRINCIPLES]
   <dd>Robin Berjon; Jeffrey Yasskin. <a href="https://w3ctag.github.io/privacy-principles/"><cite>Privacy Principles</cite></a>. URL: <a href="https://w3ctag.github.io/privacy-principles/">https://w3ctag.github.io/privacy-principles/</a>
   <dt id="biblio-requestidlecallback">[REQUESTIDLECALLBACK]
   <dd>Scott Haseley. <a href="https://w3c.github.io/requestidlecallback/"><cite>requestIdleCallback()</cite></a>. URL: <a href="https://w3c.github.io/requestidlecallback/">https://w3c.github.io/requestidlecallback/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
   <dt id="biblio-rfc9205">[RFC9205]
   <dd>M. Nottingham. <a href="https://httpwg.org/specs/rfc9205.html"><cite>Building Protocols with HTTP</cite></a>. June 2022. Best Current Practice. URL: <a href="https://httpwg.org/specs/rfc9205.html">https://httpwg.org/specs/rfc9205.html</a>
   <dt id="biblio-service-workers">[SERVICE-WORKERS]
   <dd>Monica CHINTALA; Yoshisato Yanagisawa. <a href="https://w3c.github.io/ServiceWorker/"><cite>Service Workers Nightly</cite></a>. URL: <a href="https://w3c.github.io/ServiceWorker/">https://w3c.github.io/ServiceWorker/</a>
   <dt id="biblio-url">[URL]
   <dd>Anne van Kesteren. <a href="https://url.spec.whatwg.org/"><cite>URL Standard</cite></a>. Living Standard. URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
   <dt id="biblio-web-animations-2">[WEB-ANIMATIONS-2]
   <dd>Brian Birtles; Robert Flack. <a href="https://drafts.csswg.org/web-animations-2/"><cite>Web Animations Module Level 2</cite></a>. URL: <a href="https://drafts.csswg.org/web-animations-2/">https://drafts.csswg.org/web-animations-2/</a>
   <dt id="biblio-webidl">[WEBIDL]
   <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
   <dt id="biblio-xhr">[XHR]
   <dd>Anne van Kesteren. <a href="https://xhr.spec.whatwg.org/"><cite>XMLHttpRequest Standard</cite></a>. Living Standard. URL: <a href="https://xhr.spec.whatwg.org/">https://xhr.spec.whatwg.org/</a>
  </dl>
  <h3 class="heading no-num no-ref settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-appmanifest">[APPMANIFEST]
   <dd>Marcos Caceres; et al. <a href="https://w3c.github.io/manifest/"><cite>Web Application Manifest</cite></a>. URL: <a href="https://w3c.github.io/manifest/">https://w3c.github.io/manifest/</a>
   <dt id="biblio-console">[CONSOLE]
   <dd>Dominic Farolino; Robert Kowalski; Terin Stock. <a href="https://console.spec.whatwg.org/"><cite>Console Standard</cite></a>. Living Standard. URL: <a href="https://console.spec.whatwg.org/">https://console.spec.whatwg.org/</a>
   <dt id="biblio-credential-management-1">[CREDENTIAL-MANAGEMENT-1]
   <dd>Nina Satragno; Marcos Caceres. <a href="https://w3c.github.io/webappsec-credential-management/"><cite>Credential Management Level 1</cite></a>. URL: <a href="https://w3c.github.io/webappsec-credential-management/">https://w3c.github.io/webappsec-credential-management/</a>
   <dt id="biblio-css-backgrounds-3">[CSS-BACKGROUNDS-3]
   <dd>Elika Etemad; Brad Kemper. <a href="https://drafts.csswg.org/css-backgrounds/"><cite>CSS Backgrounds and Borders Module Level 3</cite></a>. URL: <a href="https://drafts.csswg.org/css-backgrounds/">https://drafts.csswg.org/css-backgrounds/</a>
   <dt id="biblio-css-fonts-4">[CSS-FONTS-4]
   <dd>Chris Lilley. <a href="https://drafts.csswg.org/css-fonts-4/"><cite>CSS Fonts Module Level 4</cite></a>. URL: <a href="https://drafts.csswg.org/css-fonts-4/">https://drafts.csswg.org/css-fonts-4/</a>
   <dt id="biblio-css-fonts-5">[CSS-FONTS-5]
   <dd>Chris Lilley. <a href="https://drafts.csswg.org/css-fonts-5/"><cite>CSS Fonts Module Level 5</cite></a>. URL: <a href="https://drafts.csswg.org/css-fonts-5/">https://drafts.csswg.org/css-fonts-5/</a>
   <dt id="biblio-css-grid-1">[CSS-GRID-1]
   <dd>Tab Atkins Jr.; et al. <a href="https://drafts.csswg.org/css-grid-1/"><cite>CSS Grid Layout Module Level 1</cite></a>. URL: <a href="https://drafts.csswg.org/css-grid-1/">https://drafts.csswg.org/css-grid-1/</a>
   <dt id="biblio-css-inline-3">[CSS-INLINE-3]
   <dd>Elika Etemad. <a href="https://drafts.csswg.org/css-inline-3/"><cite>CSS Inline Layout Module Level 3</cite></a>. URL: <a href="https://drafts.csswg.org/css-inline-3/">https://drafts.csswg.org/css-inline-3/</a>
   <dt id="biblio-css-values-4">[CSS-VALUES-4]
   <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://drafts.csswg.org/css-values-4/"><cite>CSS Values and Units Module Level 4</cite></a>. URL: <a href="https://drafts.csswg.org/css-values-4/">https://drafts.csswg.org/css-values-4/</a>
   <dt id="biblio-css2">[CSS2]
   <dd>Bert Bos; et al. <a href="https://drafts.csswg.org/css2/"><cite>Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification</cite></a>. URL: <a href="https://drafts.csswg.org/css2/">https://drafts.csswg.org/css2/</a>
   <dt id="biblio-cssom-1">[CSSOM-1]
   <dd>Daniel Glazman; Emilio Cobos Álvarez. <a href="https://drafts.csswg.org/cssom/"><cite>CSS Object Model (CSSOM)</cite></a>. URL: <a href="https://drafts.csswg.org/cssom/">https://drafts.csswg.org/cssom/</a>
   <dt id="biblio-cssom-view-1">[CSSOM-VIEW-1]
   <dd>Simon Fraser; Emilio Cobos Álvarez. <a href="https://drafts.csswg.org/cssom-view/"><cite>CSSOM View Module</cite></a>. URL: <a href="https://drafts.csswg.org/cssom-view/">https://drafts.csswg.org/cssom-view/</a>
   <dt id="biblio-encrypted-media">[ENCRYPTED-MEDIA]
   <dd>Joey Parrish; Greg Freedman. <a href="https://w3c.github.io/encrypted-media/"><cite>Encrypted Media Extensions</cite></a>. URL: <a href="https://w3c.github.io/encrypted-media/">https://w3c.github.io/encrypted-media/</a>
   <dt id="biblio-ethical-web-principles">[ETHICAL-WEB-PRINCIPLES]
   <dd>Daniel Appelquist; Hadley Beeman; Amy Guy. <a href="https://w3ctag.github.io/ethical-web-principles/"><cite>Ethical Web Principles</cite></a>. URL: <a href="https://w3ctag.github.io/ethical-web-principles/">https://w3ctag.github.io/ethical-web-principles/</a>
   <dt id="biblio-fileapi">[FileAPI]
   <dd>Marijn Kruisselbrink. <a href="https://w3c.github.io/FileAPI/"><cite>File API</cite></a>. URL: <a href="https://w3c.github.io/FileAPI/">https://w3c.github.io/FileAPI/</a>
   <dt id="biblio-filter-effects-2">[FILTER-EFFECTS-2]
   <dd><a href="https://drafts.fxtf.org/filter-effects-2/"><cite>Filter Effects Module Level 2</cite></a>. Editor's Draft. URL: <a href="https://drafts.fxtf.org/filter-effects-2/">https://drafts.fxtf.org/filter-effects-2/</a>
   <dt id="biblio-gamepad">[GAMEPAD]
   <dd>Steve Agoston; Matthew Reynolds. <a href="https://w3c.github.io/gamepad/"><cite>Gamepad</cite></a>. URL: <a href="https://w3c.github.io/gamepad/">https://w3c.github.io/gamepad/</a>
   <dt id="biblio-international-specs">[INTERNATIONAL-SPECS]
   <dd>Richard Ishida; Addison Phillips. <a href="https://w3c.github.io/bp-i18n-specdev/"><cite>Internationalization Best Practices for Spec Developers</cite></a>. URL: <a href="https://w3c.github.io/bp-i18n-specdev/">https://w3c.github.io/bp-i18n-specdev/</a>
   <dt id="biblio-intersection-observer">[INTERSECTION-OBSERVER]
   <dd>Stefan Zager; Emilio Cobos Álvarez; Traian Captan. <a href="https://w3c.github.io/IntersectionObserver/"><cite>Intersection Observer</cite></a>. URL: <a href="https://w3c.github.io/IntersectionObserver/">https://w3c.github.io/IntersectionObserver/</a>
   <dt id="biblio-least-power">[LEAST-POWER]
   <dd>Tim Berners-Lee; Noah Mendelsohn. <a href="https://www.w3.org/2001/tag/doc/leastPower"><cite>The Rule of Least Power</cite></a>. 23 February 2006. TAG Finding. URL: <a href="https://www.w3.org/2001/tag/doc/leastPower">https://www.w3.org/2001/tag/doc/leastPower</a>
   <dt id="biblio-pointerevents3">[POINTEREVENTS3]
   <dd>Patrick Lauke; Robert Flack. <a href="https://w3c.github.io/pointerevents/"><cite>Pointer Events</cite></a>. URL: <a href="https://w3c.github.io/pointerevents/">https://w3c.github.io/pointerevents/</a>
   <dt id="biblio-referrer-policy">[REFERRER-POLICY]
   <dd>Jochen Eisinger; Emily Stark. <a href="https://w3c.github.io/webappsec-referrer-policy/"><cite>Referrer Policy</cite></a>. URL: <a href="https://w3c.github.io/webappsec-referrer-policy/">https://w3c.github.io/webappsec-referrer-policy/</a>
   <dt id="biblio-remote-playback">[REMOTE-PLAYBACK]
   <dd>Mark Foltz. <a href="https://w3c.github.io/remote-playback/"><cite>Remote Playback API</cite></a>. URL: <a href="https://w3c.github.io/remote-playback/">https://w3c.github.io/remote-playback/</a>
   <dt id="biblio-rfc8890">[RFC8890]
   <dd>M. Nottingham. <a href="https://www.rfc-editor.org/rfc/rfc8890"><cite>The Internet is for End Users</cite></a>. August 2020. Informational. URL: <a href="https://www.rfc-editor.org/rfc/rfc8890">https://www.rfc-editor.org/rfc/rfc8890</a>
   <dt id="biblio-rfc9000">[RFC9000]
   <dd>J. Iyengar, Ed.; M. Thomson, Ed.. <a href="https://www.rfc-editor.org/rfc/rfc9000"><cite>QUIC: A UDP-Based Multiplexed and Secure Transport</cite></a>. May 2021. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc9000">https://www.rfc-editor.org/rfc/rfc9000</a>
   <dt id="biblio-rfc9110">[RFC9110]
   <dd>R. Fielding, Ed.; M. Nottingham, Ed.; J. Reschke, Ed.. <a href="https://httpwg.org/specs/rfc9110.html"><cite>HTTP Semantics</cite></a>. June 2022. Internet Standard. URL: <a href="https://httpwg.org/specs/rfc9110.html">https://httpwg.org/specs/rfc9110.html</a>
   <dt id="biblio-screen-capture">[SCREEN-CAPTURE]
   <dd>Jan-Ivar Bruaroey; Elad Alon. <a href="https://w3c.github.io/mediacapture-screen-share/"><cite>Screen Capture</cite></a>. URL: <a href="https://w3c.github.io/mediacapture-screen-share/">https://w3c.github.io/mediacapture-screen-share/</a>
   <dt id="biblio-the-web-is-unversioned">[THE-WEB-IS-UNVERSIONED]
   <dd>Sangwhan Moon; Amy Guy. <a href="https://www.w3.org/2001/tag/doc/the-web-is-unversioned/"><cite>The web is unversioned</cite></a>. 27 March 2025. TAG Finding. URL: <a href="https://www.w3.org/2001/tag/doc/the-web-is-unversioned/">https://www.w3.org/2001/tag/doc/the-web-is-unversioned/</a>
   <dt id="biblio-uievents">[UIEVENTS]
   <dd>Gary Kacmarcik; Travis Leithead. <a href="https://w3c.github.io/uievents/"><cite>UI Events</cite></a>. URL: <a href="https://w3c.github.io/uievents/">https://w3c.github.io/uievents/</a>
   <dt id="biblio-unsanctioned-tracking">[UNSANCTIONED-TRACKING]
   <dd>Mark Nottingham. <a href="http://www.w3.org/2001/tag/doc/unsanctioned-tracking/"><cite>Unsanctioned Web Tracking</cite></a>. 17 July 2015. TAG Finding. URL: <a href="http://www.w3.org/2001/tag/doc/unsanctioned-tracking/">http://www.w3.org/2001/tag/doc/unsanctioned-tracking/</a>
   <dt id="biblio-web-locks">[WEB-LOCKS]
   <dd>Kagami Rosylight. <a href="https://w3c.github.io/web-locks/"><cite>Web Locks API</cite></a>. URL: <a href="https://w3c.github.io/web-locks/">https://w3c.github.io/web-locks/</a>
   <dt id="biblio-web-share">[WEB-SHARE]
   <dd>Marcos Caceres; Eric Willigers; Matt Giuca. <a href="https://w3c.github.io/web-share/"><cite>Web Share API</cite></a>. URL: <a href="https://w3c.github.io/web-share/">https://w3c.github.io/web-share/</a>
   <dt id="biblio-webaudio">[WebAudio]
   <dd>Paul Adenot; Hongchan Choi. <a href="https://webaudio.github.io/web-audio-api/"><cite>Web Audio API</cite></a>. URL: <a href="https://webaudio.github.io/web-audio-api/">https://webaudio.github.io/web-audio-api/</a>
   <dt id="biblio-webcrypto-2">[WEBCRYPTO-2]
   <dd>Daniel Huigens. <a href="https://w3c.github.io/webcrypto/"><cite>Web Cryptography Level 2</cite></a>. URL: <a href="https://w3c.github.io/webcrypto/">https://w3c.github.io/webcrypto/</a>
   <dt id="biblio-webrtc">[WEBRTC]
   <dd>Cullen Jennings; et al. <a href="https://w3c.github.io/webrtc-pc/"><cite>WebRTC: Real-Time Communication in Browsers</cite></a>. URL: <a href="https://w3c.github.io/webrtc-pc/">https://w3c.github.io/webrtc-pc/</a>
   <dt id="biblio-webtransport">[WebTransport]
   <dd>Nidhi Jaju; Victor Vasiliev; Jan-Ivar Bruaroey. <a href="https://w3c.github.io/webtransport/"><cite>WebTransport</cite></a>. URL: <a href="https://w3c.github.io/webtransport/">https://w3c.github.io/webtransport/</a>
  </dl>
  <h2 class="heading no-num no-ref settled" id="property-index"><span class="content">Property Index</span><a class="self-link" href="#property-index"></a></h2>
  <div class="big-element-wrapper">
   <table class="index">
    <thead>
     <tr>
      <th scope="col">Name
      <th scope="col">Value
      <th scope="col">Initial
      <th scope="col">Applies to
      <th scope="col">Inh.
      <th scope="col">%ages
      <th scope="col">Anim­ation type
      <th scope="col">Canonical order
      <th scope="col">Com­puted value
    <tbody>
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-font-size-adjust" id="ref-for-propdef-font-size-adjust①">font-size-adjust</a>
      <td>none | [ ex-height | cap-height | ch-width | ic-width | ic-height ]? [ from-font | &lt;number> ]
      <td>none
      <td>all elements and text
      <td>yes
      <td>N/A
      <td>discrete if the keywords differ, otherwise by computed value type
      <td>per grammar
      <td>a number or the keyword nonethe keyword none, or a pair of a metric keyword and a &lt;number>
   </table>
  </div>
<script>/* Boilerplate: script-dom-helper */
"use strict";
function query(sel) { return document.querySelector(sel); }

function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

function iter(obj) {
	if(!obj) return [];
	var it = obj[Symbol.iterator];
	if(it) return it;
	return Object.entries(obj);
}

function mk(tagname, attrs, ...children) {
	const el = document.createElement(tagname);
	for(const [k,v] of iter(attrs)) {
		if(k.slice(0,3) == "_on") {
			const eventName = k.slice(3);
			el.addEventListener(eventName, v);
		} else if(k[0] == "_") {
			// property, not attribute
			el[k.slice(1)] = v;
		} else {
			if(v === false || v == null) {
        continue;
      } else if(v === true) {
        el.setAttribute(k, "");
        continue;
      } else {
  			el.setAttribute(k, v);
      }
		}
	}
	append(el, children);
	return el;
}

/* Create shortcuts for every known HTML element */
[
  "a",
  "abbr",
  "acronym",
  "address",
  "applet",
  "area",
  "article",
  "aside",
  "audio",
  "b",
  "base",
  "basefont",
  "bdo",
  "big",
  "blockquote",
  "body",
  "br",
  "button",
  "canvas",
  "caption",
  "center",
  "cite",
  "code",
  "col",
  "colgroup",
  "datalist",
  "dd",
  "del",
  "details",
  "dfn",
  "dialog",
  "div",
  "dl",
  "dt",
  "em",
  "embed",
  "fieldset",
  "figcaption",
  "figure",
  "font",
  "footer",
  "form",
  "frame",
  "frameset",
  "head",
  "header",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "hr",
  "html",
  "i",
  "iframe",
  "img",
  "input",
  "ins",
  "kbd",
  "label",
  "legend",
  "li",
  "link",
  "main",
  "map",
  "mark",
  "meta",
  "meter",
  "nav",
  "nobr",
  "noscript",
  "object",
  "ol",
  "optgroup",
  "option",
  "output",
  "p",
  "param",
  "pre",
  "progress",
  "q",
  "s",
  "samp",
  "script",
  "section",
  "select",
  "small",
  "source",
  "span",
  "strike",
  "strong",
  "style",
  "sub",
  "summary",
  "sup",
  "table",
  "tbody",
  "td",
  "template",
  "textarea",
  "tfoot",
  "th",
  "thead",
  "time",
  "title",
  "tr",
  "u",
  "ul",
  "var",
  "video",
  "wbr",
  "xmp",
].forEach(tagname=>{
	mk[tagname] = (...args) => mk(tagname, ...args);
});

function* nodesFromChildList(children) {
	for(const child of children.flat(Infinity)) {
		if(child instanceof Node) {
			yield child;
		} else {
			yield new Text(child);
		}
	}
}
function append(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		if(el instanceof Node) el.appendChild(child);
		else el.push(child);
	}
	return el;
}

function insertAfter(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		el.parentNode.insertBefore(child, el.nextSibling);
	}
	return el;
}

function clearContents(el) {
	el.innerHTML = "";
	return el;
}

function parseHTML(markup) {
	if(markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
		const doc = document.implementation.createHTMLDocument("");
		doc.documentElement.innerHTML = markup;
		return doc;
	} else {
		const el = mk.template({});
		el.innerHTML = markup;
		return el.content;
	}
}</script>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
let dfnPanelData = {
"0065f652": {"dfnID":"0065f652","dfnText":"ScriptProcessorNode","external":true,"refSections":[{"refs":[{"id":"ref-for-ScriptProcessorNode"},{"id":"ref-for-ScriptProcessorNode\u2460"}],"title":"10.2.1. Some APIs should only be exposed to dedicated workers"}],"url":"https://webaudio.github.io/web-audio-api/#ScriptProcessorNode"},
"0226500f": {"dfnID":"0226500f","dfnText":"defaultChecked","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-input-defaultchecked"}],"title":"3.5. Keep attributes in sync"}],"url":"https://html.spec.whatwg.org/multipage/input.html#dom-input-defaultchecked"},
"032e4578": {"dfnID":"032e4578","dfnText":"defaultSelected","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-option-defaultselected"}],"title":"3.5. Keep attributes in sync"}],"url":"https://html.spec.whatwg.org/multipage/form-elements.html#dom-option-defaultselected"},
"03431bcb": {"dfnID":"03431bcb","dfnText":"src (for script)","external":true,"refSections":[{"refs":[{"id":"ref-for-attr-script-src"}],"title":"3.6. Name URL-containing attributes based on their primary purpose"}],"url":"https://html.spec.whatwg.org/multipage/scripting.html#attr-script-src"},
"03675365": {"dfnID":"03675365","dfnText":"event handler IDL attribute","external":true,"refSections":[{"refs":[{"id":"ref-for-event-handler-idl-attributes"},{"id":"ref-for-event-handler-idl-attributes\u2460"},{"id":"ref-for-event-handler-idl-attributes\u2461"}],"title":"7.5. Always add event handler attributes"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes"},
"056fb0bd": {"dfnID":"056fb0bd","dfnText":"TextEncoder","external":true,"refSections":[{"refs":[{"id":"ref-for-textencoder"}],"title":"10.3. Only purely computational features should be exposed everywhere"}],"url":"https://encoding.spec.whatwg.org/#textencoder"},
"0698d556": {"dfnID":"0698d556","dfnText":"string","external":true,"refSections":[{"refs":[{"id":"ref-for-string"}],"title":"8.2. Represent strings appropriately"}],"url":"https://infra.spec.whatwg.org/#string"},
"06b254b0": {"dfnID":"06b254b0","dfnText":"remote playback devices","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-remote-playback-devices"},{"id":"ref-for-dfn-remote-playback-devices\u2460"}],"title":"9.2. Use care when exposing APIs for selecting or enumerating devices"}],"url":"https://w3c.github.io/remote-playback/#dfn-remote-playback-devices"},
"072b36ca": {"dfnID":"072b36ca","dfnText":"timeout(milliseconds)","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-abortsignal-timeout"}],"title":"10.3. Only purely computational features should be exposed everywhere"}],"url":"https://dom.spec.whatwg.org/#dom-abortsignal-timeout"},
"08baaf46": {"dfnID":"08baaf46","dfnText":"remove()","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-childnode-remove"}],"title":"5.2. Preserve run-to-completion semantics"}],"url":"https://dom.spec.whatwg.org/#dom-childnode-remove"},
"0992b8f5": {"dfnID":"0992b8f5","dfnText":"has(name)","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-urlsearchparams-has"}],"title":"11.4.1. If you need to monkey patch"}],"url":"https://url.spec.whatwg.org/#dom-urlsearchparams-has"},
"0a296dfe": {"dfnID":"0a296dfe","dfnText":"Float32Array","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-Float32Array"}],"title":"6.15. Output an array of bytes with Uint8Array"}],"url":"https://webidl.spec.whatwg.org/#idl-Float32Array"},
"0c0ceb78": {"dfnID":"0c0ceb78","dfnText":"bubbles","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-event-bubbles"}],"title":"2.15. Build complex types by composing simpler types"}],"url":"https://dom.spec.whatwg.org/#dom-event-bubbles"},
"0cf3964f": {"dfnID":"0cf3964f","dfnText":"script","external":true,"refSections":[{"refs":[{"id":"ref-for-script"}],"title":"3.1. Re-use HTML attribute names (only) for similar functionality"},{"refs":[{"id":"ref-for-script\u2460"}],"title":"3.6. Name URL-containing attributes based on their primary purpose"}],"url":"https://html.spec.whatwg.org/multipage/scripting.html#script"},
"0e3ba9f8": {"dfnID":"0e3ba9f8","dfnText":"fully active","external":true,"refSections":[{"refs":[{"id":"ref-for-fully-active"},{"id":"ref-for-fully-active\u2460"},{"id":"ref-for-fully-active\u2461"},{"id":"ref-for-fully-active\u2462"},{"id":"ref-for-fully-active\u2463"}],"title":"2.13. Support non-fully active BFCached documents"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active"},
"0e833ee0": {"dfnID":"0e833ee0","dfnText":"readyState","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-xmlhttprequest-readystate"}],"title":"6.13. Use strings for constants and enums"}],"url":"https://xhr.spec.whatwg.org/#dom-xmlhttprequest-readystate"},
"0e9f636b": {"dfnID":"0e9f636b","dfnText":"DOMHighResTimeStamp","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-domhighrestimestamp"},{"id":"ref-for-dom-domhighrestimestamp\u2460"},{"id":"ref-for-dom-domhighrestimestamp\u2461"}],"title":"8.4. Use the appropriate type to represent times and dates"}],"url":"https://w3c.github.io/hr-time/#dom-domhighrestimestamp"},
"1076ec40": {"dfnID":"1076ec40","dfnText":"HTMLMediaElement","external":true,"refSections":[{"refs":[{"id":"ref-for-htmlmediaelement"}],"title":"6.16. Return undefined from side-effect-causing functions"}],"url":"https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"},
"112278c6": {"dfnID":"112278c6","dfnText":"Gamepad","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-gamepad"}],"title":"5.2. Preserve run-to-completion semantics"}],"url":"https://w3c.github.io/gamepad/#dom-gamepad"},
"11289557": {"dfnID":"11289557","dfnText":"figcaption","external":true,"refSections":[{"refs":[{"id":"ref-for-the-figcaption-element"}],"title":"Use casing rules consistent with existing APIs"}],"url":"https://html.spec.whatwg.org/multipage/grouping-content.html#the-figcaption-element"},
"11e0b87f": {"dfnID":"11e0b87f","dfnText":"unrestricted double","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-unrestricted-double"}],"title":"8.1. Use numeric types appropriately"}],"url":"https://webidl.spec.whatwg.org/#idl-unrestricted-double"},
"129bdae8": {"dfnID":"129bdae8","dfnText":"Event","external":true,"refSections":[{"refs":[{"id":"ref-for-event"},{"id":"ref-for-event\u2460"}],"title":"2.15. Build complex types by composing simpler types"},{"refs":[{"id":"ref-for-event\u2461"},{"id":"ref-for-event\u2462"}],"title":"6.9. Classes should have constructors when possible"},{"refs":[{"id":"ref-for-event\u2463"}],"title":"7.7. Guard against potential recursion"},{"refs":[{"id":"ref-for-event\u2464"},{"id":"ref-for-event\u2465"},{"id":"ref-for-event\u2466"},{"id":"ref-for-event\u2467"}],"title":"7.8. Put state on target objects rather than Events"},{"refs":[{"id":"ref-for-event\u2468"}],"title":"7.9. Use Events and Observers appropriately"}],"url":"https://dom.spec.whatwg.org/#event"},
"12cf38c9": {"dfnID":"12cf38c9","dfnText":"initial-letter","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-initial-letter"}],"title":"4.1. Separate CSS properties based on what should cascade separately"}],"url":"https://drafts.csswg.org/css-inline-3/#propdef-initial-letter"},
"141bbada": {"dfnID":"141bbada","dfnText":"DOMTokenList","external":true,"refSections":[{"refs":[{"id":"ref-for-domtokenlist"},{"id":"ref-for-domtokenlist\u2460"},{"id":"ref-for-domtokenlist\u2461"}],"title":"3.2. Use space-separated attributes for short lists of values, separate elements for longer lists"},{"refs":[{"id":"ref-for-domtokenlist\u2462"},{"id":"ref-for-domtokenlist\u2463"}],"title":"6.9. Classes should have constructors when possible"}],"url":"https://dom.spec.whatwg.org/#domtokenlist"},
"14e45097": {"dfnID":"14e45097","dfnText":"value (for HTMLInputElement)","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-input-value"}],"title":"7.8. Put state on target objects rather than Events"}],"url":"https://html.spec.whatwg.org/multipage/input.html#dom-input-value"},
"16310992": {"dfnID":"16310992","dfnText":"<number>","external":true,"refSections":[{"refs":[{"id":"ref-for-number-value"},{"id":"ref-for-number-value\u2460"}],"title":"4.3. Choose the computed value type based on how the property should inherit"},{"refs":[{"id":"ref-for-number-value\u2461"},{"id":"ref-for-number-value\u2462"}],"title":"11.4.1. If you need to monkey patch"}],"url":"https://drafts.csswg.org/css-values-4/#number-value"},
"1748bbeb": {"dfnID":"1748bbeb","dfnText":"details","external":true,"refSections":[{"refs":[{"id":"ref-for-the-details-element"}],"title":"3.1. Re-use HTML attribute names (only) for similar functionality"}],"url":"https://html.spec.whatwg.org/multipage/interactive-elements.html#the-details-element"},
"1812300f": {"dfnID":"1812300f","dfnText":"dialog","external":true,"refSections":[{"refs":[{"id":"ref-for-the-dialog-element"}],"title":"3.1. Re-use HTML attribute names (only) for similar functionality"}],"url":"https://html.spec.whatwg.org/multipage/interactive-elements.html#the-dialog-element"},
"19065ec8": {"dfnID":"19065ec8","dfnText":"abort()","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-abortcontroller-abort"}],"title":"6.12. Cancel asynchronous APIs/operations using AbortSignal"},{"refs":[{"id":"ref-for-dom-abortcontroller-abort\u2460"}],"title":"7.7. Guard against potential recursion"}],"url":"https://dom.spec.whatwg.org/#dom-abortcontroller-abort"},
"1bb59bab": {"dfnID":"1bb59bab","dfnText":"AudioWorklet","external":true,"refSections":[{"refs":[{"id":"ref-for-AudioWorklet"}],"title":"10.2.1. Some APIs should only be exposed to dedicated workers"}],"url":"https://webaudio.github.io/web-audio-api/#AudioWorklet"},
"1fc098b2": {"dfnID":"1fc098b2","dfnText":"KeyboardEvent","external":true,"refSections":[{"refs":[{"id":"ref-for-keyboardevent"}],"title":"2.15. Build complex types by composing simpler types"}],"url":"https://w3c.github.io/uievents/#keyboardevent"},
"2039631f": {"dfnID":"2039631f","dfnText":"namespace","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-namespace"},{"id":"ref-for-dfn-namespace\u2460"}],"title":"6.9. Classes should have constructors when possible"}],"url":"https://webidl.spec.whatwg.org/#dfn-namespace"},
"21ec9802": {"dfnID":"21ec9802","dfnText":"inherit","external":true,"refSections":[{"refs":[{"id":"ref-for-css-inheritance"}],"title":"4.3. Choose the computed value type based on how the property should inherit"}],"url":"https://drafts.csswg.org/css-cascade-5/#css-inheritance"},
"2296404c": {"dfnID":"2296404c","dfnText":"signal abort","external":true,"refSections":[{"refs":[{"id":"ref-for-abortcontroller-signal-abort"},{"id":"ref-for-abortcontroller-signal-abort\u2460"},{"id":"ref-for-abortcontroller-signal-abort\u2461"},{"id":"ref-for-abortcontroller-signal-abort\u2462"},{"id":"ref-for-abortcontroller-signal-abort\u2463"},{"id":"ref-for-abortcontroller-signal-abort\u2464"},{"id":"ref-for-abortcontroller-signal-abort\u2465"}],"title":"7.7. Guard against potential recursion"}],"url":"https://dom.spec.whatwg.org/#abortcontroller-signal-abort"},
"22cb9a16": {"dfnID":"22cb9a16","dfnText":"ByteString","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-ByteString"},{"id":"ref-for-idl-ByteString\u2460"}],"title":"8.2. Represent strings appropriately"}],"url":"https://webidl.spec.whatwg.org/#idl-ByteString"},
"24366e21": {"dfnID":"24366e21","dfnText":"accept","external":true,"refSections":[{"refs":[{"id":"ref-for-attr-input-accept"}],"title":"3.2. Use space-separated attributes for short lists of values, separate elements for longer lists"}],"url":"https://html.spec.whatwg.org/multipage/input.html#attr-input-accept"},
"296f3551": {"dfnID":"296f3551","dfnText":"Element","external":true,"refSections":[{"refs":[{"id":"ref-for-element"}],"title":"6.9. Classes should have constructors when possible"}],"url":"https://dom.spec.whatwg.org/#element"},
"2aaa2f42": {"dfnID":"2aaa2f42","dfnText":"HTTP fetch","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-http-fetch"}],"title":"11.4.1. If you need to monkey patch"}],"url":"https://fetch.spec.whatwg.org/#concept-http-fetch"},
"2bc0cdf4": {"dfnID":"2bc0cdf4","dfnText":"EventTarget","external":true,"refSections":[{"refs":[{"id":"ref-for-eventtarget"},{"id":"ref-for-eventtarget\u2460"}],"title":"7.8. Put state on target objects rather than Events"},{"refs":[{"id":"ref-for-eventtarget\u2461"},{"id":"ref-for-eventtarget\u2462"},{"id":"ref-for-eventtarget\u2463"},{"id":"ref-for-eventtarget\u2464"},{"id":"ref-for-eventtarget\u2465"},{"id":"ref-for-eventtarget\u2466"},{"id":"ref-for-eventtarget\u2467"},{"id":"ref-for-eventtarget\u2468"}],"title":"7.9. Use Events and Observers appropriately"}],"url":"https://dom.spec.whatwg.org/#eventtarget"},
"2c73cb69": {"dfnID":"2c73cb69","dfnText":"languagechange","external":true,"refSections":[{"refs":[{"id":"ref-for-event-languagechange"}],"title":"Use casing rules consistent with existing APIs"}],"url":"https://html.spec.whatwg.org/multipage/indices.html#event-languagechange"},
"2c82d279": {"dfnID":"2c82d279","dfnText":"audio","external":true,"refSections":[{"refs":[{"id":"ref-for-audio"}],"title":"3.2. Use space-separated attributes for short lists of values, separate elements for longer lists"}],"url":"https://html.spec.whatwg.org/multipage/media.html#audio"},
"2e3a180b": {"dfnID":"2e3a180b","dfnText":"[[state]]","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-state"},{"id":"ref-for-dfn-state\u2460"}],"title":"7.7. Guard against potential recursion"}],"url":"https://w3c.github.io/payment-request/#dfn-state"},
"2e66eaf1": {"dfnID":"2e66eaf1","dfnText":"AbortController","external":true,"refSections":[{"refs":[{"id":"ref-for-abortcontroller"}],"title":"6.12. Cancel asynchronous APIs/operations using AbortSignal"},{"refs":[{"id":"ref-for-abortcontroller\u2460"}],"title":"7.7. Guard against potential recursion"}],"url":"https://dom.spec.whatwg.org/#abortcontroller"},
"2f8afbfe": {"dfnID":"2f8afbfe","dfnText":"ArrayBuffer","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-ArrayBuffer"}],"title":"6.15. Output an array of bytes with Uint8Array"}],"url":"https://webidl.spec.whatwg.org/#idl-ArrayBuffer"},
"30011333": {"dfnID":"30011333","dfnText":"percent-encoding","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-percent-encoding"}],"title":"8.2. Represent strings appropriately"}],"url":"https://w3c.github.io/i18n-glossary/#dfn-percent-encoding"},
"31133468": {"dfnID":"31133468","dfnText":"open","external":true,"refSections":[{"refs":[{"id":"ref-for-attr-details-open"}],"title":"3.1. Re-use HTML attribute names (only) for similar functionality"}],"url":"https://html.spec.whatwg.org/multipage/interactive-elements.html#attr-details-open"},
"31559e1b": {"dfnID":"31559e1b","dfnText":"define(name, constructor, options)","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-customelementregistry-define"}],"title":"5.1. Use JavaScript for Web APIs"}],"url":"https://html.spec.whatwg.org/multipage/custom-elements.html#dom-customelementregistry-define"},
"3245cc5d": {"dfnID":"3245cc5d","dfnText":"initial-letter-align","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-initial-letter-align"}],"title":"4.1. Separate CSS properties based on what should cascade separately"}],"url":"https://drafts.csswg.org/css-inline-3/#propdef-initial-letter-align"},
"3332e595": {"dfnID":"3332e595","dfnText":"setTimeout(handler, timeout, ...arguments)","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-settimeout"}],"title":"8.3. Use milliseconds for time measurement"}],"url":"https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-settimeout"},
"37ef25b8": {"dfnID":"37ef25b8","dfnText":"HTMLHtmlElement","external":true,"refSections":[{"refs":[{"id":"ref-for-htmlhtmlelement"}],"title":"Use casing rules consistent with existing APIs"}],"url":"https://html.spec.whatwg.org/multipage/semantics.html#htmlhtmlelement"},
"3a2db83f": {"dfnID":"3a2db83f","dfnText":"localStorage","external":true,"refSections":[{"refs":[{"id":"79d831630"}],"title":"2.10. Consider how your API should behave in private browsing mode"},{"refs":[{"id":"ref-for-dom-localstorage"}],"title":"10.3. Only purely computational features should be exposed everywhere"}],"url":"https://html.spec.whatwg.org/multipage/webstorage.html#dom-localstorage"},
"3a3c984c": {"dfnID":"3a3c984c","dfnText":"task queues","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-service-worker-registration-task-queue"},{"id":"ref-for-dfn-service-worker-registration-task-queue\u2460"}],"title":"7.7. Guard against potential recursion"}],"url":"https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration-task-queue"},
"3b64181e": {"dfnID":"3b64181e","dfnText":"none","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-font-size-adjust-none"}],"title":"11.4.1. If you need to monkey patch"}],"url":"https://drafts.csswg.org/css-fonts-5/#valdef-font-size-adjust-none"},
"3c05c488": {"dfnID":"3c05c488","dfnText":"Accept","external":true,"refSections":[{"refs":[{"id":"ref-for-name-accept"}],"title":"3.2. Use space-separated attributes for short lists of values, separate elements for longer lists"}],"url":"https://www.rfc-editor.org/rfc/rfc9110.html#name-accept"},
"3da24a47": {"dfnID":"3da24a47","dfnText":"ping","external":true,"refSections":[{"refs":[{"id":"ref-for-ping"}],"title":"3.6. Name URL-containing attributes based on their primary purpose"}],"url":"https://html.spec.whatwg.org/multipage/links.html#ping"},
"3f03fff1": {"dfnID":"3f03fff1","dfnText":"datalist","external":true,"refSections":[{"refs":[{"id":"ref-for-the-datalist-element"}],"title":"3.2. Use space-separated attributes for short lists of values, separate elements for longer lists"}],"url":"https://html.spec.whatwg.org/multipage/form-elements.html#the-datalist-element"},
"3f597ac1": {"dfnID":"3f597ac1","dfnText":"createImageBitmap(image, options)","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-createimagebitmap"}],"title":"6.9. Classes should have constructors when possible"}],"url":"https://html.spec.whatwg.org/multipage/imagebitmap-and-animations.html#dom-createimagebitmap"},
"3fbd5055": {"dfnID":"3fbd5055","dfnText":"abbr","external":true,"refSections":[{"refs":[{"id":"ref-for-the-abbr-element"}],"title":"3.7. Give each HTML element a single purpose"}],"url":"https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-abbr-element"},
"434af3a5": {"dfnID":"434af3a5","dfnText":"now()","external":true,"refSections":[{"refs":[{"id":"ref-for-sec-date.now"}],"title":"5.2. Preserve run-to-completion semantics"}],"url":"https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-date.now"},
"46335198": {"dfnID":"46335198","dfnText":"delete(name)","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-urlsearchparams-delete"}],"title":"11.4.1. If you need to monkey patch"}],"url":"https://url.spec.whatwg.org/#dom-urlsearchparams-delete"},
"47574099": {"dfnID":"47574099","dfnText":"short","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-short"}],"title":"8.1. Use numeric types appropriately"}],"url":"https://webidl.spec.whatwg.org/#idl-short"},
"478bb3aa": {"dfnID":"478bb3aa","dfnText":"ImageBitmap","external":true,"refSections":[{"refs":[{"id":"ref-for-imagebitmap"}],"title":"6.9. Classes should have constructors when possible"}],"url":"https://html.spec.whatwg.org/multipage/imagebitmap-and-animations.html#imagebitmap"},
"47fe679e": {"dfnID":"47fe679e","dfnText":"transient activation","external":true,"refSections":[{"refs":[{"id":"ref-for-transient-activation"}],"title":"5.2. Preserve run-to-completion semantics"}],"url":"https://html.spec.whatwg.org/multipage/interaction.html#transient-activation"},
"48438eb3": {"dfnID":"48438eb3","dfnText":"queue a global task","external":true,"refSections":[{"refs":[{"id":"ref-for-queue-a-global-task"}],"title":"6.17. Prefer existing task sources"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task"},
"4872935b": {"dfnID":"4872935b","dfnText":"resize","external":true,"refSections":[{"refs":[{"id":"ref-for-event-media-resize"}],"title":"7.6. Use events for notification"}],"url":"https://html.spec.whatwg.org/multipage/media.html#event-media-resize"},
"4fe61159": {"dfnID":"4fe61159","dfnText":"resolved value","external":true,"refSections":[{"refs":[{"id":"ref-for-resolved-value"}],"title":"4.3. Choose the computed value type based on how the property should inherit"}],"url":"https://drafts.csswg.org/cssom-1/#resolved-value"},
"50e555d8": {"dfnID":"50e555d8","dfnText":"once","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-addeventlisteneroptions-once"}],"title":"7.9. Use Events and Observers appropriately"}],"url":"https://dom.spec.whatwg.org/#dom-addeventlisteneroptions-once"},
"518be2ae": {"dfnID":"518be2ae","dfnText":"InputEvent","external":true,"refSections":[{"refs":[{"id":"ref-for-inputevent"}],"title":"7.8. Put state on target objects rather than Events"}],"url":"https://w3c.github.io/uievents/#inputevent"},
"529179ea": {"dfnID":"529179ea","dfnText":"Crypto","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-Crypto"}],"title":"6.9. Classes should have constructors when possible"}],"url":"https://w3c.github.io/webcrypto/#dfn-Crypto"},
"535dd335": {"dfnID":"535dd335","dfnText":"aborted","external":true,"refSections":[{"refs":[{"id":"ref-for-abortsignal-aborted"},{"id":"ref-for-abortsignal-aborted\u2460"}],"title":"7.7. Guard against potential recursion"}],"url":"https://dom.spec.whatwg.org/#abortsignal-aborted"},
"537cf076": {"dfnID":"537cf076","dfnText":"?","external":true,"refSections":[{"refs":[{"id":"ref-for-mult-opt"}],"title":"11.4.1. If you need to monkey patch"}],"url":"https://drafts.csswg.org/css-values-4/#mult-opt"},
"54fa0afb": {"dfnID":"54fa0afb","dfnText":"backdrop-filter","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-backdrop-filter"}],"title":"11.3. Resolving tension between interoperability and implementability"}],"url":"https://drafts.fxtf.org/filter-effects-2/#propdef-backdrop-filter"},
"5528aefc": {"dfnID":"5528aefc","dfnText":"loaded","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-progressevent-loaded"}],"title":"7.7. Guard against potential recursion"}],"url":"https://xhr.spec.whatwg.org/#dom-progressevent-loaded"},
"55b2f02c": {"dfnID":"55b2f02c","dfnText":"poster","external":true,"refSections":[{"refs":[{"id":"ref-for-attr-video-poster"}],"title":"3.6. Name URL-containing attributes based on their primary purpose"}],"url":"https://html.spec.whatwg.org/multipage/media.html#attr-video-poster"},
"59912c93": {"dfnID":"59912c93","dfnText":"code unit","external":true,"refSections":[{"refs":[{"id":"ref-for-code-unit"}],"title":"8.2. Represent strings appropriately"}],"url":"https://infra.spec.whatwg.org/#code-unit"},
"59f1958b": {"dfnID":"59f1958b","dfnText":"XMLHttpRequestEventTarget","external":true,"refSections":[{"refs":[{"id":"ref-for-xmlhttprequesteventtarget"}],"title":"7.9. Use Events and Observers appropriately"}],"url":"https://xhr.spec.whatwg.org/#xmlhttprequesteventtarget"},
"5ab7b520": {"dfnID":"5ab7b520","dfnText":"reflect","external":true,"refSections":[{"refs":[{"id":"ref-for-reflect"}],"title":"8.2. Represent strings appropriately"},{"refs":[{"id":"ref-for-reflect\u2460"},{"id":"ref-for-reflect\u2461"}],"title":"Use casing rules consistent with existing APIs"}],"url":"https://html.spec.whatwg.org/multipage/common-dom-interfaces.html#reflect"},
"5bcbeb1e": {"dfnID":"5bcbeb1e","dfnText":"getDisplayMedia()","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-mediadevices-getdisplaymedia"}],"title":"When to use callback functions"}],"url":"https://w3c.github.io/mediacapture-screen-share/#dom-mediadevices-getdisplaymedia"},
"5c35dd47": {"dfnID":"5c35dd47","dfnText":"sandbox","external":true,"refSections":[{"refs":[{"id":"ref-for-attr-iframe-sandbox"}],"title":"3.2. Use space-separated attributes for short lists of values, separate elements for longer lists"}],"url":"https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-sandbox"},
"5d7209e9": {"dfnID":"5d7209e9","dfnText":"Window","external":true,"refSections":[{"refs":[{"id":"ref-for-window"}],"title":"6.9. Classes should have constructors when possible"},{"refs":[{"id":"ref-for-window\u2460"}],"title":"7.5. Always add event handler attributes"},{"refs":[{"id":"ref-for-window\u2461"}],"title":"10.2.1. Some APIs should only be exposed to dedicated workers"}],"url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"},
"5d83727e": {"dfnID":"5d83727e","dfnText":"actual value","external":true,"refSections":[{"refs":[{"id":"ref-for-actual-value"}],"title":"4.3. Choose the computed value type based on how the property should inherit"}],"url":"https://drafts.csswg.org/css-cascade-5/#actual-value"},
"5def70a6": {"dfnID":"5def70a6","dfnText":"querySelectorAll(selectors)","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-parentnode-queryselectorall"}],"title":"Static objects"}],"url":"https://dom.spec.whatwg.org/#dom-parentnode-queryselectorall"},
"5eafebb0": {"dfnID":"5eafebb0","dfnText":"sequence type","external":true,"refSections":[{"refs":[{"id":"ref-for-sequence-type"},{"id":"ref-for-sequence-type\u2460"}],"title":"6.6. Make method arguments optional if possible"},{"refs":[{"id":"ref-for-sequence-type\u2461"}],"title":"8.2. Represent strings appropriately"}],"url":"https://webidl.spec.whatwg.org/#sequence-type"},
"5f45e759": {"dfnID":"5f45e759","dfnText":"FinalizationRegistry","external":true,"refSections":[{"refs":[{"id":"ref-for-sec-finalization-registry-objects"}],"title":"5.3. Don\u2019t expose garbage collection"}],"url":"https://tc39.es/ecma262/multipage/managing-memory.html#sec-finalization-registry-objects"},
"5f753d3e": {"dfnID":"5f753d3e","dfnText":"action","external":true,"refSections":[{"refs":[{"id":"ref-for-attr-fs-action"}],"title":"3.6. Name URL-containing attributes based on their primary purpose"}],"url":"https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#attr-fs-action"},
"5f90bbfb": {"dfnID":"5f90bbfb","dfnText":"undefined","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-undefined"},{"id":"ref-for-idl-undefined\u2460"},{"id":"ref-for-idl-undefined\u2461"}],"title":"6.16. Return undefined from side-effect-causing functions"}],"url":"https://webidl.spec.whatwg.org/#idl-undefined"},
"5f9c7266": {"dfnID":"5f9c7266","dfnText":"Number","external":true,"refSections":[{"refs":[{"id":"ref-for-sec-number-objects"},{"id":"ref-for-sec-number-objects\u2460"},{"id":"ref-for-sec-number-objects\u2461"}],"title":"8.1. Use numeric types appropriately"}],"url":"https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects"},
"5fa63f4e": {"dfnID":"5fa63f4e","dfnText":"defaultValue","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-input-defaultvalue"}],"title":"3.5. Keep attributes in sync"}],"url":"https://html.spec.whatwg.org/multipage/input.html#dom-input-defaultvalue"},
"5fcd7fc5": {"dfnID":"5fcd7fc5","dfnText":"createElement(localName)","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-document-createelement"}],"title":"6.9. Classes should have constructors when possible"}],"url":"https://dom.spec.whatwg.org/#dom-document-createelement"},
"5fd23811": {"dfnID":"5fd23811","dfnText":"fire an event","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-event-fire"}],"title":"7.7. Guard against potential recursion"}],"url":"https://dom.spec.whatwg.org/#concept-event-fire"},
"611cb8cd": {"dfnID":"611cb8cd","dfnText":"respondWith(r)","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-fetchevent-respondwith"}],"title":"When to use callback functions"}],"url":"https://w3c.github.io/ServiceWorker/#dom-fetchevent-respondwith"},
"613edb27": {"dfnID":"613edb27","dfnText":"play()","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-media-play"},{"id":"ref-for-dom-media-play\u2460"}],"title":"6.16. Return undefined from side-effect-causing functions"}],"url":"https://html.spec.whatwg.org/multipage/media.html#dom-media-play"},
"66aee777": {"dfnID":"66aee777","dfnText":"type","external":true,"refSections":[{"refs":[{"id":"ref-for-attr-input-type"},{"id":"ref-for-attr-input-type\u2460"}],"title":"3.7. Give each HTML element a single purpose"}],"url":"https://html.spec.whatwg.org/multipage/input.html#attr-input-type"},
"67fa4a40": {"dfnID":"67fa4a40","dfnText":"total","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-progressevent-total"}],"title":"7.7. Guard against potential recursion"}],"url":"https://xhr.spec.whatwg.org/#dom-progressevent-total"},
"680651c3": {"dfnID":"680651c3","dfnText":"NonElementParentNode","external":true,"refSections":[{"refs":[{"id":"ref-for-nonelementparentnode"}],"title":"Use casing rules consistent with existing APIs"}],"url":"https://dom.spec.whatwg.org/#nonelementparentnode"},
"68bf3d31": {"dfnID":"68bf3d31","dfnText":"a","external":true,"refSections":[{"refs":[{"id":"ref-for-the-a-element"},{"id":"ref-for-the-a-element\u2460"}],"title":"3.6. Name URL-containing attributes based on their primary purpose"}],"url":"https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element"},
"68c033c8": {"dfnID":"68c033c8","dfnText":"getElementsByTagName(qualifiedName)","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-document-getelementsbytagname"},{"id":"ref-for-dom-document-getelementsbytagname\u2460"},{"id":"ref-for-dom-document-getelementsbytagname\u2461"}],"title":"5.3. Don\u2019t expose garbage collection"},{"refs":[{"id":"ref-for-dom-document-getelementsbytagname\u2462"},{"id":"ref-for-dom-document-getelementsbytagname\u2463"}],"title":"Static objects"}],"url":"https://dom.spec.whatwg.org/#dom-document-getelementsbytagname"},
"6a288f2a": {"dfnID":"6a288f2a","dfnText":"microtask","external":true,"refSections":[{"refs":[{"id":"ref-for-microtask"}],"title":"5.2. Preserve run-to-completion semantics"},{"refs":[{"id":"e2b55c350"}],"title":"7.3. Events should fire before related Promises resolve"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#microtask"},
"6cf6f82f": {"dfnID":"6cf6f82f","dfnText":"addEventListener(type, callback)","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-eventtarget-addeventlistener"}],"title":"6.6. Make method arguments optional if possible"},{"refs":[{"id":"ref-for-dom-eventtarget-addeventlistener\u2460"}],"title":"6.7. Name optional arguments appropriately"},{"refs":[{"id":"ref-for-dom-eventtarget-addeventlistener\u2461"}],"title":"7.9. Use Events and Observers appropriately"}],"url":"https://dom.spec.whatwg.org/#dom-eventtarget-addeventlistener"},
"6cfa013d": {"dfnID":"6cfa013d","dfnText":"link","external":true,"refSections":[{"refs":[{"id":"ref-for-the-link-element"}],"title":"3.1. Re-use HTML attribute names (only) for similar functionality"},{"refs":[{"id":"ref-for-the-link-element\u2460"}],"title":"3.6. Name URL-containing attributes based on their primary purpose"}],"url":"https://html.spec.whatwg.org/multipage/semantics.html#the-link-element"},
"6e923df0": {"dfnID":"6e923df0","dfnText":"Error","external":true,"refSections":[{"refs":[{"id":"ref-for-sec-error-objects"}],"title":"8.5. Use Error or DOMException for errors"}],"url":"https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-error-objects"},
"6ec67710": {"dfnID":"6ec67710","dfnText":"|","external":true,"refSections":[{"refs":[{"id":"ref-for-comb-one"},{"id":"ref-for-comb-one\u2460"},{"id":"ref-for-comb-one\u2461"},{"id":"ref-for-comb-one\u2462"},{"id":"ref-for-comb-one\u2463"},{"id":"ref-for-comb-one\u2464"}],"title":"11.4.1. If you need to monkey patch"}],"url":"https://drafts.csswg.org/css-values-4/#comb-one"},
"72aaa5d6": {"dfnID":"72aaa5d6","dfnText":"queue an element task","external":true,"refSections":[{"refs":[{"id":"ref-for-queue-an-element-task"}],"title":"6.17. Prefer existing task sources"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#queue-an-element-task"},
"762869d3": {"dfnID":"762869d3","dfnText":"scalar value string","external":true,"refSections":[{"refs":[{"id":"ref-for-scalar-value-string"}],"title":"8.2. Represent strings appropriately"}],"url":"https://infra.spec.whatwg.org/#scalar-value-string"},
"762ce945": {"dfnID":"762ce945","dfnText":"GlobalEventHandlers","external":true,"refSections":[{"refs":[{"id":"ref-for-globaleventhandlers"}],"title":"7.5. Always add event handler attributes"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#globaleventhandlers"},
"77996ab1": {"dfnID":"77996ab1","dfnText":"maplike","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-maplike"}],"title":"Static objects"}],"url":"https://webidl.spec.whatwg.org/#dfn-maplike"},
"7a26cf99": {"dfnID":"7a26cf99","dfnText":"width","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-img-width"}],"title":"5.2. Preserve run-to-completion semantics"}],"url":"https://html.spec.whatwg.org/multipage/embedded-content.html#dom-img-width"},
"7b0dc914": {"dfnID":"7b0dc914","dfnText":"ProgressEvent","external":true,"refSections":[{"refs":[{"id":"ref-for-progressevent"}],"title":"7.7. Guard against potential recursion"}],"url":"https://xhr.spec.whatwg.org/#progressevent"},
"7b1760b0": {"dfnID":"7b1760b0","dfnText":"console","external":true,"refSections":[{"refs":[{"id":"ref-for-namespacedef-console"},{"id":"ref-for-namespacedef-console\u2460"}],"title":"10.3. Only purely computational features should be exposed everywhere"}],"url":"https://console.spec.whatwg.org/#namespacedef-console"},
"7bd34c20": {"dfnID":"7bd34c20","dfnText":"isActive","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-useractivation-isactive"}],"title":"5.2. Preserve run-to-completion semantics"}],"url":"https://html.spec.whatwg.org/multipage/interaction.html#dom-useractivation-isactive"},
"7c397e50": {"dfnID":"7c397e50","dfnText":"Body","external":true,"refSections":[{"refs":[{"id":"ref-for-body"}],"title":"12.1. Use common words"}],"url":"https://fetch.spec.whatwg.org/#body"},
"7d783f61": {"dfnID":"7d783f61","dfnText":"SharedArrayBuffer","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-SharedArrayBuffer"}],"title":"11.3. Resolving tension between interoperability and implementability"}],"url":"https://webidl.spec.whatwg.org/#idl-SharedArrayBuffer"},
"7e4cbc4d": {"dfnID":"7e4cbc4d","dfnText":"acronym","external":true,"refSections":[{"refs":[{"id":"ref-for-acronym"}],"title":"3.7. Give each HTML element a single purpose"}],"url":"https://html.spec.whatwg.org/multipage/obsolete.html#acronym"},
"7f21931f": {"dfnID":"7f21931f","dfnText":"NamedNodeMap","external":true,"refSections":[{"refs":[{"id":"ref-for-namednodemap"}],"title":"Use casing rules consistent with existing APIs"}],"url":"https://dom.spec.whatwg.org/#namednodemap"},
"7f769aa9": {"dfnID":"7f769aa9","dfnText":"remote playback device","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-remote-playback-devices"},{"id":"ref-for-dfn-remote-playback-devices\u2460"}],"title":"9.2. Use care when exposing APIs for selecting or enumerating devices"}],"url":"https://w3c.github.io/remote-playback/#dfn-remote-playback-devices"},
"825cbc48": {"dfnID":"825cbc48","dfnText":"user interaction task source","external":true,"refSections":[{"refs":[{"id":"ref-for-user-interaction-task-source"}],"title":"6.17. Prefer existing task sources"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source"},
"82ca3efc": {"dfnID":"82ca3efc","dfnText":"TypeError","external":true,"refSections":[{"refs":[{"id":"ref-for-exceptiondef-typeerror"}],"title":"6.9. Classes should have constructors when possible"},{"refs":[{"id":"ref-for-exceptiondef-typeerror\u2460"},{"id":"ref-for-exceptiondef-typeerror\u2461"}],"title":"8.1. Use numeric types appropriately"}],"url":"https://webidl.spec.whatwg.org/#exceptiondef-typeerror"},
"83b269de": {"dfnID":"83b269de","dfnText":"HTMLInputElement","external":true,"refSections":[{"refs":[{"id":"ref-for-htmlinputelement"},{"id":"ref-for-htmlinputelement\u2460"},{"id":"ref-for-htmlinputelement\u2461"}],"title":"2.15. Build complex types by composing simpler types"},{"refs":[{"id":"ref-for-htmlinputelement\u2462"}],"title":"7.8. Put state on target objects rather than Events"}],"url":"https://html.spec.whatwg.org/multipage/input.html#htmlinputelement"},
"83c7a70f": {"dfnID":"83c7a70f","dfnText":"MutationObserver","external":true,"refSections":[{"refs":[{"id":"ref-for-mutationobserver"},{"id":"ref-for-mutationobserver\u2460"}],"title":"7.9. Use Events and Observers appropriately"}],"url":"https://dom.spec.whatwg.org/#mutationobserver"},
"84f243ef": {"dfnID":"84f243ef","dfnText":"label","external":true,"refSections":[{"refs":[{"id":"ref-for-the-label-element"}],"title":"3.1. Re-use HTML attribute names (only) for similar functionality"}],"url":"https://html.spec.whatwg.org/multipage/forms.html#the-label-element"},
"85188fb3": {"dfnID":"85188fb3","dfnText":"select","external":true,"refSections":[{"refs":[{"id":"ref-for-the-select-element"}],"title":"3.1. Re-use HTML attribute names (only) for similar functionality"},{"refs":[{"id":"ref-for-the-select-element\u2460"}],"title":"3.2. Use space-separated attributes for short lists of values, separate elements for longer lists"}],"url":"https://html.spec.whatwg.org/multipage/form-elements.html#the-select-element"},
"860300d4": {"dfnID":"860300d4","dfnText":"implementation-defined","external":true,"refSections":[{"refs":[{"id":"ref-for-implementation-defined"}],"title":"9.2. Use care when exposing APIs for selecting or enumerating devices"}],"url":"https://infra.spec.whatwg.org/#implementation-defined"},
"8662cdd3": {"dfnID":"8662cdd3","dfnText":"checked","external":true,"refSections":[{"refs":[{"id":"ref-for-attr-input-checked"}],"title":"3.5. Keep attributes in sync"}],"url":"https://html.spec.whatwg.org/multipage/input.html#attr-input-checked"},
"87bc23a5": {"dfnID":"87bc23a5","dfnText":"add","external":true,"refSections":[{"refs":[{"id":"ref-for-abortsignal-add"},{"id":"ref-for-abortsignal-add\u2460"},{"id":"ref-for-abortsignal-add\u2461"}],"title":"7.7. Guard against potential recursion"}],"url":"https://dom.spec.whatwg.org/#abortsignal-add"},
"8855a9aa": {"dfnID":"8855a9aa","dfnText":"DOMString","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-DOMString"},{"id":"ref-for-idl-DOMString\u2460"}],"title":"8.2. Represent strings appropriately"}],"url":"https://webidl.spec.whatwg.org/#idl-DOMString"},
"88885797": {"dfnID":"88885797","dfnText":"for","external":true,"refSections":[{"refs":[{"id":"ref-for-attr-label-for"}],"title":"3.1. Re-use HTML attribute names (only) for similar functionality"}],"url":"https://html.spec.whatwg.org/multipage/forms.html#attr-label-for"},
"889e932f": {"dfnID":"889e932f","dfnText":"Exposed","external":true,"refSections":[{"refs":[{"id":"ref-for-Exposed"},{"id":"ref-for-Exposed\u2460"}],"title":"10.3. Only purely computational features should be exposed everywhere"}],"url":"https://webidl.spec.whatwg.org/#Exposed"},
"8baa72cd": {"dfnID":"8baa72cd","dfnText":"WindowEventHandlers","external":true,"refSections":[{"refs":[{"id":"ref-for-windoweventhandlers"}],"title":"7.5. Always add event handler attributes"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#windoweventhandlers"},
"8bd77373": {"dfnID":"8bd77373","dfnText":"currentTime","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-animationtimeline-currenttime"}],"title":"5.2. Preserve run-to-completion semantics"}],"url":"https://drafts.csswg.org/web-animations-2/#dom-animationtimeline-currenttime"},
"8bdd3ef8": {"dfnID":"8bdd3ef8","dfnText":"then(onFulfilled, onRejected)","external":true,"refSections":[{"refs":[{"id":"ref-for-sec-promise.prototype.then"}],"title":"When to use callback functions"}],"url":"https://tc39.es/ecma262/multipage/control-abstraction-objects.html#sec-promise.prototype.then"},
"8c800cdf": {"dfnID":"8c800cdf","dfnText":"double","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-double"}],"title":"8.1. Use numeric types appropriately"}],"url":"https://webidl.spec.whatwg.org/#idl-double"},
"8c8cc336": {"dfnID":"8c8cc336","dfnText":"Date","external":true,"refSections":[{"refs":[{"id":"ref-for-sec-date-objects"}],"title":"8.3. Use milliseconds for time measurement"},{"refs":[{"id":"ref-for-sec-date-objects\u2460"},{"id":"ref-for-sec-date-objects\u2461"},{"id":"ref-for-sec-date-objects\u2462"}],"title":"8.4. Use the appropriate type to represent times and dates"}],"url":"https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-date-objects"},
"8dba5fba": {"dfnID":"8dba5fba","dfnText":"\"no-referrer-when-downgrade\"","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-referrerpolicy-no-referrer-when-downgrade"}],"title":"Use casing rules consistent with existing APIs"}],"url":"https://w3c.github.io/webappsec-referrer-policy/#dom-referrerpolicy-no-referrer-when-downgrade"},
"93c4bcc0": {"dfnID":"93c4bcc0","dfnText":"ismap","external":true,"refSections":[{"refs":[{"id":"ref-for-attr-img-ismap"}],"title":"Use casing rules consistent with existing APIs"}],"url":"https://html.spec.whatwg.org/multipage/embedded-content.html#attr-img-ismap"},
"946a9318": {"dfnID":"946a9318","dfnText":"form","external":true,"refSections":[{"refs":[{"id":"ref-for-the-form-element"}],"title":"3.6. Name URL-containing attributes based on their primary purpose"}],"url":"https://html.spec.whatwg.org/multipage/forms.html#the-form-element"},
"95d7775a": {"dfnID":"95d7775a","dfnText":"Uint8Array","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-Uint8Array"}],"title":"6.15. Output an array of bytes with Uint8Array"},{"refs":[{"id":"ref-for-idl-Uint8Array\u2460"}],"title":"8.2. Represent strings appropriately"}],"url":"https://webidl.spec.whatwg.org/#idl-Uint8Array"},
"96c16e60": {"dfnID":"96c16e60","dfnText":"Node","external":true,"refSections":[{"refs":[{"id":"ref-for-node"}],"title":"Live objects"},{"refs":[{"id":"ref-for-node\u2460"},{"id":"ref-for-node\u2461"}],"title":"7.9. Use Events and Observers appropriately"}],"url":"https://dom.spec.whatwg.org/#node"},
"96ffbcca": {"dfnID":"96ffbcca","dfnText":"selected","external":true,"refSections":[{"refs":[{"id":"ref-for-attr-option-selected"}],"title":"3.5. Keep attributes in sync"}],"url":"https://html.spec.whatwg.org/multipage/form-elements.html#attr-option-selected"},
"9714d594": {"dfnID":"9714d594","dfnText":"HTMLCollection","external":true,"refSections":[{"refs":[{"id":"ref-for-htmlcollection"},{"id":"ref-for-htmlcollection\u2460"}],"title":"5.3. Don\u2019t expose garbage collection"},{"refs":[{"id":"ref-for-htmlcollection\u2461"}],"title":"Use casing rules consistent with existing APIs"}],"url":"https://dom.spec.whatwg.org/#htmlcollection"},
"99a3763c": {"dfnID":"99a3763c","dfnText":"font-size-adjust","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-font-size-adjust"}],"title":"11.4.1. If you need to monkey patch"}],"url":"https://drafts.csswg.org/css-fonts-4/#propdef-font-size-adjust"},
"9a517a7d": {"dfnID":"9a517a7d","dfnText":"queue a task","external":true,"refSections":[{"refs":[{"id":"ref-for-queue-a-task"}],"title":"7.7. Guard against potential recursion"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"},
"9aeb0a82": {"dfnID":"9aeb0a82","dfnText":"long long","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-long-long"}],"title":"8.1. Use numeric types appropriately"}],"url":"https://webidl.spec.whatwg.org/#idl-long-long"},
"9be179f5": {"dfnID":"9be179f5","dfnText":"IntersectionObserver","external":true,"refSections":[{"refs":[{"id":"ref-for-intersectionobserver"}],"title":"7.9. Use Events and Observers appropriately"}],"url":"https://w3c.github.io/IntersectionObserver/#intersectionobserver"},
"9cd25054": {"dfnID":"9cd25054","dfnText":"computed value","external":true,"refSections":[{"refs":[{"id":"ref-for-computed-value"},{"id":"ref-for-computed-value\u2460"},{"id":"ref-for-computed-value\u2461"}],"title":"4.3. Choose the computed value type based on how the property should inherit"}],"url":"https://drafts.csswg.org/css-cascade-5/#computed-value"},
"9d861566": {"dfnID":"9d861566","dfnText":"showModal()","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-dialog-showmodal"}],"title":"11.2.1. Define algorithms clearly"}],"url":"https://html.spec.whatwg.org/multipage/interactive-elements.html#dom-dialog-showmodal"},
"9dc3e09f": {"dfnID":"9dc3e09f","dfnText":"q","external":true,"refSections":[{"refs":[{"id":"ref-for-the-q-element"}],"title":"3.6. Name URL-containing attributes based on their primary purpose"}],"url":"https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-q-element"},
"9e3cc993": {"dfnID":"9e3cc993","dfnText":"RemotePlayback","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-remoteplayback"}],"title":"9.2. Use care when exposing APIs for selecting or enumerating devices"}],"url":"https://w3c.github.io/remote-playback/#dom-remoteplayback"},
"a2411b6a": {"dfnID":"a2411b6a","dfnText":"History","external":true,"refSections":[{"refs":[{"id":"ref-for-history-3"}],"title":"6.9. Classes should have constructors when possible"}],"url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#history-3"},
"a3fb968a": {"dfnID":"a3fb968a","dfnText":"surrogate","external":true,"refSections":[{"refs":[{"id":"ref-for-surrogate"}],"title":"8.2. Represent strings appropriately"}],"url":"https://infra.spec.whatwg.org/#surrogate"},
"a46ec9f9": {"dfnID":"a46ec9f9","dfnText":"IDBDatabase","external":true,"refSections":[{"refs":[{"id":"ref-for-idbdatabase"}],"title":"7.9. Use Events and Observers appropriately"}],"url":"https://w3c.github.io/IndexedDB/#idbdatabase"},
"a4eb3c57": {"dfnID":"a4eb3c57","dfnText":"used value","external":true,"refSections":[{"refs":[{"id":"ref-for-used-value"},{"id":"ref-for-used-value\u2460"}],"title":"4.3. Choose the computed value type based on how the property should inherit"}],"url":"https://drafts.csswg.org/css-cascade-5/#used-value"},
"a6078b11": {"dfnID":"a6078b11","dfnText":"href (for link)","external":true,"refSections":[{"refs":[{"id":"ref-for-attr-link-href"}],"title":"3.6. Name URL-containing attributes based on their primary purpose"}],"url":"https://html.spec.whatwg.org/multipage/semantics.html#attr-link-href"},
"a9789869": {"dfnID":"a9789869","dfnText":"partial dictionary","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-partial-dictionary"}],"title":"11.4.1. If you need to monkey patch"}],"url":"https://webidl.spec.whatwg.org/#dfn-partial-dictionary"},
"aa7bbf63": {"dfnID":"aa7bbf63","dfnText":"video","external":true,"refSections":[{"refs":[{"id":"ref-for-video"}],"title":"3.2. Use space-separated attributes for short lists of values, separate elements for longer lists"},{"refs":[{"id":"ref-for-video\u2460"}],"title":"3.6. Name URL-containing attributes based on their primary purpose"}],"url":"https://html.spec.whatwg.org/multipage/media.html#video"},
"aaa103c9": {"dfnID":"aaa103c9","dfnText":"compatMode","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-document-compatmode"}],"title":"Use casing rules consistent with existing APIs"}],"url":"https://dom.spec.whatwg.org/#dom-document-compatmode"},
"ab4b142f": {"dfnID":"ab4b142f","dfnText":"setFocusBehavior()","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-capturecontroller-setfocusbehavior"}],"title":"When to use callback functions"}],"url":"https://w3c.github.io/mediacapture-screen-share/#dom-capturecontroller-setfocusbehavior"},
"ab86e0f1": {"dfnID":"ab86e0f1","dfnText":"show()","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-paymentrequest-show"}],"title":"7.7. Guard against potential recursion"}],"url":"https://w3c.github.io/payment-request/#dom-paymentrequest-show"},
"ac54fbff": {"dfnID":"ac54fbff","dfnText":"line-height","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-line-height"},{"id":"ref-for-propdef-line-height\u2460"},{"id":"ref-for-propdef-line-height\u2461"},{"id":"ref-for-propdef-line-height\u2462"},{"id":"ref-for-propdef-line-height\u2463"},{"id":"ref-for-propdef-line-height\u2464"}],"title":"4.3. Choose the computed value type based on how the property should inherit"}],"url":"https://drafts.csswg.org/css2/#propdef-line-height"},
"adfe3014": {"dfnID":"adfe3014","dfnText":"URLSearchParams","external":true,"refSections":[{"refs":[{"id":"ref-for-urlsearchparams"}],"title":"Static objects"},{"refs":[{"id":"ref-for-urlsearchparams\u2460"},{"id":"ref-for-urlsearchparams\u2461"}],"title":"11.4.1. If you need to monkey patch"}],"url":"https://url.spec.whatwg.org/#urlsearchparams"},
"aee00462": {"dfnID":"aee00462","dfnText":"option","external":true,"refSections":[{"refs":[{"id":"ref-for-the-option-element"}],"title":"3.2. Use space-separated attributes for short lists of values, separate elements for longer lists"},{"refs":[{"id":"ref-for-the-option-element\u2460"}],"title":"3.5. Keep attributes in sync"}],"url":"https://html.spec.whatwg.org/multipage/form-elements.html#the-option-element"},
"b07164ad": {"dfnID":"b07164ad","dfnText":"multiple","external":true,"refSections":[{"refs":[{"id":"ref-for-attr-select-multiple"}],"title":"3.1. Re-use HTML attribute names (only) for similar functionality"}],"url":"https://html.spec.whatwg.org/multipage/form-elements.html#attr-select-multiple"},
"b093bcd2": {"dfnID":"b093bcd2","dfnText":"output","external":true,"refSections":[{"refs":[{"id":"ref-for-the-output-element"}],"title":"3.1. Re-use HTML attribute names (only) for similar functionality"}],"url":"https://html.spec.whatwg.org/multipage/form-elements.html#the-output-element"},
"b0d7f3c3": {"dfnID":"b0d7f3c3","dfnText":"USVString","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-USVString"}],"title":"3.6. Name URL-containing attributes based on their primary purpose"},{"refs":[{"id":"ref-for-idl-USVString\u2460"},{"id":"ref-for-idl-USVString\u2461"},{"id":"ref-for-idl-USVString\u2462"},{"id":"ref-for-idl-USVString\u2463"}],"title":"8.2. Represent strings appropriately"}],"url":"https://webidl.spec.whatwg.org/#idl-USVString"},
"b203675a": {"dfnID":"b203675a","dfnText":"getComputedStyle(elt)","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-window-getcomputedstyle"}],"title":"4.3. Choose the computed value type based on how the property should inherit"}],"url":"https://drafts.csswg.org/cssom-1/#dom-window-getcomputedstyle"},
"b2f8a695": {"dfnID":"b2f8a695","dfnText":"alert()","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-alert-noargs"}],"title":"1.3. Trusted user interface should be trustworthy"}],"url":"https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-alert-noargs"},
"b6ae4501": {"dfnID":"b6ae4501","dfnText":"networking task source","external":true,"refSections":[{"refs":[{"id":"ref-for-networking-task-source"}],"title":"6.17. Prefer existing task sources"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source"},
"b6fb7a51": {"dfnID":"b6fb7a51","dfnText":"custom element","external":true,"refSections":[{"refs":[{"id":"ref-for-custom-element"}],"title":"6.9. Classes should have constructors when possible"}],"url":"https://html.spec.whatwg.org/multipage/custom-elements.html#custom-element"},
"b75bb3bd": {"dfnID":"b75bb3bd","dfnText":"SecureContext","external":true,"refSections":[{"refs":[{"id":"ref-for-SecureContext"},{"id":"ref-for-SecureContext\u2460"}],"title":"2.8. Consider limiting new features to secure contexts"}],"url":"https://webidl.spec.whatwg.org/#SecureContext"},
"b7d73f5b": {"dfnID":"b7d73f5b","dfnText":"Blob","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-Blob"},{"id":"ref-for-dfn-Blob\u2460"}],"title":"10.3. Only purely computational features should be exposed everywhere"}],"url":"https://w3c.github.io/FileAPI/#dfn-Blob"},
"b815f411": {"dfnID":"b815f411","dfnText":"update the rendering","external":true,"refSections":[{"refs":[{"id":"ref-for-update-the-rendering"}],"title":"5.2. Preserve run-to-completion semantics"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#update-the-rendering"},
"b8308563": {"dfnID":"b8308563","dfnText":"DedicatedWorkerGlobalScope","external":true,"refSections":[{"refs":[{"id":"ref-for-dedicatedworkerglobalscope"}],"title":"10.2. Where possible APIs should be made available to dedicated workers"},{"refs":[{"id":"ref-for-dedicatedworkerglobalscope\u2460"}],"title":"10.2.1. Some APIs should only be exposed to dedicated workers"}],"url":"https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"},
"b88b42f7": {"dfnID":"b88b42f7","dfnText":"LockManager","external":true,"refSections":[{"refs":[{"id":"ref-for-lockmanager"}],"title":"5.2. Preserve run-to-completion semantics"}],"url":"https://w3c.github.io/web-locks/#lockmanager"},
"b996b941": {"dfnID":"b996b941","dfnText":"src (for img)","external":true,"refSections":[{"refs":[{"id":"ref-for-attr-img-src"}],"title":"3.6. Name URL-containing attributes based on their primary purpose"}],"url":"https://html.spec.whatwg.org/multipage/embedded-content.html#attr-img-src"},
"ba3d5b0d": {"dfnID":"ba3d5b0d","dfnText":"RTCDTMFSender","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-rtcdtmfsender"}],"title":"Use casing rules consistent with existing APIs"}],"url":"https://w3c.github.io/webrtc-pc/#dom-rtcdtmfsender"},
"ba920583": {"dfnID":"ba920583","dfnText":"style","external":true,"refSections":[{"refs":[{"id":"ref-for-the-style-element"}],"title":"3.1. Re-use HTML attribute names (only) for similar functionality"}],"url":"https://html.spec.whatwg.org/multipage/semantics.html#the-style-element"},
"bc5645aa": {"dfnID":"bc5645aa","dfnText":"octet","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-octet"},{"id":"ref-for-idl-octet\u2460"},{"id":"ref-for-idl-octet\u2461"},{"id":"ref-for-idl-octet\u2462"},{"id":"ref-for-idl-octet\u2463"}],"title":"8.1. Use numeric types appropriately"}],"url":"https://webidl.spec.whatwg.org/#idl-octet"},
"bc9fe445": {"dfnID":"bc9fe445","dfnText":"createAttribute(localName)","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-document-createattribute"}],"title":"Use casing rules consistent with existing APIs"}],"url":"https://dom.spec.whatwg.org/#dom-document-createattribute"},
"bcc085e3": {"dfnID":"bcc085e3","dfnText":"request permission to use","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-request-permission-to-use"}],"title":"1.4.1. Help users make good decisions"}],"url":"https://w3c.github.io/permissions/#dfn-request-permission-to-use"},
"bdbd19d1": {"dfnID":"bdbd19d1","dfnText":"Promise","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-promise"}],"title":"6.16. Return undefined from side-effect-causing functions"},{"refs":[{"id":"ref-for-idl-promise\u2460"}],"title":"7.7. Guard against potential recursion"}],"url":"https://webidl.spec.whatwg.org/#idl-promise"},
"bdcd112d": {"dfnID":"bdcd112d","dfnText":"bigint","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-bigint"}],"title":"8.1. Use numeric types appropriately"}],"url":"https://webidl.spec.whatwg.org/#idl-bigint"},
"be0c27b2": {"dfnID":"be0c27b2","dfnText":"Navigator","external":true,"refSections":[{"refs":[{"id":"ref-for-navigator"}],"title":"6.9. Classes should have constructors when possible"}],"url":"https://html.spec.whatwg.org/multipage/system-state.html#navigator"},
"bf77e69a": {"dfnID":"bf77e69a","dfnText":"WeakRef","external":true,"refSections":[{"refs":[{"id":"ref-for-sec-weak-ref-objects"}],"title":"5.3. Don\u2019t expose garbage collection"}],"url":"https://tc39.es/ecma262/multipage/managing-memory.html#sec-weak-ref-objects"},
"bfa87d79": {"dfnID":"bfa87d79","dfnText":"short_name","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-short_name"}],"title":"Use casing rules consistent with existing APIs"}],"url":"https://w3c.github.io/manifest/#dfn-short_name"},
"bfff6250": {"dfnID":"bfff6250","dfnText":"button","external":true,"refSections":[{"refs":[{"id":"ref-for-the-button-element"}],"title":"3.1. Re-use HTML attribute names (only) for similar functionality"}],"url":"https://html.spec.whatwg.org/multipage/form-elements.html#the-button-element"},
"c01cbda0": {"dfnID":"c01cbda0","dfnText":"EnforceRange","external":true,"refSections":[{"refs":[{"id":"ref-for-EnforceRange"},{"id":"ref-for-EnforceRange\u2460"},{"id":"ref-for-EnforceRange\u2461"}],"title":"8.1. Use numeric types appropriately"}],"url":"https://webidl.spec.whatwg.org/#EnforceRange"},
"c1ebc639": {"dfnID":"c1ebc639","dfnText":"@supports","external":true,"refSections":[{"refs":[{"id":"ref-for-at-ruledef-supports"}],"title":"2.6. New features should be detectable"}],"url":"https://drafts.csswg.org/css-conditional-3/#at-ruledef-supports"},
"c219fdf4": {"dfnID":"c219fdf4","dfnText":"srcset","external":true,"refSections":[{"refs":[{"id":"ref-for-attr-img-srcset"}],"title":"3.2. Use space-separated attributes for short lists of values, separate elements for longer lists"}],"url":"https://html.spec.whatwg.org/multipage/embedded-content.html#attr-img-srcset"},
"c2430fbb": {"dfnID":"c2430fbb","dfnText":"prompt the user to choose","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-prompt-the-user-to-choose"}],"title":"1.4.1. Help users make good decisions"}],"url":"https://w3c.github.io/permissions/#dfn-prompt-the-user-to-choose"},
"c262266a": {"dfnID":"c262266a","dfnText":"WorkerType","external":true,"refSections":[{"refs":[{"id":"ref-for-workertype"}],"title":"6.13. Use strings for constants and enums"}],"url":"https://html.spec.whatwg.org/multipage/workers.html#workertype"},
"c2f2a81a": {"dfnID":"c2f2a81a","dfnText":"classList","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-element-classlist"}],"title":"3.2. Use space-separated attributes for short lists of values, separate elements for longer lists"}],"url":"https://dom.spec.whatwg.org/#dom-element-classlist"},
"c3469cd0": {"dfnID":"c3469cd0","dfnText":"MouseEvent","external":true,"refSections":[{"refs":[{"id":"ref-for-mouseevent"},{"id":"ref-for-mouseevent\u2460"}],"title":"6.9. Classes should have constructors when possible"}],"url":"https://w3c.github.io/uievents/#mouseevent"},
"c3b2d08c": {"dfnID":"c3b2d08c","dfnText":"task source","external":true,"refSections":[{"refs":[{"id":"ref-for-task-source"},{"id":"ref-for-task-source\u2460"},{"id":"ref-for-task-source\u2461"}],"title":"6.17. Prefer existing task sources"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#task-source"},
"c4484b93": {"dfnID":"c4484b93","dfnText":"true","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-custom-media-true"}],"title":"4.4. Name CSS properties and values appropriately"}],"url":"https://drafts.csswg.org/mediaqueries-5/#valdef-custom-media-true"},
"c5891539": {"dfnID":"c5891539","dfnText":"HTMLImageElement","external":true,"refSections":[{"refs":[{"id":"ref-for-htmlimageelement"}],"title":"Use casing rules consistent with existing APIs"}],"url":"https://html.spec.whatwg.org/multipage/embedded-content.html#htmlimageelement"},
"c6d19e56": {"dfnID":"c6d19e56","dfnText":"event loop","external":true,"refSections":[{"refs":[{"id":"ref-for-event-loop"},{"id":"ref-for-event-loop\u2460"}],"title":"6.17. Prefer existing task sources"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-loop"},
"c7af4825": {"dfnID":"c7af4825","dfnText":"getElementById(elementId)","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-nonelementparentnode-getelementbyid"}],"title":"Use casing rules consistent with existing APIs"}],"url":"https://dom.spec.whatwg.org/#dom-nonelementparentnode-getelementbyid"},
"ca0c892d": {"dfnID":"ca0c892d","dfnText":"href (for a)","external":true,"refSections":[{"refs":[{"id":"ref-for-attr-hyperlink-href"}],"title":"3.6. Name URL-containing attributes based on their primary purpose"},{"refs":[{"id":"ref-for-attr-hyperlink-href\u2460"}],"title":"8.2. Represent strings appropriately"}],"url":"https://html.spec.whatwg.org/multipage/links.html#attr-hyperlink-href"},
"cbdd0aff": {"dfnID":"cbdd0aff","dfnText":"id","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-credential-id"}],"title":"Use casing rules consistent with existing APIs"}],"url":"https://w3c.github.io/webappsec-credential-management/#dom-credential-id"},
"cc212fd8": {"dfnID":"cc212fd8","dfnText":"setlike","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-setlike"}],"title":"Static objects"}],"url":"https://webidl.spec.whatwg.org/#dfn-setlike"},
"cca3cdb2": {"dfnID":"cca3cdb2","dfnText":"AbortSignal","external":true,"refSections":[{"refs":[{"id":"ref-for-abortsignal"}],"title":"6.12. Cancel asynchronous APIs/operations using AbortSignal"},{"refs":[{"id":"ref-for-abortsignal\u2460"},{"id":"ref-for-abortsignal\u2461"},{"id":"ref-for-abortsignal\u2462"}],"title":"7.7. Guard against potential recursion"},{"refs":[{"id":"ref-for-abortsignal\u2463"},{"id":"ref-for-abortsignal\u2464"}],"title":"10.3. Only purely computational features should be exposed everywhere"}],"url":"https://dom.spec.whatwg.org/#abortsignal"},
"d06b2b8c": {"dfnID":"d06b2b8c","dfnText":"XMLHttpRequest","external":true,"refSections":[{"refs":[{"id":"ref-for-xmlhttprequest"}],"title":"6.6. Make method arguments optional if possible"},{"refs":[{"id":"ref-for-xmlhttprequest\u2460"}],"title":"6.13. Use strings for constants and enums"},{"refs":[{"id":"ref-for-xmlhttprequest\u2461"}],"title":"Use casing rules consistent with existing APIs"}],"url":"https://xhr.spec.whatwg.org/#xmlhttprequest"},
"d0eba3fd": {"dfnID":"d0eba3fd","dfnText":"partial interface","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-partial-interface"}],"title":"11.4.1. If you need to monkey patch"}],"url":"https://webidl.spec.whatwg.org/#dfn-partial-interface"},
"d387f951": {"dfnID":"d387f951","dfnText":"inputType","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-inputevent-inputtype"}],"title":"7.8. Put state on target objects rather than Events"}],"url":"https://w3c.github.io/uievents/#dom-inputevent-inputtype"},
"d38f9598": {"dfnID":"d38f9598","dfnText":"getBoundingClientRect()","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-element-getboundingclientrect"}],"title":"6.2. Attributes should behave like data properties"}],"url":"https://drafts.csswg.org/cssom-view-1/#dom-element-getboundingclientrect"},
"d4127354": {"dfnID":"d4127354","dfnText":"innerHTML","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-element-innerhtml"}],"title":"Use casing rules consistent with existing APIs"}],"url":"https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-element-innerhtml"},
"d4b3b8bc": {"dfnID":"d4b3b8bc","dfnText":"cite","external":true,"refSections":[{"refs":[{"id":"ref-for-attr-q-cite"}],"title":"3.6. Name URL-containing attributes based on their primary purpose"}],"url":"https://html.spec.whatwg.org/multipage/text-level-semantics.html#attr-q-cite"},
"d62af025": {"dfnID":"d62af025","dfnText":"now()","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-performance-now"}],"title":"5.2. Preserve run-to-completion semantics"}],"url":"https://w3c.github.io/hr-time/#dom-performance-now"},
"d6aab74b": {"dfnID":"d6aab74b","dfnText":"pointerId","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-pointerevent-pointerid"}],"title":"Use casing rules consistent with existing APIs"}],"url":"https://w3c.github.io/pointerevents/#dom-pointerevent-pointerid"},
"d7d5b038": {"dfnID":"d7d5b038","dfnText":"observable array type","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-observable-array-type"}],"title":"6.6. Make method arguments optional if possible"}],"url":"https://webidl.spec.whatwg.org/#dfn-observable-array-type"},
"d7d642a2": {"dfnID":"d7d642a2","dfnText":"input","external":true,"refSections":[{"refs":[{"id":"ref-for-the-input-element"}],"title":"2.15. Build complex types by composing simpler types"},{"refs":[{"id":"ref-for-the-input-element\u2460"},{"id":"ref-for-the-input-element\u2461"}],"title":"3.1. Re-use HTML attribute names (only) for similar functionality"},{"refs":[{"id":"ref-for-the-input-element\u2462"}],"title":"3.2. Use space-separated attributes for short lists of values, separate elements for longer lists"},{"refs":[{"id":"ref-for-the-input-element\u2463"},{"id":"ref-for-the-input-element\u2464"}],"title":"3.5. Keep attributes in sync"},{"refs":[{"id":"ref-for-the-input-element\u2465"},{"id":"ref-for-the-input-element\u2466"}],"title":"3.7. Give each HTML element a single purpose"}],"url":"https://html.spec.whatwg.org/multipage/input.html#the-input-element"},
"d94094fa": {"dfnID":"d94094fa","dfnText":"PointerEvent","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-pointerevent"}],"title":"2.15. Build complex types by composing simpler types"}],"url":"https://w3c.github.io/pointerevents/#dom-pointerevent"},
"d977a5dd": {"dfnID":"d977a5dd","dfnText":"offsetTop","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-htmlelement-offsettop"}],"title":"6.2. Attributes should behave like data properties"}],"url":"https://drafts.csswg.org/cssom-view-1/#dom-htmlelement-offsettop"},
"da34f333": {"dfnID":"da34f333","dfnText":"isMap","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-img-ismap"}],"title":"Use casing rules consistent with existing APIs"}],"url":"https://html.spec.whatwg.org/multipage/embedded-content.html#dom-img-ismap"},
"dc0eaa56": {"dfnID":"dc0eaa56","dfnText":"scrollTop","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-element-scrolltop"}],"title":"5.2. Preserve run-to-completion semantics"}],"url":"https://drafts.csswg.org/cssom-view-1/#dom-element-scrolltop"},
"dc4acd27": {"dfnID":"dc4acd27","dfnText":"json()","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-body-json"}],"title":"12.1. Use common words"}],"url":"https://fetch.spec.whatwg.org/#dom-body-json"},
"dc6ebe88": {"dfnID":"dc6ebe88","dfnText":"list","external":true,"refSections":[{"refs":[{"id":"ref-for-attr-input-list"}],"title":"3.2. Use space-separated attributes for short lists of values, separate elements for longer lists"}],"url":"https://html.spec.whatwg.org/multipage/input.html#attr-input-list"},
"dca2de17": {"dfnID":"dca2de17","dfnText":"DOMException","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-DOMException"}],"title":"8.5. Use Error or DOMException for errors"}],"url":"https://webidl.spec.whatwg.org/#idl-DOMException"},
"dcffbccd": {"dfnID":"dcffbccd","dfnText":"URL","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-url"}],"title":"8.2. Represent strings appropriately"}],"url":"https://url.spec.whatwg.org/#concept-url"},
"ddc587b1": {"dfnID":"ddc587b1","dfnText":"ASCII code point","external":true,"refSections":[{"refs":[{"id":"ref-for-ascii-code-point"}],"title":"12.2. Use ASCII names"}],"url":"https://infra.spec.whatwg.org/#ascii-code-point"},
"e10e7eb7": {"dfnID":"e10e7eb7","dfnText":"DOM manipulation task source","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-manipulation-task-source"}],"title":"6.17. Prefer existing task sources"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"},
"e270bd2a": {"dfnID":"e270bd2a","dfnText":"task","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-task"}],"title":"6.17. Prefer existing task sources"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-task"},
"e356ee85": {"dfnID":"e356ee85","dfnText":"class","external":true,"refSections":[{"refs":[{"id":"ref-for-classes"}],"title":"3.2. Use space-separated attributes for short lists of values, separate elements for longer lists"}],"url":"https://html.spec.whatwg.org/multipage/dom.html#classes"},
"e4ee9a64": {"dfnID":"e4ee9a64","dfnText":"HTMLHRElement","external":true,"refSections":[{"refs":[{"id":"ref-for-htmlhrelement"}],"title":"Use casing rules consistent with existing APIs"}],"url":"https://html.spec.whatwg.org/multipage/grouping-content.html#htmlhrelement"},
"e5882acf": {"dfnID":"e5882acf","dfnText":"source","external":true,"refSections":[{"refs":[{"id":"ref-for-the-source-element"}],"title":"3.2. Use space-separated attributes for short lists of values, separate elements for longer lists"},{"refs":[{"id":"ref-for-the-source-element\u2460"},{"id":"ref-for-the-source-element\u2461"}],"title":"3.7. Give each HTML element a single purpose"}],"url":"https://html.spec.whatwg.org/multipage/embedded-content.html#the-source-element"},
"e6b9f496": {"dfnID":"e6b9f496","dfnText":"canplaythrough","external":true,"refSections":[{"refs":[{"id":"ref-for-event-media-canplaythrough"}],"title":"Use casing rules consistent with existing APIs"}],"url":"https://html.spec.whatwg.org/multipage/media.html#event-media-canplaythrough"},
"e81f86c3": {"dfnID":"e81f86c3","dfnText":"bgColor","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-document-bgcolor"}],"title":"Use casing rules consistent with existing APIs"}],"url":"https://html.spec.whatwg.org/multipage/obsolete.html#dom-document-bgcolor"},
"e8478f36": {"dfnID":"e8478f36","dfnText":"target","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-event-target"},{"id":"ref-for-dom-event-target\u2460"},{"id":"ref-for-dom-event-target\u2461"}],"title":"7.8. Put state on target objects rather than Events"}],"url":"https://dom.spec.whatwg.org/#dom-event-target"},
"ea2e2ea4": {"dfnID":"ea2e2ea4","dfnText":"timeRemaining()","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-idledeadline-timeremaining"}],"title":"5.2. Preserve run-to-completion semantics"}],"url":"https://w3c.github.io/requestidlecallback/#dom-idledeadline-timeremaining"},
"eb9a1873": {"dfnID":"eb9a1873","dfnText":"rel","external":true,"refSections":[{"refs":[{"id":"ref-for-attr-link-rel"}],"title":"3.6. Name URL-containing attributes based on their primary purpose"}],"url":"https://html.spec.whatwg.org/multipage/semantics.html#attr-link-rel"},
"ecf251b4": {"dfnID":"ecf251b4","dfnText":"scalar value","external":true,"refSections":[{"refs":[{"id":"ref-for-scalar-value"}],"title":"8.2. Represent strings appropriately"}],"url":"https://infra.spec.whatwg.org/#scalar-value"},
"f0811ff8": {"dfnID":"f0811ff8","dfnText":"img","external":true,"refSections":[{"refs":[{"id":"ref-for-the-img-element"}],"title":"3.2. Use space-separated attributes for short lists of values, separate elements for longer lists"},{"refs":[{"id":"ref-for-the-img-element\u2460"}],"title":"3.6. Name URL-containing attributes based on their primary purpose"},{"refs":[{"id":"ref-for-the-img-element\u2461"}],"title":"Use casing rules consistent with existing APIs"}],"url":"https://html.spec.whatwg.org/multipage/embedded-content.html#the-img-element"},
"f0951476": {"dfnID":"f0951476","dfnText":"EventHandler","external":true,"refSections":[{"refs":[{"id":"ref-for-eventhandler"}],"title":"7.5. Always add event handler attributes"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"},
"f14b47b8": {"dfnID":"f14b47b8","dfnText":"unsigned long long","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-unsigned-long-long"}],"title":"8.1. Use numeric types appropriately"}],"url":"https://webidl.spec.whatwg.org/#idl-unsigned-long-long"},
"f449d4f8": {"dfnID":"f449d4f8","dfnText":"open(url, target, features)","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-open"}],"title":"6.9. Classes should have constructors when possible"}],"url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-open"},
"f4813f78": {"dfnID":"f4813f78","dfnText":"byte","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-byte"}],"title":"8.2. Represent strings appropriately"}],"url":"https://webidl.spec.whatwg.org/#idl-byte"},
"f679a0bc": {"dfnID":"f679a0bc","dfnText":"PaymentRequest","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-paymentrequest"}],"title":"7.7. Guard against potential recursion"}],"url":"https://w3c.github.io/payment-request/#dom-paymentrequest"},
"f6c2cd25": {"dfnID":"f6c2cd25","dfnText":"BigInt","external":true,"refSections":[{"refs":[{"id":"ref-for-sec-bigint-objects"},{"id":"ref-for-sec-bigint-objects\u2460"},{"id":"ref-for-sec-bigint-objects\u2461"}],"title":"8.1. Use numeric types appropriately"}],"url":"https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-bigint-objects"},
"f831c141": {"dfnID":"f831c141","dfnText":"background-image","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-background-image"},{"id":"ref-for-propdef-background-image\u2460"}],"title":"4.2. Make appropriate choices for whether CSS properties are inherited"}],"url":"https://drafts.csswg.org/css-backgrounds-3/#propdef-background-image"},
"f89c7d0d": {"dfnID":"f89c7d0d","dfnText":"Clamp","external":true,"refSections":[{"refs":[{"id":"ref-for-Clamp"}],"title":"8.1. Use numeric types appropriately"}],"url":"https://webidl.spec.whatwg.org/#Clamp"},
"f8b3bc81": {"dfnID":"f8b3bc81","dfnText":"false","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-custom-media-false"}],"title":"4.4. Name CSS properties and values appropriately"}],"url":"https://drafts.csswg.org/mediaqueries-5/#valdef-custom-media-false"},
"f8de33a3": {"dfnID":"f8de33a3","dfnText":"long","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-long"}],"title":"8.1. Use numeric types appropriately"}],"url":"https://webidl.spec.whatwg.org/#idl-long"},
"fb030e6c": {"dfnID":"fb030e6c","dfnText":"<length>","external":true,"refSections":[{"refs":[{"id":"ref-for-length-value"}],"title":"4.3. Choose the computed value type based on how the property should inherit"}],"url":"https://drafts.csswg.org/css-values-4/#length-value"},
"fc736137": {"dfnID":"fc736137","dfnText":"textarea","external":true,"refSections":[{"refs":[{"id":"ref-for-the-textarea-element"}],"title":"3.7. Give each HTML element a single purpose"}],"url":"https://html.spec.whatwg.org/multipage/form-elements.html#the-textarea-element"},
"fd7a9317": {"dfnID":"fd7a9317","dfnText":"value (for input)","external":true,"refSections":[{"refs":[{"id":"ref-for-attr-input-value"}],"title":"3.5. Keep attributes in sync"}],"url":"https://html.spec.whatwg.org/multipage/input.html#attr-input-value"},
"fdf6efd5": {"dfnID":"fdf6efd5","dfnText":"font-size","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-font-size"},{"id":"ref-for-propdef-font-size\u2460"},{"id":"ref-for-propdef-font-size\u2461"}],"title":"4.2. Make appropriate choices for whether CSS properties are inherited"},{"refs":[{"id":"ref-for-propdef-font-size\u2462"},{"id":"ref-for-propdef-font-size\u2463"},{"id":"ref-for-propdef-font-size\u2464"},{"id":"ref-for-propdef-font-size\u2465"},{"id":"ref-for-propdef-font-size\u2466"}],"title":"4.3. Choose the computed value type based on how the property should inherit"}],"url":"https://drafts.csswg.org/css-fonts-4/#propdef-font-size"},
"fefe0433": {"dfnID":"fefe0433","dfnText":"preventDefault()","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-event-preventdefault"}],"title":"When to use callback functions"}],"url":"https://dom.spec.whatwg.org/#dom-event-preventdefault"},
"ff87eaf9": {"dfnID":"ff87eaf9","dfnText":"remove","external":true,"refSections":[{"refs":[{"id":"ref-for-abortsignal-remove"},{"id":"ref-for-abortsignal-remove\u2460"}],"title":"7.7. Guard against potential recursion"}],"url":"https://dom.spec.whatwg.org/#abortsignal-remove"},
"live-object": {"dfnID":"live-object","dfnText":"live object","external":false,"refSections":[],"url":"#live-object"},
"monkey-patch": {"dfnID":"monkey-patch","dfnText":"monkey patch","external":false,"refSections":[{"refs":[{"id":"ref-for-monkey-patch"}],"title":"10.5. Extend existing manifest files rather than creating new ones"},{"refs":[{"id":"ref-for-monkey-patch\u2460"}],"title":"11.4.1. If you need to monkey patch"}],"url":"#monkey-patch"},
"propdef-font-size-adjust": {"dfnID":"propdef-font-size-adjust","dfnText":"font-size-adjust","external":false,"refSections":[],"url":"#propdef-font-size-adjust"},
"static-object": {"dfnID":"static-object","dfnText":"static object","external":false,"refSections":[],"url":"#static-object"},
};

document.addEventListener("DOMContentLoaded", ()=>{
    genAllDfnPanels();

    document.body.addEventListener("click", (e) => {
        // If not handled already, just hide all dfn panels.
        hideAllDfnPanels();
    });
});

window.addEventListener("resize", () => {
    // Pin any visible dfn panel
    queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>positionDfnPanel(el));
});

function genAllDfnPanels() {
    for(const panelData of Object.values(dfnPanelData)) {
        const dfnID = panelData.dfnID;
        const dfn = document.getElementById(dfnID);
        if(!dfn) {
            console.log(`Can't find dfn#${dfnID}.`, panelData);
            continue;
        }
        dfn.panelData = panelData;
        insertDfnPopupAction(dfn);
    }
}

function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
    const dfnPanel = mk.aside({
        class: "dfn-panel on",
        id: `infopanel-for-${dfnID}`,
        "data-for": dfnID,
        "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
        },
        mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
            `Info about the '${dfnText}' ${external?"external":""} reference.`),
        mk.a({href:url, class:"dfn-link"}, url),
        refSections.length == 0 ? [] :
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({ href: `#${ref.id}` },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
        genLinkingSyntaxes(dfn),
    );

    dfnPanel.addEventListener('click', (event) => {
        if (event.target.nodeName == 'A') {
            scrollToTargetAndHighlight(event);
            pinDfnPanel(dfnPanel);
        }
        event.stopPropagation();
        refocusOnTarget(event);
    });
    dfnPanel.addEventListener('keydown', (event) => {
        if(event.keyCode == 27) { // Escape key
            hideDfnPanel({dfnPanel});
            event.stopPropagation();
            event.preventDefault();
        }
    });

    dfnPanel.dfn = dfn;
    dfn.dfnPanel = dfnPanel;
    return dfnPanel;
}



function hideAllDfnPanels() {
    // Delete the currently-active dfn panel.
    queryAll(".dfn-panel").forEach(dfnPanel=>hideDfnPanel({dfnPanel}));
}

function showDfnPanel(dfn) {
    hideAllDfnPanels(); // Only display one at a time.

    dfn.setAttribute("aria-expanded", "true");

    const dfnPanel = genDfnPanel(dfn, dfn.panelData);

    // Give the dfn a unique tabindex, and then
    // give all the tabbable panel bits successive indexes.
    let tabIndex = 100;
    dfn.tabIndex = tabIndex++;
    const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
    for (const el of tabbable) {
        el.tabIndex = tabIndex++;
    }

    append(document.body, dfnPanel);
    positionDfnPanel(dfnPanel);
}

function positionDfnPanel(dfnPanel) {
    const dfn = dfnPanel.dfn;
    const dfnPos = getBounds(dfn);
    dfnPanel.style.top = dfnPos.bottom + "px";
    dfnPanel.style.left = dfnPos.left + "px";

    const panelPos = dfnPanel.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
        dfnPanel.style.left = newLeft + "px";
    }
}

function pinDfnPanel(dfnPanel) {
    // Switch it to "activated" state, which pins it.
    dfnPanel.classList.add("activated");
    dfnPanel.style.position = "fixed";
    dfnPanel.style.left = null;
    dfnPanel.style.top = null;
}

function hideDfnPanel({dfn, dfnPanel}) {
    if(!dfnPanel) dfnPanel = dfn.dfnPanel;
    if(!dfn) dfn = dfnPanel.dfn;
    dfn.dfnPanel = undefined;
    dfnPanel.dfn = undefined;
    dfn.setAttribute("aria-expanded", "false");
    dfn.tabIndex = undefined;
    dfnPanel.remove()
}

function toggleDfnPanel(dfn) {
    if(dfn.dfnPanel) {
        hideDfnPanel(dfn);
    } else {
        showDfnPanel(dfn);
    }
}

function insertDfnPopupAction(dfn) {
    dfn.setAttribute('role', 'button');
    dfn.setAttribute('aria-expanded', 'false')
    dfn.tabIndex = 0;
    dfn.classList.add('has-dfn-panel');
    dfn.addEventListener('click', (event) => {
        toggleDfnPanel(dfn);
        event.stopPropagation();
    });
    dfn.addEventListener('keypress', (event) => {
        const kc = event.keyCode;
        // 32->Space, 13->Enter
        if(kc == 32 || kc == 13) {
            toggleDfnPanel(dfn);
            event.stopPropagation();
            event.preventDefault();
        }
    });
}

function refocusOnTarget(event) {
    const target = event.target;
    setTimeout(() => {
        // Refocus on the event.target element.
        // This is needed after browser scrolls to the destination.
        target.focus();
    });
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function scrollToTargetAndHighlight(event) {
    let hash = event.target.hash;
    if (hash) {
        hash = decodeURIComponent(hash.substring(1));
        const dest = document.getElementById(hash);
        if (dest) {
            dest.classList.add('highlighted');
            setTimeout(() => dest.classList.remove('highlighted'), 1000);
        }
    }
}

// Functions, divided by link type, that wrap an autolink's
// contents with the appropriate outer syntax.
// Alternately, a string naming another type they format
// the same as.
function needsFor(type) {
    switch(type) {
        case "descriptor":
        case "value":
        case "element-attr":
        case "attr-value":
        case "element-state":
        case "method":
        case "constructor":
        case "argument":
        case "attribute":
        case "const":
        case "dict-member":
        case "event":
        case "enum-value":
        case "stringifier":
        case "serializer":
        case "iterator":
        case "maplike":
        case "setlike":
        case "state":
        case "mode":
        case "context":
        case "facet": return true;

        default: return false;
    }
}
function refusesFor(type) {
    switch(type) {
        case "property":
        case "element":
        case "interface":
        case "namespace":
        case "callback":
        case "dictionary":
        case "enum":
        case "exception":
        case "typedef":
        case "http-header":
        case "permission": return true;

        default: return false;
    }
}
function linkFormatterFromType(type) {
    switch(type) {
        case 'scheme':
        case 'permission':
        case 'dfn': return (text) => `[=${text}=]`;

        case 'abstract-op': return (text) => `[\$${text}\$]`;

        case 'function':
        case 'at-rule':
        case 'selector':
        case 'value': return (text) => `''${text}''`;

        case 'http-header': return (text) => `[:${text}:]`;

        case 'interface':
        case 'constructor':
        case 'method':
        case 'argument':
        case 'attribute':
        case 'callback':
        case 'dictionary':
        case 'dict-member':
        case 'enum':
        case 'enum-value':
        case 'exception':
        case 'const':
        case 'typedef':
        case 'stringifier':
        case 'serializer':
        case 'iterator':
        case 'maplike':
        case 'setlike':
        case 'extended-attribute':
        case 'event':
        case 'idl': return (text) => `{{${text}}}`;

        case 'element-state':
        case 'element-attr':
        case 'attr-value':
        case 'element': return (element) => `<{${element}}>`;

        case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

        case 'type': return (text)=> `<<${text}>>`;

        case 'descriptor':
        case 'property': return (text) => `'${text}'`;

        default: return;
    };
};

function genLinkingSyntaxes(dfn) {
    if(dfn.tagName != "DFN") return;

    const type = dfn.getAttribute('data-dfn-type');
    if(!type) {
        console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
        return [];
    }

    // Return a function that wraps link text based on the type
    const linkFormatter = linkFormatterFromType(type);
    if(!linkFormatter) {
        console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
        return [];
    }

    let ltAlts;
    if(dfn.hasAttribute('data-lt')) {
        ltAlts = dfn.getAttribute('data-lt')
            .split("|")
            .map(x=>x.trim());
    } else {
        ltAlts = [dfn.textContent.trim()];
    }
    if(type == "type") {
        // lt of "<foo>", but "foo" is the interior;
        // <<foo/bar>> is how you write it with a for,
        // not <foo/<bar>> or whatever.
        for(var i = 0; i < ltAlts.length; i++) {
            const lt = ltAlts[i];
            const match = /<(.*)>/.exec(lt);
            if(match) { ltAlts[i] = match[1]; }
        }
    }

    let forAlts;
    if(dfn.hasAttribute('data-dfn-for')) {
        forAlts = dfn.getAttribute('data-dfn-for')
            .split(",")
            .map(x=>x.trim());
    } else {
        forAlts = [''];
    }

    let linkingSyntaxes = [];
    if(!needsFor(type)) {
        for(const lt of ltAlts) {
            linkingSyntaxes.push(linkFormatter(lt));
        }
    }
    if(!refusesFor(type)) {
        for(const f of forAlts) {
            linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
        }
    }
    return [
        mk.b({}, 'Possible linking syntaxes:'),
        mk.ul({},
            ...linkingSyntaxes.map(link => {
                const copyLink = async () =>
                    await navigator.clipboard.writeText(link);
                return mk.li({},
                    mk.div({ class: 'link-item' },
                        mk.button({
                            class: 'copy-icon', title: 'Copy',
                            type: 'button',
                            _onclick: copyLink,
                            tabindex: 0,
                        }, mk.span({ class: 'icon' }) ),
                        mk.span({}, link)
                    )
                );
            })
        )
    ];
}
}
</script>
<script>/* Boilerplate: script-link-titles */
"use strict";
{
let linkTitleData = {
"https://drafts.csswg.org/css-values-4/#length-value": "Expands to: advance measure | cap | ch | cm | dvb | dvh | dvi | dvmax | dvmin | dvw | em | ex | ic | in | lh | lvb | lvh | lvi | lvmax | lvmin | lvw | mm | pc | pt | px | rcap | rch | rem | rex | ric | rlh | svb | svh | svi | svmax | svmin | svw | vb | vh | vi | vmax | vmin | vw",
};

function setTypeTitles() {
	for(let el of document.querySelectorAll("a[href]")) {
		if(el.href in linkTitleData && !el.hasAttribute("title")) {
			el.setAttribute("title", linkTitleData[el.href]);
		}
	}
}

document.addEventListener("DOMContentLoaded", setTypeTitles);
}
</script>
<script>/* Boilerplate: script-ref-hints */
"use strict";
{
let refsData = {
"#monkey-patch": {"displayText":"monkey patch","export":true,"for_":[],"level":"","normative":true,"shortname":"design-principles","spec":"design-principles","status":"local","text":"monkey patch","type":"dfn","url":"#monkey-patch"},
"#propdef-font-size-adjust": {"displayText":"font-size-adjust","export":true,"for_":[],"level":"","normative":true,"shortname":"design-principles","spec":"design-principles","status":"local","text":"font-size-adjust","type":"property","url":"#propdef-font-size-adjust"},
"https://console.spec.whatwg.org/#namespacedef-console": {"displayText":"console","export":true,"for_":[],"level":"1","normative":true,"shortname":"console","spec":"console","status":"current","text":"console","type":"namespace","url":"https://console.spec.whatwg.org/#namespacedef-console"},
"https://dom.spec.whatwg.org/#abortcontroller": {"displayText":"AbortController","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"AbortController","type":"interface","url":"https://dom.spec.whatwg.org/#abortcontroller"},
"https://dom.spec.whatwg.org/#abortcontroller-signal-abort": {"displayText":"signal abort","export":true,"for_":["AbortController"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"signal abort","type":"dfn","url":"https://dom.spec.whatwg.org/#abortcontroller-signal-abort"},
"https://dom.spec.whatwg.org/#abortsignal": {"displayText":"AbortSignal","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"AbortSignal","type":"interface","url":"https://dom.spec.whatwg.org/#abortsignal"},
"https://dom.spec.whatwg.org/#abortsignal-aborted": {"displayText":"aborted","export":true,"for_":["AbortSignal"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"aborted","type":"dfn","url":"https://dom.spec.whatwg.org/#abortsignal-aborted"},
"https://dom.spec.whatwg.org/#abortsignal-add": {"displayText":"add","export":true,"for_":["AbortSignal"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"add","type":"dfn","url":"https://dom.spec.whatwg.org/#abortsignal-add"},
"https://dom.spec.whatwg.org/#abortsignal-remove": {"displayText":"remove","export":true,"for_":["AbortSignal"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"remove","type":"dfn","url":"https://dom.spec.whatwg.org/#abortsignal-remove"},
"https://dom.spec.whatwg.org/#concept-event-fire": {"displayText":"fire an event","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"fire an event","type":"dfn","url":"https://dom.spec.whatwg.org/#concept-event-fire"},
"https://dom.spec.whatwg.org/#dom-abortcontroller-abort": {"displayText":"abort()","export":true,"for_":["AbortController"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"abort()","type":"method","url":"https://dom.spec.whatwg.org/#dom-abortcontroller-abort"},
"https://dom.spec.whatwg.org/#dom-abortsignal-timeout": {"displayText":"timeout(milliseconds)","export":true,"for_":["AbortSignal"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"timeout(milliseconds)","type":"method","url":"https://dom.spec.whatwg.org/#dom-abortsignal-timeout"},
"https://dom.spec.whatwg.org/#dom-addeventlisteneroptions-once": {"displayText":"once","export":true,"for_":["AddEventListenerOptions"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"once","type":"dict-member","url":"https://dom.spec.whatwg.org/#dom-addeventlisteneroptions-once"},
"https://dom.spec.whatwg.org/#dom-childnode-remove": {"displayText":"remove()","export":true,"for_":["ChildNode"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"remove()","type":"method","url":"https://dom.spec.whatwg.org/#dom-childnode-remove"},
"https://dom.spec.whatwg.org/#dom-document-compatmode": {"displayText":"compatMode","export":true,"for_":["Document"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"compatMode","type":"attribute","url":"https://dom.spec.whatwg.org/#dom-document-compatmode"},
"https://dom.spec.whatwg.org/#dom-document-createattribute": {"displayText":"createAttribute(localName)","export":true,"for_":["Document"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"createAttribute(localName)","type":"method","url":"https://dom.spec.whatwg.org/#dom-document-createattribute"},
"https://dom.spec.whatwg.org/#dom-document-createelement": {"displayText":"createElement(localName)","export":true,"for_":["Document"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"createElement(localName)","type":"method","url":"https://dom.spec.whatwg.org/#dom-document-createelement"},
"https://dom.spec.whatwg.org/#dom-document-getelementsbytagname": {"displayText":"getElementsByTagName(qualifiedName)","export":true,"for_":["Document"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"getElementsByTagName(qualifiedName)","type":"method","url":"https://dom.spec.whatwg.org/#dom-document-getelementsbytagname"},
"https://dom.spec.whatwg.org/#dom-element-classlist": {"displayText":"classList","export":true,"for_":["Element"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"classList","type":"attribute","url":"https://dom.spec.whatwg.org/#dom-element-classlist"},
"https://dom.spec.whatwg.org/#dom-event-bubbles": {"displayText":"bubbles","export":true,"for_":["Event"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"bubbles","type":"attribute","url":"https://dom.spec.whatwg.org/#dom-event-bubbles"},
"https://dom.spec.whatwg.org/#dom-event-preventdefault": {"displayText":"preventDefault()","export":true,"for_":["Event"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"preventDefault()","type":"method","url":"https://dom.spec.whatwg.org/#dom-event-preventdefault"},
"https://dom.spec.whatwg.org/#dom-event-target": {"displayText":"target","export":true,"for_":["Event"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"target","type":"attribute","url":"https://dom.spec.whatwg.org/#dom-event-target"},
"https://dom.spec.whatwg.org/#dom-eventtarget-addeventlistener": {"displayText":"addEventListener(type, callback)","export":true,"for_":["EventTarget"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"addEventListener(type, callback)","type":"method","url":"https://dom.spec.whatwg.org/#dom-eventtarget-addeventlistener"},
"https://dom.spec.whatwg.org/#dom-nonelementparentnode-getelementbyid": {"displayText":"getElementById(elementId)","export":true,"for_":["NonElementParentNode"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"getElementById(elementId)","type":"method","url":"https://dom.spec.whatwg.org/#dom-nonelementparentnode-getelementbyid"},
"https://dom.spec.whatwg.org/#dom-parentnode-queryselectorall": {"displayText":"querySelectorAll(selectors)","export":true,"for_":["ParentNode"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"querySelectorAll(selectors)","type":"method","url":"https://dom.spec.whatwg.org/#dom-parentnode-queryselectorall"},
"https://dom.spec.whatwg.org/#domtokenlist": {"displayText":"DOMTokenList","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"DOMTokenList","type":"interface","url":"https://dom.spec.whatwg.org/#domtokenlist"},
"https://dom.spec.whatwg.org/#element": {"displayText":"Element","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"Element","type":"interface","url":"https://dom.spec.whatwg.org/#element"},
"https://dom.spec.whatwg.org/#event": {"displayText":"Event","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"Event","type":"interface","url":"https://dom.spec.whatwg.org/#event"},
"https://dom.spec.whatwg.org/#eventtarget": {"displayText":"EventTarget","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"EventTarget","type":"interface","url":"https://dom.spec.whatwg.org/#eventtarget"},
"https://dom.spec.whatwg.org/#htmlcollection": {"displayText":"HTMLCollection","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"HTMLCollection","type":"interface","url":"https://dom.spec.whatwg.org/#htmlcollection"},
"https://dom.spec.whatwg.org/#mutationobserver": {"displayText":"MutationObserver","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"MutationObserver","type":"interface","url":"https://dom.spec.whatwg.org/#mutationobserver"},
"https://dom.spec.whatwg.org/#namednodemap": {"displayText":"NamedNodeMap","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"NamedNodeMap","type":"interface","url":"https://dom.spec.whatwg.org/#namednodemap"},
"https://dom.spec.whatwg.org/#node": {"displayText":"Node","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"Node","type":"interface","url":"https://dom.spec.whatwg.org/#node"},
"https://dom.spec.whatwg.org/#nonelementparentnode": {"displayText":"NonElementParentNode","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"NonElementParentNode","type":"interface","url":"https://dom.spec.whatwg.org/#nonelementparentnode"},
"https://drafts.csswg.org/css-backgrounds-3/#propdef-background-image": {"displayText":"background-image","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-backgrounds","spec":"css-backgrounds-3","status":"current","text":"background-image","type":"property","url":"https://drafts.csswg.org/css-backgrounds-3/#propdef-background-image"},
"https://drafts.csswg.org/css-cascade-5/#actual-value": {"displayText":"actual value","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-cascade","spec":"css-cascade-5","status":"current","text":"actual value","type":"dfn","url":"https://drafts.csswg.org/css-cascade-5/#actual-value"},
"https://drafts.csswg.org/css-cascade-5/#computed-value": {"displayText":"computed value","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-cascade","spec":"css-cascade-5","status":"current","text":"computed value","type":"dfn","url":"https://drafts.csswg.org/css-cascade-5/#computed-value"},
"https://drafts.csswg.org/css-cascade-5/#css-inheritance": {"displayText":"inherit","export":true,"for_":["CSS"],"level":"5","normative":true,"shortname":"css-cascade","spec":"css-cascade-5","status":"current","text":"inherit","type":"dfn","url":"https://drafts.csswg.org/css-cascade-5/#css-inheritance"},
"https://drafts.csswg.org/css-cascade-5/#used-value": {"displayText":"used value","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-cascade","spec":"css-cascade-5","status":"current","text":"used value","type":"dfn","url":"https://drafts.csswg.org/css-cascade-5/#used-value"},
"https://drafts.csswg.org/css-conditional-3/#at-ruledef-supports": {"displayText":"@supports","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-conditional","spec":"css-conditional-3","status":"current","text":"@supports","type":"at-rule","url":"https://drafts.csswg.org/css-conditional-3/#at-ruledef-supports"},
"https://drafts.csswg.org/css-fonts-4/#propdef-font-size": {"displayText":"font-size","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-fonts","spec":"css-fonts-4","status":"current","text":"font-size","type":"property","url":"https://drafts.csswg.org/css-fonts-4/#propdef-font-size"},
"https://drafts.csswg.org/css-fonts-4/#propdef-font-size-adjust": {"displayText":"font-size-adjust","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-fonts","spec":"css-fonts-4","status":"current","text":"font-size-adjust","type":"property","url":"https://drafts.csswg.org/css-fonts-4/#propdef-font-size-adjust"},
"https://drafts.csswg.org/css-fonts-5/#valdef-font-size-adjust-none": {"displayText":"none","export":true,"for_":["font-size-adjust"],"level":"5","normative":true,"shortname":"css-fonts","spec":"css-fonts-5","status":"current","text":"none","type":"value","url":"https://drafts.csswg.org/css-fonts-5/#valdef-font-size-adjust-none"},
"https://drafts.csswg.org/css-inline-3/#propdef-initial-letter": {"displayText":"initial-letter","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-inline","spec":"css-inline-3","status":"current","text":"initial-letter","type":"property","url":"https://drafts.csswg.org/css-inline-3/#propdef-initial-letter"},
"https://drafts.csswg.org/css-inline-3/#propdef-initial-letter-align": {"displayText":"initial-letter-align","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-inline","spec":"css-inline-3","status":"current","text":"initial-letter-align","type":"property","url":"https://drafts.csswg.org/css-inline-3/#propdef-initial-letter-align"},
"https://drafts.csswg.org/css-values-4/#comb-one": {"displayText":"|","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"|","type":"grammar","url":"https://drafts.csswg.org/css-values-4/#comb-one"},
"https://drafts.csswg.org/css-values-4/#length-value": {"displayText":"<length>","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"<length>","type":"type","url":"https://drafts.csswg.org/css-values-4/#length-value"},
"https://drafts.csswg.org/css-values-4/#mult-opt": {"displayText":"?","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"?","type":"grammar","url":"https://drafts.csswg.org/css-values-4/#mult-opt"},
"https://drafts.csswg.org/css-values-4/#number-value": {"displayText":"<number>","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"current","text":"<number>","type":"type","url":"https://drafts.csswg.org/css-values-4/#number-value"},
"https://drafts.csswg.org/css2/#propdef-line-height": {"displayText":"line-height","export":true,"for_":[],"level":"2","normative":true,"shortname":"css","spec":"css2","status":"current","text":"line-height","type":"property","url":"https://drafts.csswg.org/css2/#propdef-line-height"},
"https://drafts.csswg.org/cssom-1/#dom-window-getcomputedstyle": {"displayText":"getComputedStyle(elt)","export":true,"for_":["Window"],"level":"1","normative":true,"shortname":"cssom","spec":"cssom-1","status":"current","text":"getComputedStyle(elt)","type":"method","url":"https://drafts.csswg.org/cssom-1/#dom-window-getcomputedstyle"},
"https://drafts.csswg.org/cssom-1/#resolved-value": {"displayText":"resolved value","export":true,"for_":[],"level":"1","normative":true,"shortname":"cssom","spec":"cssom-1","status":"current","text":"resolved value","type":"dfn","url":"https://drafts.csswg.org/cssom-1/#resolved-value"},
"https://drafts.csswg.org/cssom-view-1/#dom-element-getboundingclientrect": {"displayText":"getBoundingClientRect()","export":true,"for_":["Element"],"level":"1","normative":true,"shortname":"cssom-view","spec":"cssom-view-1","status":"current","text":"getBoundingClientRect()","type":"method","url":"https://drafts.csswg.org/cssom-view-1/#dom-element-getboundingclientrect"},
"https://drafts.csswg.org/cssom-view-1/#dom-element-scrolltop": {"displayText":"scrollTop","export":true,"for_":["Element"],"level":"1","normative":true,"shortname":"cssom-view","spec":"cssom-view-1","status":"current","text":"scrollTop","type":"attribute","url":"https://drafts.csswg.org/cssom-view-1/#dom-element-scrolltop"},
"https://drafts.csswg.org/cssom-view-1/#dom-htmlelement-offsettop": {"displayText":"offsetTop","export":true,"for_":["HTMLElement"],"level":"1","normative":true,"shortname":"cssom-view","spec":"cssom-view-1","status":"current","text":"offsetTop","type":"attribute","url":"https://drafts.csswg.org/cssom-view-1/#dom-htmlelement-offsettop"},
"https://drafts.csswg.org/mediaqueries-5/#valdef-custom-media-false": {"displayText":"false","export":true,"for_":["@custom-media"],"level":"5","normative":true,"shortname":"mediaqueries","spec":"mediaqueries-5","status":"current","text":"false","type":"value","url":"https://drafts.csswg.org/mediaqueries-5/#valdef-custom-media-false"},
"https://drafts.csswg.org/mediaqueries-5/#valdef-custom-media-true": {"displayText":"true","export":true,"for_":["@custom-media"],"level":"5","normative":true,"shortname":"mediaqueries","spec":"mediaqueries-5","status":"current","text":"true","type":"value","url":"https://drafts.csswg.org/mediaqueries-5/#valdef-custom-media-true"},
"https://drafts.csswg.org/web-animations-2/#dom-animationtimeline-currenttime": {"displayText":"currentTime","export":true,"for_":["AnimationTimeline"],"level":"2","normative":true,"shortname":"web-animations","spec":"web-animations-2","status":"current","text":"currentTime","type":"attribute","url":"https://drafts.csswg.org/web-animations-2/#dom-animationtimeline-currenttime"},
"https://drafts.fxtf.org/filter-effects-2/#propdef-backdrop-filter": {"displayText":"backdrop-filter","export":true,"for_":[],"level":"2","normative":true,"shortname":"filter-effects","spec":"filter-effects-2","status":"current","text":"backdrop-filter","type":"property","url":"https://drafts.fxtf.org/filter-effects-2/#propdef-backdrop-filter"},
"https://encoding.spec.whatwg.org/#textencoder": {"displayText":"TextEncoder","export":true,"for_":[],"level":"1","normative":true,"shortname":"encoding","spec":"encoding","status":"current","text":"TextEncoder","type":"interface","url":"https://encoding.spec.whatwg.org/#textencoder"},
"https://fetch.spec.whatwg.org/#body": {"displayText":"Body","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"Body","type":"interface","url":"https://fetch.spec.whatwg.org/#body"},
"https://fetch.spec.whatwg.org/#concept-http-fetch": {"displayText":"HTTP fetch","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"http fetch","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-http-fetch"},
"https://fetch.spec.whatwg.org/#dom-body-json": {"displayText":"json()","export":true,"for_":["Body"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"json()","type":"method","url":"https://fetch.spec.whatwg.org/#dom-body-json"},
"https://html.spec.whatwg.org/multipage/common-dom-interfaces.html#reflect": {"displayText":"reflect","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"reflect","type":"dfn","url":"https://html.spec.whatwg.org/multipage/common-dom-interfaces.html#reflect"},
"https://html.spec.whatwg.org/multipage/custom-elements.html#custom-element": {"displayText":"custom element","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"custom element","type":"dfn","url":"https://html.spec.whatwg.org/multipage/custom-elements.html#custom-element"},
"https://html.spec.whatwg.org/multipage/custom-elements.html#dom-customelementregistry-define": {"displayText":"define(name, constructor, options)","export":true,"for_":["CustomElementRegistry"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"define(name, constructor, options)","type":"method","url":"https://html.spec.whatwg.org/multipage/custom-elements.html#dom-customelementregistry-define"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active": {"displayText":"fully active","export":true,"for_":["Document"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"fully active","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active"},
"https://html.spec.whatwg.org/multipage/dom.html#classes": {"displayText":"class","export":true,"for_":["global"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"class","type":"element-attr","url":"https://html.spec.whatwg.org/multipage/dom.html#classes"},
"https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-element-innerhtml": {"displayText":"innerHTML","export":true,"for_":["Element"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"innerHTML","type":"attribute","url":"https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-element-innerhtml"},
"https://html.spec.whatwg.org/multipage/embedded-content.html#attr-img-ismap": {"displayText":"ismap","export":true,"for_":["img"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"ismap","type":"element-attr","url":"https://html.spec.whatwg.org/multipage/embedded-content.html#attr-img-ismap"},
"https://html.spec.whatwg.org/multipage/embedded-content.html#attr-img-src": {"displayText":"src","export":true,"for_":["img"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"src","type":"element-attr","url":"https://html.spec.whatwg.org/multipage/embedded-content.html#attr-img-src"},
"https://html.spec.whatwg.org/multipage/embedded-content.html#attr-img-srcset": {"displayText":"srcset","export":true,"for_":["img"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"srcset","type":"element-attr","url":"https://html.spec.whatwg.org/multipage/embedded-content.html#attr-img-srcset"},
"https://html.spec.whatwg.org/multipage/embedded-content.html#dom-img-ismap": {"displayText":"isMap","export":true,"for_":["HTMLImageElement"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"isMap","type":"attribute","url":"https://html.spec.whatwg.org/multipage/embedded-content.html#dom-img-ismap"},
"https://html.spec.whatwg.org/multipage/embedded-content.html#dom-img-width": {"displayText":"width","export":true,"for_":["HTMLImageElement"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"width","type":"attribute","url":"https://html.spec.whatwg.org/multipage/embedded-content.html#dom-img-width"},
"https://html.spec.whatwg.org/multipage/embedded-content.html#htmlimageelement": {"displayText":"HTMLImageElement","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"HTMLImageElement","type":"interface","url":"https://html.spec.whatwg.org/multipage/embedded-content.html#htmlimageelement"},
"https://html.spec.whatwg.org/multipage/embedded-content.html#the-img-element": {"displayText":"img","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"img","type":"element","url":"https://html.spec.whatwg.org/multipage/embedded-content.html#the-img-element"},
"https://html.spec.whatwg.org/multipage/embedded-content.html#the-source-element": {"displayText":"source","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"source","type":"element","url":"https://html.spec.whatwg.org/multipage/embedded-content.html#the-source-element"},
"https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#attr-fs-action": {"displayText":"action","export":true,"for_":["form","button"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"action","type":"element-attr","url":"https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#attr-fs-action"},
"https://html.spec.whatwg.org/multipage/form-elements.html#attr-option-selected": {"displayText":"selected","export":true,"for_":["option"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"selected","type":"element-attr","url":"https://html.spec.whatwg.org/multipage/form-elements.html#attr-option-selected"},
"https://html.spec.whatwg.org/multipage/form-elements.html#attr-select-multiple": {"displayText":"multiple","export":true,"for_":["select"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"multiple","type":"element-attr","url":"https://html.spec.whatwg.org/multipage/form-elements.html#attr-select-multiple"},
"https://html.spec.whatwg.org/multipage/form-elements.html#dom-option-defaultselected": {"displayText":"defaultSelected","export":true,"for_":["HTMLOptionElement"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"defaultSelected","type":"attribute","url":"https://html.spec.whatwg.org/multipage/form-elements.html#dom-option-defaultselected"},
"https://html.spec.whatwg.org/multipage/form-elements.html#the-button-element": {"displayText":"button","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"button","type":"element","url":"https://html.spec.whatwg.org/multipage/form-elements.html#the-button-element"},
"https://html.spec.whatwg.org/multipage/form-elements.html#the-datalist-element": {"displayText":"datalist","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"datalist","type":"element","url":"https://html.spec.whatwg.org/multipage/form-elements.html#the-datalist-element"},
"https://html.spec.whatwg.org/multipage/form-elements.html#the-option-element": {"displayText":"option","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"option","type":"element","url":"https://html.spec.whatwg.org/multipage/form-elements.html#the-option-element"},
"https://html.spec.whatwg.org/multipage/form-elements.html#the-output-element": {"displayText":"output","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"output","type":"element","url":"https://html.spec.whatwg.org/multipage/form-elements.html#the-output-element"},
"https://html.spec.whatwg.org/multipage/form-elements.html#the-select-element": {"displayText":"select","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"select","type":"element","url":"https://html.spec.whatwg.org/multipage/form-elements.html#the-select-element"},
"https://html.spec.whatwg.org/multipage/form-elements.html#the-textarea-element": {"displayText":"textarea","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"textarea","type":"element","url":"https://html.spec.whatwg.org/multipage/form-elements.html#the-textarea-element"},
"https://html.spec.whatwg.org/multipage/forms.html#attr-label-for": {"displayText":"for","export":true,"for_":["label"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"for","type":"element-attr","url":"https://html.spec.whatwg.org/multipage/forms.html#attr-label-for"},
"https://html.spec.whatwg.org/multipage/forms.html#the-form-element": {"displayText":"form","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"form","type":"element","url":"https://html.spec.whatwg.org/multipage/forms.html#the-form-element"},
"https://html.spec.whatwg.org/multipage/forms.html#the-label-element": {"displayText":"label","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"label","type":"element","url":"https://html.spec.whatwg.org/multipage/forms.html#the-label-element"},
"https://html.spec.whatwg.org/multipage/grouping-content.html#htmlhrelement": {"displayText":"HTMLHRElement","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"HTMLHRElement","type":"interface","url":"https://html.spec.whatwg.org/multipage/grouping-content.html#htmlhrelement"},
"https://html.spec.whatwg.org/multipage/grouping-content.html#the-figcaption-element": {"displayText":"figcaption","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"figcaption","type":"element","url":"https://html.spec.whatwg.org/multipage/grouping-content.html#the-figcaption-element"},
"https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-sandbox": {"displayText":"sandbox","export":true,"for_":["iframe"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"sandbox","type":"element-attr","url":"https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-sandbox"},
"https://html.spec.whatwg.org/multipage/imagebitmap-and-animations.html#dom-createimagebitmap": {"displayText":"createImageBitmap(image, options)","export":true,"for_":["WindowOrWorkerGlobalScope"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"createImageBitmap(image, options)","type":"method","url":"https://html.spec.whatwg.org/multipage/imagebitmap-and-animations.html#dom-createimagebitmap"},
"https://html.spec.whatwg.org/multipage/imagebitmap-and-animations.html#imagebitmap": {"displayText":"ImageBitmap","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"ImageBitmap","type":"interface","url":"https://html.spec.whatwg.org/multipage/imagebitmap-and-animations.html#imagebitmap"},
"https://html.spec.whatwg.org/multipage/indices.html#event-languagechange": {"displayText":"languagechange","export":true,"for_":["Window","WorkerGlobalScope"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"languagechange","type":"event","url":"https://html.spec.whatwg.org/multipage/indices.html#event-languagechange"},
"https://html.spec.whatwg.org/multipage/input.html#attr-input-accept": {"displayText":"accept","export":true,"for_":["input"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"accept","type":"element-attr","url":"https://html.spec.whatwg.org/multipage/input.html#attr-input-accept"},
"https://html.spec.whatwg.org/multipage/input.html#attr-input-checked": {"displayText":"checked","export":true,"for_":["input"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"checked","type":"element-attr","url":"https://html.spec.whatwg.org/multipage/input.html#attr-input-checked"},
"https://html.spec.whatwg.org/multipage/input.html#attr-input-list": {"displayText":"list","export":true,"for_":["input"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"list","type":"element-attr","url":"https://html.spec.whatwg.org/multipage/input.html#attr-input-list"},
"https://html.spec.whatwg.org/multipage/input.html#attr-input-type": {"displayText":"type","export":true,"for_":["input"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"type","type":"element-attr","url":"https://html.spec.whatwg.org/multipage/input.html#attr-input-type"},
"https://html.spec.whatwg.org/multipage/input.html#attr-input-value": {"displayText":"value","export":true,"for_":["input"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"value","type":"element-attr","url":"https://html.spec.whatwg.org/multipage/input.html#attr-input-value"},
"https://html.spec.whatwg.org/multipage/input.html#dom-input-defaultchecked": {"displayText":"defaultChecked","export":true,"for_":["HTMLInputElement"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"defaultChecked","type":"attribute","url":"https://html.spec.whatwg.org/multipage/input.html#dom-input-defaultchecked"},
"https://html.spec.whatwg.org/multipage/input.html#dom-input-defaultvalue": {"displayText":"defaultValue","export":true,"for_":["HTMLInputElement"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"defaultValue","type":"attribute","url":"https://html.spec.whatwg.org/multipage/input.html#dom-input-defaultvalue"},
"https://html.spec.whatwg.org/multipage/input.html#dom-input-value": {"displayText":"value","export":true,"for_":["HTMLInputElement"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"value","type":"attribute","url":"https://html.spec.whatwg.org/multipage/input.html#dom-input-value"},
"https://html.spec.whatwg.org/multipage/input.html#htmlinputelement": {"displayText":"HTMLInputElement","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"HTMLInputElement","type":"interface","url":"https://html.spec.whatwg.org/multipage/input.html#htmlinputelement"},
"https://html.spec.whatwg.org/multipage/input.html#the-input-element": {"displayText":"input","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"input","type":"element","url":"https://html.spec.whatwg.org/multipage/input.html#the-input-element"},
"https://html.spec.whatwg.org/multipage/interaction.html#dom-useractivation-isactive": {"displayText":"isActive","export":true,"for_":["UserActivation"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"isActive","type":"attribute","url":"https://html.spec.whatwg.org/multipage/interaction.html#dom-useractivation-isactive"},
"https://html.spec.whatwg.org/multipage/interaction.html#transient-activation": {"displayText":"transient activation","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"transient activation","type":"dfn","url":"https://html.spec.whatwg.org/multipage/interaction.html#transient-activation"},
"https://html.spec.whatwg.org/multipage/interactive-elements.html#attr-details-open": {"displayText":"open","export":true,"for_":["details"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"open","type":"element-attr","url":"https://html.spec.whatwg.org/multipage/interactive-elements.html#attr-details-open"},
"https://html.spec.whatwg.org/multipage/interactive-elements.html#dom-dialog-showmodal": {"displayText":"showModal()","export":true,"for_":["HTMLDialogElement"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"showModal()","type":"method","url":"https://html.spec.whatwg.org/multipage/interactive-elements.html#dom-dialog-showmodal"},
"https://html.spec.whatwg.org/multipage/interactive-elements.html#the-details-element": {"displayText":"details","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"details","type":"element","url":"https://html.spec.whatwg.org/multipage/interactive-elements.html#the-details-element"},
"https://html.spec.whatwg.org/multipage/interactive-elements.html#the-dialog-element": {"displayText":"dialog","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"dialog","type":"element","url":"https://html.spec.whatwg.org/multipage/interactive-elements.html#the-dialog-element"},
"https://html.spec.whatwg.org/multipage/links.html#attr-hyperlink-href": {"displayText":"href","export":true,"for_":["a","area"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"href","type":"element-attr","url":"https://html.spec.whatwg.org/multipage/links.html#attr-hyperlink-href"},
"https://html.spec.whatwg.org/multipage/links.html#ping": {"displayText":"ping","export":true,"for_":["a","area"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"ping","type":"element-attr","url":"https://html.spec.whatwg.org/multipage/links.html#ping"},
"https://html.spec.whatwg.org/multipage/media.html#attr-video-poster": {"displayText":"poster","export":true,"for_":["video"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"poster","type":"element-attr","url":"https://html.spec.whatwg.org/multipage/media.html#attr-video-poster"},
"https://html.spec.whatwg.org/multipage/media.html#audio": {"displayText":"audio","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"audio","type":"element","url":"https://html.spec.whatwg.org/multipage/media.html#audio"},
"https://html.spec.whatwg.org/multipage/media.html#dom-media-play": {"displayText":"play()","export":true,"for_":["HTMLMediaElement"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"play()","type":"method","url":"https://html.spec.whatwg.org/multipage/media.html#dom-media-play"},
"https://html.spec.whatwg.org/multipage/media.html#event-media-canplaythrough": {"displayText":"canplaythrough","export":true,"for_":["HTMLMediaElement"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"canplaythrough","type":"event","url":"https://html.spec.whatwg.org/multipage/media.html#event-media-canplaythrough"},
"https://html.spec.whatwg.org/multipage/media.html#event-media-resize": {"displayText":"resize","export":true,"for_":["HTMLMediaElement"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"resize","type":"event","url":"https://html.spec.whatwg.org/multipage/media.html#event-media-resize"},
"https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement": {"displayText":"HTMLMediaElement","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"HTMLMediaElement","type":"interface","url":"https://html.spec.whatwg.org/multipage/media.html#htmlmediaelement"},
"https://html.spec.whatwg.org/multipage/media.html#video": {"displayText":"video","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"video","type":"element","url":"https://html.spec.whatwg.org/multipage/media.html#video"},
"https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-open": {"displayText":"open(url, target, features)","export":true,"for_":["Window"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"open(url, target, features)","type":"method","url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-open"},
"https://html.spec.whatwg.org/multipage/nav-history-apis.html#history-3": {"displayText":"History","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"History","type":"interface","url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#history-3"},
"https://html.spec.whatwg.org/multipage/nav-history-apis.html#window": {"displayText":"Window","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"Window","type":"interface","url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"},
"https://html.spec.whatwg.org/multipage/obsolete.html#acronym": {"displayText":"acronym","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"acronym","type":"element","url":"https://html.spec.whatwg.org/multipage/obsolete.html#acronym"},
"https://html.spec.whatwg.org/multipage/obsolete.html#dom-document-bgcolor": {"displayText":"bgColor","export":true,"for_":["Document"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"bgColor","type":"attribute","url":"https://html.spec.whatwg.org/multipage/obsolete.html#dom-document-bgcolor"},
"https://html.spec.whatwg.org/multipage/scripting.html#attr-script-src": {"displayText":"src","export":true,"for_":["script"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"src","type":"element-attr","url":"https://html.spec.whatwg.org/multipage/scripting.html#attr-script-src"},
"https://html.spec.whatwg.org/multipage/scripting.html#script": {"displayText":"script","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"script","type":"element","url":"https://html.spec.whatwg.org/multipage/scripting.html#script"},
"https://html.spec.whatwg.org/multipage/semantics.html#attr-link-href": {"displayText":"href","export":true,"for_":["link"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"href","type":"element-attr","url":"https://html.spec.whatwg.org/multipage/semantics.html#attr-link-href"},
"https://html.spec.whatwg.org/multipage/semantics.html#attr-link-rel": {"displayText":"rel","export":true,"for_":["link"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"rel","type":"element-attr","url":"https://html.spec.whatwg.org/multipage/semantics.html#attr-link-rel"},
"https://html.spec.whatwg.org/multipage/semantics.html#htmlhtmlelement": {"displayText":"HTMLHtmlElement","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"HTMLHtmlElement","type":"interface","url":"https://html.spec.whatwg.org/multipage/semantics.html#htmlhtmlelement"},
"https://html.spec.whatwg.org/multipage/semantics.html#the-link-element": {"displayText":"link","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"link","type":"element","url":"https://html.spec.whatwg.org/multipage/semantics.html#the-link-element"},
"https://html.spec.whatwg.org/multipage/semantics.html#the-style-element": {"displayText":"style","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"style","type":"element","url":"https://html.spec.whatwg.org/multipage/semantics.html#the-style-element"},
"https://html.spec.whatwg.org/multipage/system-state.html#navigator": {"displayText":"Navigator","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"Navigator","type":"interface","url":"https://html.spec.whatwg.org/multipage/system-state.html#navigator"},
"https://html.spec.whatwg.org/multipage/text-level-semantics.html#attr-q-cite": {"displayText":"cite","export":true,"for_":["q"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"cite","type":"element-attr","url":"https://html.spec.whatwg.org/multipage/text-level-semantics.html#attr-q-cite"},
"https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element": {"displayText":"a","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"a","type":"element","url":"https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element"},
"https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-abbr-element": {"displayText":"abbr","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"abbr","type":"element","url":"https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-abbr-element"},
"https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-q-element": {"displayText":"q","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"q","type":"element","url":"https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-q-element"},
"https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-alert-noargs": {"displayText":"alert()","export":true,"for_":["Window"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"alert()","type":"method","url":"https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-alert-noargs"},
"https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-settimeout": {"displayText":"setTimeout(handler, timeout, ...arguments)","export":true,"for_":["WindowOrWorkerGlobalScope"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"setTimeout(handler, timeout, ...arguments)","type":"method","url":"https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-settimeout"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-task": {"displayText":"task","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"task","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-task"},
"https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source": {"displayText":"DOM manipulation task source","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"dom manipulation task source","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"},
"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes": {"displayText":"event handler IDL attribute","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"event handler idl attribute","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes"},
"https://html.spec.whatwg.org/multipage/webappapis.html#event-loop": {"displayText":"event loop","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"event loop","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-loop"},
"https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler": {"displayText":"EventHandler","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"EventHandler","type":"typedef","url":"https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"},
"https://html.spec.whatwg.org/multipage/webappapis.html#globaleventhandlers": {"displayText":"GlobalEventHandlers","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"GlobalEventHandlers","type":"interface","url":"https://html.spec.whatwg.org/multipage/webappapis.html#globaleventhandlers"},
"https://html.spec.whatwg.org/multipage/webappapis.html#microtask": {"displayText":"microtask","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"microtask","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#microtask"},
"https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source": {"displayText":"networking task source","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"networking task source","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source"},
"https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task": {"displayText":"queue a global task","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"queue a global task","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task"},
"https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task": {"displayText":"queue a task","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"queue a task","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"},
"https://html.spec.whatwg.org/multipage/webappapis.html#queue-an-element-task": {"displayText":"queue an element task","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"queue an element task","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#queue-an-element-task"},
"https://html.spec.whatwg.org/multipage/webappapis.html#task-source": {"displayText":"task source","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"task source","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#task-source"},
"https://html.spec.whatwg.org/multipage/webappapis.html#update-the-rendering": {"displayText":"update the rendering","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"update the rendering","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#update-the-rendering"},
"https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source": {"displayText":"user interaction task source","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"user interaction task source","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source"},
"https://html.spec.whatwg.org/multipage/webappapis.html#windoweventhandlers": {"displayText":"WindowEventHandlers","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"WindowEventHandlers","type":"interface","url":"https://html.spec.whatwg.org/multipage/webappapis.html#windoweventhandlers"},
"https://html.spec.whatwg.org/multipage/webstorage.html#dom-localstorage": {"displayText":"localStorage","export":true,"for_":["WindowLocalStorage"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"localStorage","type":"attribute","url":"https://html.spec.whatwg.org/multipage/webstorage.html#dom-localstorage"},
"https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope": {"displayText":"DedicatedWorkerGlobalScope","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"DedicatedWorkerGlobalScope","type":"interface","url":"https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"},
"https://html.spec.whatwg.org/multipage/workers.html#workertype": {"displayText":"WorkerType","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"WorkerType","type":"enum","url":"https://html.spec.whatwg.org/multipage/workers.html#workertype"},
"https://infra.spec.whatwg.org/#ascii-code-point": {"displayText":"ASCII code point","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"ascii code point","type":"dfn","url":"https://infra.spec.whatwg.org/#ascii-code-point"},
"https://infra.spec.whatwg.org/#code-unit": {"displayText":"code unit","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"code unit","type":"dfn","url":"https://infra.spec.whatwg.org/#code-unit"},
"https://infra.spec.whatwg.org/#implementation-defined": {"displayText":"implementation-defined","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"implementation-defined","type":"dfn","url":"https://infra.spec.whatwg.org/#implementation-defined"},
"https://infra.spec.whatwg.org/#scalar-value": {"displayText":"scalar value","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"scalar value","type":"dfn","url":"https://infra.spec.whatwg.org/#scalar-value"},
"https://infra.spec.whatwg.org/#scalar-value-string": {"displayText":"scalar value string","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"scalar value string","type":"dfn","url":"https://infra.spec.whatwg.org/#scalar-value-string"},
"https://infra.spec.whatwg.org/#string": {"displayText":"string","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"string","type":"dfn","url":"https://infra.spec.whatwg.org/#string"},
"https://infra.spec.whatwg.org/#surrogate": {"displayText":"surrogate","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"surrogate","type":"dfn","url":"https://infra.spec.whatwg.org/#surrogate"},
"https://tc39.es/ecma262/multipage/control-abstraction-objects.html#sec-promise.prototype.then": {"displayText":"then(onFulfilled, onRejected)","export":true,"for_":["Promise"],"level":"1","normative":true,"shortname":"ecmascript","spec":"ecmascript","status":"current","text":"then(onFulfilled, onRejected)","type":"method","url":"https://tc39.es/ecma262/multipage/control-abstraction-objects.html#sec-promise.prototype.then"},
"https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-error-objects": {"displayText":"Error","export":true,"for_":[],"level":"1","normative":true,"shortname":"ecmascript","spec":"ecmascript","status":"current","text":"Error","type":"exception","url":"https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-error-objects"},
"https://tc39.es/ecma262/multipage/managing-memory.html#sec-finalization-registry-objects": {"displayText":"FinalizationRegistry","export":true,"for_":[],"level":"1","normative":true,"shortname":"ecmascript","spec":"ecmascript","status":"current","text":"FinalizationRegistry","type":"interface","url":"https://tc39.es/ecma262/multipage/managing-memory.html#sec-finalization-registry-objects"},
"https://tc39.es/ecma262/multipage/managing-memory.html#sec-weak-ref-objects": {"displayText":"WeakRef","export":true,"for_":[],"level":"1","normative":true,"shortname":"ecmascript","spec":"ecmascript","status":"current","text":"WeakRef","type":"interface","url":"https://tc39.es/ecma262/multipage/managing-memory.html#sec-weak-ref-objects"},
"https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-bigint-objects": {"displayText":"BigInt","export":true,"for_":[],"level":"1","normative":true,"shortname":"ecmascript","spec":"ecmascript","status":"current","text":"BigInt","type":"interface","url":"https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-bigint-objects"},
"https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-date-objects": {"displayText":"Date","export":true,"for_":[],"level":"1","normative":true,"shortname":"ecmascript","spec":"ecmascript","status":"current","text":"Date","type":"interface","url":"https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-date-objects"},
"https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-date.now": {"displayText":"now()","export":true,"for_":["Date"],"level":"1","normative":true,"shortname":"ecmascript","spec":"ecmascript","status":"current","text":"now()","type":"method","url":"https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-date.now"},
"https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects": {"displayText":"Number","export":true,"for_":[],"level":"1","normative":true,"shortname":"ecmascript","spec":"ecmascript","status":"current","text":"Number","type":"interface","url":"https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects"},
"https://url.spec.whatwg.org/#concept-url": {"displayText":"URL","export":true,"for_":[],"level":"1","normative":true,"shortname":"url","spec":"url","status":"current","text":"url","type":"dfn","url":"https://url.spec.whatwg.org/#concept-url"},
"https://url.spec.whatwg.org/#dom-urlsearchparams-delete": {"displayText":"delete(name)","export":true,"for_":["URLSearchParams"],"level":"1","normative":true,"shortname":"url","spec":"url","status":"current","text":"delete(name)","type":"method","url":"https://url.spec.whatwg.org/#dom-urlsearchparams-delete"},
"https://url.spec.whatwg.org/#dom-urlsearchparams-has": {"displayText":"has(name)","export":true,"for_":["URLSearchParams"],"level":"1","normative":true,"shortname":"url","spec":"url","status":"current","text":"has(name)","type":"method","url":"https://url.spec.whatwg.org/#dom-urlsearchparams-has"},
"https://url.spec.whatwg.org/#urlsearchparams": {"displayText":"URLSearchParams","export":true,"for_":[],"level":"1","normative":true,"shortname":"url","spec":"url","status":"current","text":"URLSearchParams","type":"interface","url":"https://url.spec.whatwg.org/#urlsearchparams"},
"https://w3c.github.io/FileAPI/#dfn-Blob": {"displayText":"Blob","export":true,"for_":[],"level":"1","normative":true,"shortname":"fileapi","spec":"fileapi","status":"current","text":"Blob","type":"interface","url":"https://w3c.github.io/FileAPI/#dfn-Blob"},
"https://w3c.github.io/IndexedDB/#idbdatabase": {"displayText":"IDBDatabase","export":true,"for_":[],"level":"3","normative":true,"shortname":"indexeddb","spec":"indexeddb-3","status":"current","text":"IDBDatabase","type":"interface","url":"https://w3c.github.io/IndexedDB/#idbdatabase"},
"https://w3c.github.io/IntersectionObserver/#intersectionobserver": {"displayText":"IntersectionObserver","export":true,"for_":[],"level":"1","normative":true,"shortname":"intersection-observer","spec":"intersection-observer","status":"current","text":"IntersectionObserver","type":"interface","url":"https://w3c.github.io/IntersectionObserver/#intersectionobserver"},
"https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration-task-queue": {"displayText":"task queues","export":true,"for_":["service worker registration"],"level":"1","normative":true,"shortname":"service-workers","spec":"service-workers","status":"current","text":"task queues","type":"dfn","url":"https://w3c.github.io/ServiceWorker/#dfn-service-worker-registration-task-queue"},
"https://w3c.github.io/ServiceWorker/#dom-fetchevent-respondwith": {"displayText":"respondWith(r)","export":true,"for_":["FetchEvent"],"level":"1","normative":true,"shortname":"service-workers","spec":"service-workers","status":"current","text":"respondWith(r)","type":"method","url":"https://w3c.github.io/ServiceWorker/#dom-fetchevent-respondwith"},
"https://w3c.github.io/gamepad/#dom-gamepad": {"displayText":"Gamepad","export":true,"for_":[],"level":"1","normative":true,"shortname":"gamepad","spec":"gamepad","status":"current","text":"Gamepad","type":"interface","url":"https://w3c.github.io/gamepad/#dom-gamepad"},
"https://w3c.github.io/hr-time/#dom-domhighrestimestamp": {"displayText":"DOMHighResTimeStamp","export":true,"for_":[],"level":"3","normative":true,"shortname":"hr-time","spec":"hr-time-3","status":"current","text":"DOMHighResTimeStamp","type":"typedef","url":"https://w3c.github.io/hr-time/#dom-domhighrestimestamp"},
"https://w3c.github.io/hr-time/#dom-performance-now": {"displayText":"now()","export":true,"for_":["Performance"],"level":"3","normative":true,"shortname":"hr-time","spec":"hr-time-3","status":"current","text":"now()","type":"method","url":"https://w3c.github.io/hr-time/#dom-performance-now"},
"https://w3c.github.io/i18n-glossary/#dfn-percent-encoding": {"displayText":"percent-encoding","export":true,"for_":[],"level":"1","normative":false,"shortname":"i18n-glossary","spec":"i18n-glossary","status":"current","text":"percent-encoding","type":"dfn","url":"https://w3c.github.io/i18n-glossary/#dfn-percent-encoding"},
"https://w3c.github.io/manifest/#dfn-short_name": {"displayText":"short_name","export":true,"for_":["manifest"],"level":"1","normative":true,"shortname":"appmanifest","spec":"appmanifest","status":"current","text":"short_name","type":"dfn","url":"https://w3c.github.io/manifest/#dfn-short_name"},
"https://w3c.github.io/mediacapture-screen-share/#dom-capturecontroller-setfocusbehavior": {"displayText":"setFocusBehavior()","export":true,"for_":["CaptureController"],"level":"1","normative":true,"shortname":"screen-capture","spec":"screen-capture","status":"current","text":"setFocusBehavior()","type":"method","url":"https://w3c.github.io/mediacapture-screen-share/#dom-capturecontroller-setfocusbehavior"},
"https://w3c.github.io/mediacapture-screen-share/#dom-mediadevices-getdisplaymedia": {"displayText":"getDisplayMedia()","export":true,"for_":["MediaDevices"],"level":"1","normative":true,"shortname":"screen-capture","spec":"screen-capture","status":"current","text":"getDisplayMedia()","type":"method","url":"https://w3c.github.io/mediacapture-screen-share/#dom-mediadevices-getdisplaymedia"},
"https://w3c.github.io/payment-request/#dfn-state": {"displayText":"[[state]]","export":false,"for_":["PaymentRequest"],"level":"1","normative":true,"shortname":"payment-request","spec":"payment-request","status":"current","text":"[[state]]","type":"attribute","url":"https://w3c.github.io/payment-request/#dfn-state"},
"https://w3c.github.io/payment-request/#dom-paymentrequest": {"displayText":"PaymentRequest","export":true,"for_":[],"level":"1","normative":true,"shortname":"payment-request","spec":"payment-request","status":"current","text":"PaymentRequest","type":"interface","url":"https://w3c.github.io/payment-request/#dom-paymentrequest"},
"https://w3c.github.io/payment-request/#dom-paymentrequest-show": {"displayText":"show()","export":true,"for_":["PaymentRequest"],"level":"1","normative":true,"shortname":"payment-request","spec":"payment-request","status":"current","text":"show()","type":"method","url":"https://w3c.github.io/payment-request/#dom-paymentrequest-show"},
"https://w3c.github.io/permissions/#dfn-prompt-the-user-to-choose": {"displayText":"prompt the user to choose","export":true,"for_":[],"level":"1","normative":true,"shortname":"permissions","spec":"permissions","status":"current","text":"prompt the user to choose","type":"dfn","url":"https://w3c.github.io/permissions/#dfn-prompt-the-user-to-choose"},
"https://w3c.github.io/permissions/#dfn-request-permission-to-use": {"displayText":"request permission to use","export":true,"for_":[],"level":"1","normative":true,"shortname":"permissions","spec":"permissions","status":"current","text":"request permission to use","type":"dfn","url":"https://w3c.github.io/permissions/#dfn-request-permission-to-use"},
"https://w3c.github.io/pointerevents/#dom-pointerevent": {"displayText":"PointerEvent","export":true,"for_":[],"level":"3","normative":true,"shortname":"pointerevents","spec":"pointerevents3","status":"current","text":"PointerEvent","type":"interface","url":"https://w3c.github.io/pointerevents/#dom-pointerevent"},
"https://w3c.github.io/pointerevents/#dom-pointerevent-pointerid": {"displayText":"pointerId","export":true,"for_":["PointerEvent"],"level":"3","normative":true,"shortname":"pointerevents","spec":"pointerevents3","status":"current","text":"pointerId","type":"attribute","url":"https://w3c.github.io/pointerevents/#dom-pointerevent-pointerid"},
"https://w3c.github.io/remote-playback/#dfn-remote-playback-devices": {"displayText":"remote playback devices","export":false,"for_":[],"level":"1","normative":true,"shortname":"remote-playback","spec":"remote-playback","status":"current","text":"remote playback devices","type":"dfn","url":"https://w3c.github.io/remote-playback/#dfn-remote-playback-devices"},
"https://w3c.github.io/remote-playback/#dom-remoteplayback": {"displayText":"RemotePlayback","export":true,"for_":[],"level":"1","normative":true,"shortname":"remote-playback","spec":"remote-playback","status":"current","text":"RemotePlayback","type":"interface","url":"https://w3c.github.io/remote-playback/#dom-remoteplayback"},
"https://w3c.github.io/requestidlecallback/#dom-idledeadline-timeremaining": {"displayText":"timeRemaining()","export":true,"for_":["IdleDeadline"],"level":"1","normative":true,"shortname":"requestidlecallback","spec":"requestidlecallback","status":"current","text":"timeRemaining()","type":"method","url":"https://w3c.github.io/requestidlecallback/#dom-idledeadline-timeremaining"},
"https://w3c.github.io/uievents/#dom-inputevent-inputtype": {"displayText":"inputType","export":true,"for_":["InputEvent"],"level":"1","normative":true,"shortname":"uievents","spec":"uievents","status":"current","text":"inputType","type":"attribute","url":"https://w3c.github.io/uievents/#dom-inputevent-inputtype"},
"https://w3c.github.io/uievents/#inputevent": {"displayText":"InputEvent","export":true,"for_":[],"level":"1","normative":true,"shortname":"uievents","spec":"uievents","status":"current","text":"InputEvent","type":"interface","url":"https://w3c.github.io/uievents/#inputevent"},
"https://w3c.github.io/uievents/#keyboardevent": {"displayText":"KeyboardEvent","export":true,"for_":[],"level":"1","normative":true,"shortname":"uievents","spec":"uievents","status":"current","text":"KeyboardEvent","type":"interface","url":"https://w3c.github.io/uievents/#keyboardevent"},
"https://w3c.github.io/uievents/#mouseevent": {"displayText":"MouseEvent","export":true,"for_":[],"level":"1","normative":true,"shortname":"uievents","spec":"uievents","status":"current","text":"MouseEvent","type":"interface","url":"https://w3c.github.io/uievents/#mouseevent"},
"https://w3c.github.io/web-locks/#lockmanager": {"displayText":"LockManager","export":true,"for_":[],"level":"1","normative":true,"shortname":"web-locks","spec":"web-locks","status":"current","text":"LockManager","type":"interface","url":"https://w3c.github.io/web-locks/#lockmanager"},
"https://w3c.github.io/webappsec-credential-management/#dom-credential-id": {"displayText":"id","export":true,"for_":["Credential"],"level":"1","normative":true,"shortname":"credential-management","spec":"credential-management-1","status":"current","text":"id","type":"attribute","url":"https://w3c.github.io/webappsec-credential-management/#dom-credential-id"},
"https://w3c.github.io/webappsec-referrer-policy/#dom-referrerpolicy-no-referrer-when-downgrade": {"displayText":"\"no-referrer-when-downgrade\"","export":true,"for_":["ReferrerPolicy"],"level":"1","normative":true,"shortname":"referrer-policy","spec":"referrer-policy","status":"current","text":"\"no-referrer-when-downgrade\"","type":"enum-value","url":"https://w3c.github.io/webappsec-referrer-policy/#dom-referrerpolicy-no-referrer-when-downgrade"},
"https://w3c.github.io/webcrypto/#dfn-Crypto": {"displayText":"Crypto","export":true,"for_":[],"level":"2","normative":true,"shortname":"webcrypto","spec":"webcrypto-2","status":"current","text":"Crypto","type":"interface","url":"https://w3c.github.io/webcrypto/#dfn-Crypto"},
"https://w3c.github.io/webrtc-pc/#dom-rtcdtmfsender": {"displayText":"RTCDTMFSender","export":true,"for_":[],"level":"1","normative":true,"shortname":"webrtc","spec":"webrtc","status":"current","text":"RTCDTMFSender","type":"interface","url":"https://w3c.github.io/webrtc-pc/#dom-rtcdtmfsender"},
"https://webaudio.github.io/web-audio-api/#AudioWorklet": {"displayText":"AudioWorklet","export":true,"for_":[],"level":"1","normative":true,"shortname":"webaudio","spec":"webaudio-1.0","status":"current","text":"AudioWorklet","type":"interface","url":"https://webaudio.github.io/web-audio-api/#AudioWorklet"},
"https://webaudio.github.io/web-audio-api/#ScriptProcessorNode": {"displayText":"ScriptProcessorNode","export":true,"for_":[],"level":"1","normative":true,"shortname":"webaudio","spec":"webaudio-1.0","status":"current","text":"ScriptProcessorNode","type":"interface","url":"https://webaudio.github.io/web-audio-api/#ScriptProcessorNode"},
"https://webidl.spec.whatwg.org/#Clamp": {"displayText":"Clamp","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"Clamp","type":"extended-attribute","url":"https://webidl.spec.whatwg.org/#Clamp"},
"https://webidl.spec.whatwg.org/#EnforceRange": {"displayText":"EnforceRange","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"EnforceRange","type":"extended-attribute","url":"https://webidl.spec.whatwg.org/#EnforceRange"},
"https://webidl.spec.whatwg.org/#Exposed": {"displayText":"Exposed","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"Exposed","type":"extended-attribute","url":"https://webidl.spec.whatwg.org/#Exposed"},
"https://webidl.spec.whatwg.org/#SecureContext": {"displayText":"SecureContext","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"SecureContext","type":"extended-attribute","url":"https://webidl.spec.whatwg.org/#SecureContext"},
"https://webidl.spec.whatwg.org/#dfn-maplike": {"displayText":"maplike","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"maplike","type":"dfn","url":"https://webidl.spec.whatwg.org/#dfn-maplike"},
"https://webidl.spec.whatwg.org/#dfn-namespace": {"displayText":"namespace","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"namespace","type":"dfn","url":"https://webidl.spec.whatwg.org/#dfn-namespace"},
"https://webidl.spec.whatwg.org/#dfn-observable-array-type": {"displayText":"observable array type","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"observable array type","type":"dfn","url":"https://webidl.spec.whatwg.org/#dfn-observable-array-type"},
"https://webidl.spec.whatwg.org/#dfn-partial-dictionary": {"displayText":"partial dictionary","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"partial dictionary","type":"dfn","url":"https://webidl.spec.whatwg.org/#dfn-partial-dictionary"},
"https://webidl.spec.whatwg.org/#dfn-partial-interface": {"displayText":"partial interface","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"partial interface","type":"dfn","url":"https://webidl.spec.whatwg.org/#dfn-partial-interface"},
"https://webidl.spec.whatwg.org/#dfn-setlike": {"displayText":"setlike","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"setlike","type":"dfn","url":"https://webidl.spec.whatwg.org/#dfn-setlike"},
"https://webidl.spec.whatwg.org/#exceptiondef-typeerror": {"displayText":"TypeError","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"TypeError","type":"exception","url":"https://webidl.spec.whatwg.org/#exceptiondef-typeerror"},
"https://webidl.spec.whatwg.org/#idl-ArrayBuffer": {"displayText":"ArrayBuffer","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"ArrayBuffer","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-ArrayBuffer"},
"https://webidl.spec.whatwg.org/#idl-ByteString": {"displayText":"ByteString","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"ByteString","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-ByteString"},
"https://webidl.spec.whatwg.org/#idl-DOMException": {"displayText":"DOMException","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"DOMException","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-DOMException"},
"https://webidl.spec.whatwg.org/#idl-DOMString": {"displayText":"DOMString","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"DOMString","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-DOMString"},
"https://webidl.spec.whatwg.org/#idl-Float32Array": {"displayText":"Float32Array","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"Float32Array","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-Float32Array"},
"https://webidl.spec.whatwg.org/#idl-SharedArrayBuffer": {"displayText":"SharedArrayBuffer","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"SharedArrayBuffer","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-SharedArrayBuffer"},
"https://webidl.spec.whatwg.org/#idl-USVString": {"displayText":"USVString","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"USVString","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-USVString"},
"https://webidl.spec.whatwg.org/#idl-Uint8Array": {"displayText":"Uint8Array","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"Uint8Array","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-Uint8Array"},
"https://webidl.spec.whatwg.org/#idl-bigint": {"displayText":"bigint","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"bigint","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-bigint"},
"https://webidl.spec.whatwg.org/#idl-byte": {"displayText":"byte","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"byte","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-byte"},
"https://webidl.spec.whatwg.org/#idl-double": {"displayText":"double","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"double","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-double"},
"https://webidl.spec.whatwg.org/#idl-long": {"displayText":"long","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"long","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-long"},
"https://webidl.spec.whatwg.org/#idl-long-long": {"displayText":"long long","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"long long","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-long-long"},
"https://webidl.spec.whatwg.org/#idl-octet": {"displayText":"octet","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"octet","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-octet"},
"https://webidl.spec.whatwg.org/#idl-promise": {"displayText":"Promise","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"Promise","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-promise"},
"https://webidl.spec.whatwg.org/#idl-short": {"displayText":"short","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"short","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-short"},
"https://webidl.spec.whatwg.org/#idl-undefined": {"displayText":"undefined","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"undefined","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-undefined"},
"https://webidl.spec.whatwg.org/#idl-unrestricted-double": {"displayText":"unrestricted double","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"unrestricted double","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-unrestricted-double"},
"https://webidl.spec.whatwg.org/#idl-unsigned-long-long": {"displayText":"unsigned long long","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"unsigned long long","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-unsigned-long-long"},
"https://webidl.spec.whatwg.org/#sequence-type": {"displayText":"sequence type","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"sequence type","type":"dfn","url":"https://webidl.spec.whatwg.org/#sequence-type"},
"https://www.rfc-editor.org/rfc/rfc9110.html#name-accept": {"displayText":"Accept","export":true,"for_":[],"level":"","normative":true,"shortname":"rfc9110","spec":"rfc9110","status":"anchor-block","text":"accept","type":"http-header","url":"https://www.rfc-editor.org/rfc/rfc9110.html#name-accept"},
"https://xhr.spec.whatwg.org/#dom-progressevent-loaded": {"displayText":"loaded","export":true,"for_":["ProgressEvent"],"level":"1","normative":true,"shortname":"xhr","spec":"xhr","status":"current","text":"loaded","type":"attribute","url":"https://xhr.spec.whatwg.org/#dom-progressevent-loaded"},
"https://xhr.spec.whatwg.org/#dom-progressevent-total": {"displayText":"total","export":true,"for_":["ProgressEvent"],"level":"1","normative":true,"shortname":"xhr","spec":"xhr","status":"current","text":"total","type":"attribute","url":"https://xhr.spec.whatwg.org/#dom-progressevent-total"},
"https://xhr.spec.whatwg.org/#dom-xmlhttprequest-readystate": {"displayText":"readyState","export":true,"for_":["XMLHttpRequest"],"level":"1","normative":true,"shortname":"xhr","spec":"xhr","status":"current","text":"readyState","type":"attribute","url":"https://xhr.spec.whatwg.org/#dom-xmlhttprequest-readystate"},
"https://xhr.spec.whatwg.org/#progressevent": {"displayText":"ProgressEvent","export":true,"for_":[],"level":"1","normative":true,"shortname":"xhr","spec":"xhr","status":"current","text":"ProgressEvent","type":"interface","url":"https://xhr.spec.whatwg.org/#progressevent"},
"https://xhr.spec.whatwg.org/#xmlhttprequest": {"displayText":"XMLHttpRequest","export":true,"for_":[],"level":"1","normative":true,"shortname":"xhr","spec":"xhr","status":"current","text":"XMLHttpRequest","type":"interface","url":"https://xhr.spec.whatwg.org/#xmlhttprequest"},
"https://xhr.spec.whatwg.org/#xmlhttprequesteventtarget": {"displayText":"XMLHttpRequestEventTarget","export":true,"for_":[],"level":"1","normative":true,"shortname":"xhr","spec":"xhr","status":"current","text":"XMLHttpRequestEventTarget","type":"interface","url":"https://xhr.spec.whatwg.org/#xmlhttprequesteventtarget"},
};

function mkRefHint(link, ref) {
    const linkText = link.textContent;
    let dfnTextElements = '';
    if (ref.displayText.toLowerCase() != linkText.toLowerCase()) {
        // Give the original term if it's being displayed in a different way.
        // But allow casing differences, they're insignificant.
        dfnTextElements =
            mk.li({},
                mk.b({}, "Term: "),
                mk.span({}, ref.displayText)
            );
    }
    const forList = ref.for_;
    let forListElements;
    if(forList.length == 0) {
        forListElements = [];
    } else if(forList.length == 1) {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.span({}, forList[0]),
        );
    } else {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.ul({},
                ...forList.map(forItem =>
                    mk.li({},
                        mk.span({}, forItem)
                    ),
                ),
            ),
        );
    }
    const url = ref.url;
    const safeUrl = encodeURIComponent(url);
    const hintPanel = mk.aside({
        class: "ref-hint",
        id: `ref-hint-for-${safeUrl}`,
        "data-for": url,
        "aria-labelled-by": `ref-hint-for-${safeUrl}`,
    },
        mk.ul({},
            dfnTextElements,
            mk.li({},
                mk.b({}, "URL: "),
                mk.a({ href: url, class: "ref" }, url),
            ),
            mk.li({},
                mk.b({}, "Type: "),
                mk.span({}, `${ref.type}`),
            ),
            mk.li({},
                mk.b({}, "Spec: "),
                mk.span({}, `${ref.spec ? ref.spec : ''}`),
            ),
            forListElements
        ),
    );
    hintPanel.forLink = link;
    setupRefHintEventListeners(link, hintPanel);
    return hintPanel;
}

function hideAllRefHints() {
    queryAll(".ref-hint").forEach(el=>hideRefHint(el));
}

function hideRefHint(refHint) {
    const link = refHint.forLink;
    link.setAttribute("aria-expanded", "false");
    if(refHint.teardownEventListeners) {
        refHint.teardownEventListeners();
    }
    refHint.remove();
}

function showRefHint(link) {
    if(link.classList.contains("dfn-link")) return;
    const url = link.getAttribute("href");
    const refHintKey = link.getAttribute("data-refhint-key");
    let key = url;
    if(refHintKey) {
        key = refHintKey + "_" + url;
    }
    const ref = refsData[key];
    if(!ref) return;

    hideAllRefHints(); // Only display one at this time.

    const refHint = mkRefHint(link, ref);
    append(document.body, refHint);
    link.setAttribute("aria-expanded", "true");
    positionRefHint(refHint);
}

function setupRefHintEventListeners(link, refHint) {
    if (refHint.teardownEventListeners) return;
    // Add event handlers to hide the refHint after the user moves away
    // from both the link and refHint, if not hovering either within one second.
    let timeout = null;
    const startHidingRefHint = (event) => {
        if (timeout) {
            clearTimeout(timeout);
        }
        timeout = setTimeout(() => {
            hideRefHint(refHint);
        }, 1000);
    }
    const resetHidingRefHint = (event) => {
        if (timeout) clearTimeout(timeout);
        timeout = null;
    };
    link.addEventListener("mouseleave", startHidingRefHint);
    link.addEventListener("mouseenter", resetHidingRefHint);
    link.addEventListener("blur", startHidingRefHint);
    link.addEventListener("focus", resetHidingRefHint);
    refHint.addEventListener("mouseleave", startHidingRefHint);
    refHint.addEventListener("mouseenter", resetHidingRefHint);
    refHint.addEventListener("blur", startHidingRefHint);
    refHint.addEventListener("focus", resetHidingRefHint);

    refHint.teardownEventListeners = () => {
        // remove event listeners
        resetHidingRefHint();
        link.removeEventListener("mouseleave", startHidingRefHint);
        link.removeEventListener("mouseenter", resetHidingRefHint);
        link.removeEventListener("blur", startHidingRefHint);
        link.removeEventListener("focus", resetHidingRefHint);
        refHint.removeEventListener("mouseleave", startHidingRefHint);
        refHint.removeEventListener("mouseenter", resetHidingRefHint);
        refHint.removeEventListener("blur", startHidingRefHint);
        refHint.removeEventListener("focus", resetHidingRefHint);
    };
}

function positionRefHint(refHint) {
    const link = refHint.forLink;
    const linkPos = getBounds(link);
    refHint.style.top = linkPos.bottom + "px";
    refHint.style.left = linkPos.left + "px";

    const panelPos = refHint.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
        refHint.style.left = newLeft + "px";
    }
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function showRefHintListener(e) {
    // If the target isn't in a link (or is a link),
    // just ignore it.
    let link = e.target.closest("a");
    if(!link) return;

    // If the target is in a ref-hint panel
    // (aka a link in the already-open one),
    // also just ignore it.
    if(link.closest(".ref-hint")) return;

    // Otherwise, show the panel for the link.
    showRefHint(link);
}

function hideAllHintsListener(e) {
    // If the click is inside a ref-hint panel, ignore it.
    if(e.target.closest(".ref-hint")) return;
    // Otherwise, close all the current panels.
    hideAllRefHints();
}

document.addEventListener("DOMContentLoaded", () => {
    document.body.addEventListener("mousedown", showRefHintListener);
    document.body.addEventListener("focus", showRefHintListener);

    document.body.addEventListener("click", hideAllHintsListener);
});

window.addEventListener("resize", () => {
    // Hide any open ref hint.
    hideAllRefHints();
});
}
</script>